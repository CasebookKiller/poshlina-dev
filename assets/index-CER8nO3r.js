var ho=Object.defineProperty;var uo=(r,e,t)=>e in r?ho(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var st=(r,e,t)=>uo(r,typeof e!="symbol"?e+"":e,t);import{r as w,c as Ut,j as n,L as go,f as Vt,m as Wt,K as Qt,o as po,a as He,S as it,C as je,P as mo,B as fo,w as De,x as bo,Q as xo,b as Kt,d as wo,J as yo,e as $o,A as ct,g as vo,h as Co,i as So,k as Ao,l as Mo,n as Xt,p as le,u as ko,T as jo,q as Ct,s as No,N as Do,t as Oo,y as St,v as Ie,z as Eo,D as Po,E as X,I as _o,F as Lo,G as We,H as Io,M as To,O as Bo,R as zo,U as Ro,V as qo,W as Fo,X as Ho,Z as Go,Y as ut,_ as Uo,$ as Qe,a0 as At,a1 as ye,a2 as Vo,a3 as Wo,a4 as Qo,a5 as Mt,a6 as Ko,a7 as Xo,a8 as Yo,a9 as Jo,aa as Zo,ab as ei}from"./vendor-BQUKYaUN.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const ae=({className:r,onClick:e,to:t,...o})=>{const s=w.useCallback(i=>{e==null||e(i);let a;if(typeof t=="string")a=t;else{const{search:g="",pathname:d="",hash:h=""}=t;a=`${d}?${g}#${h}`}const l=new URL(a,window.location.toString()),c=new URL(window.location.toString());(l.protocol!==c.protocol||l.host!==c.host)&&(i.preventDefault(),Ut(l.toString()))},[t,e]);return n.jsx(go,{...o,to:t,onClick:s,className:Vt(r,"link")})};//!!!!! NEED TO BE IMPROVED !!!!!
const te="cyan",pe=(r,e,t,o,s)=>{let i;typeof r=="string"?i=Number(r.replace(",",".")):i=Number(r);let a=0,l=0,c=0,u=0,g=0,d=0,h=0,v=0,f=0,x=0;if(e==="obsh"||e===""){i>0&&i<=1e5&&(h=4e3,a=h,c=1),i>1e5&&i<=3e5&&(u=1e5,g=i-u,h=4e3,d=3,a=g/100*d+h,c=2),i>3e5&&i<=5e5&&(u=3e5,g=i-u,h=1e4,d=2.5,a=g/100*d+h,c=3),i>5e5&&i<=1e6&&(u=5e5,g=i-u,h=15e3,d=2,a=g/100*d+h,c=4),i>1e6&&i<=3e6&&(u=1e6,g=i-u,h=25e3,d=1,a=g/100*d+h,c=5),i>3e6&&i<=8e6&&(u=3e6,g=i-u,h=45e3,d=.7,a=g/100*d+h,c=6),i>8e6&&i<=24e6&&(u=8e6,g=i-u,h=8e4,d=.35,a=g/100*d+h,c=7),i>24e6&&i<=5e7&&(u=24e6,g=i-u,h=136e3,d=.3,a=g/100*d+h,c=8),i>5e7&&i<=1e8&&(u=5e7,g=i-u,h=214e3,d=.2,a=g/100*d+h,c=9),i>1e8&&(u=1e8,g=i-u,h=314e3,d=.15,a=g/100*d+h,c=10),a>9e5&&(a=9e5);let m=25e3,p=a-m,y=a*.3;return t&&p>0?a=p:t&&(a=0),o&&(a-=y),v=p>0?p:0,f=a-y,{step:c,gosp:a.toFixed(0),base:u.toFixed(2),exceed:g.toFixed(2),percent:d.toFixed(2),fix:h.toFixed(2),discount30:y.toFixed(2),discount50:0,benefits:m,withBenefits:v.toFixed(2),withDiscount30:f.toFixed(2),withDiscount50:a.toFixed(2)}}else{i>0&&i<=1e5&&(h=1e4,l=h,c=1),i>1e5&&i<=1e6&&(u=1e5,g=i-u,h=1e4,d=5,l=g/100*d+h,c=2),i>1e6&&i<=1e7&&(u=1e6,g=i-u,h=55e3,d=3,l=g/100*d+h,c=3),i>1e7&&i<=5e7&&(u=1e7,g=i-u,h=325e3,d=1,l=(i-1e7)/100*d+h,c=4),i>5e7&&(u=5e7,g=i-u,h=725e3,d=.5,l=g/100*d+h,c=5),l>1e7&&(l=1e7);let m=55e3,p=l-m,y=l*.3,j=l*.5;return t&&p>0?l=p:t&&(l=0),o&&(l-=y),s&&(l-=j),v=p>0?p:0,f=l-y,x=l-j,{step:c,gosp:l.toFixed(0),base:u.toFixed(2),exceed:g.toFixed(2),percent:d.toFixed(2),fix:h.toFixed(2),discount30:y.toFixed(2),discount50:j.toFixed(2),benefits:m,withBenefits:v.toFixed(2),withDiscount30:f.toFixed(2),withDiscount50:x.toFixed(2)}}};function kt(r){const e=r.split(",");let t="";if(e.length>1){const o=e[0].replace(/ /g,""),s=e[1].slice(0,2);t=o+","+s}else t=r.replace(/ /g,"");return t}function O(r){let e=""+r;return e=e.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),e.indexOf(".")!==-1&&e.substring(e.indexOf("."),e.length).length===2&&(e+="0"),e.indexOf(",")!==-1&&e.substring(e.indexOf(","),e.length).length===2&&(e+="0"),e=e.replace(/^00\./,"0."),e=e.replace(/^00,/,"0."),e=e.replace(/\./g,","),e}function ti(r){navigator.clipboard.writeText(r)}async function oi(r){ti(r.text)}function gt(r){return r.indexOf("##")!=-1&&(r=r.substring(0,r.indexOf("##"))),r.indexOf("%23%23")!=-1&&(r=r.substring(0,r.indexOf("%23%23"))),r=r.replace(/%2C/g,",").replace(/&amp;/g,"&").replace(/%3B/g,";"),r.indexOf("&&")!=-1&&(r=r.substring(0,r.indexOf("&&"))),r.indexOf("h")!=-1&&(r=r.substring(0,r.indexOf("h"))),r.replace(/%20/g,"")}function jt(r,e){let t=e,o=t.substring(t.indexOf(r)+r.length);return o.indexOf("a")!==-1&&(o=o.substring(0,o.indexOf("a"))),o.indexOf("g")!==-1&&(o=o.substring(0,o.indexOf("g"))),o=o.replace(/[ntjrfh<>]/gi,""),o=o.replace(/u/gi,"+").replace(/i/gi,"/").replace(/m/gi,"*").replace(/o/gi,"(").replace(/e/gi,")"),o=o.replace(/w/gi,"00").replace(/k/gi,"000").replace(/c/gi,"0000").replace(/p/gi,"00000").replace(/b/gi,"000000").replace(/s/gi,"0000000").replace(/v/gi,"00000000").replace(/d/gi,"000000000"),o}const pt=r=>{let e=!1,t=!1,o=!1,s="",i="";return r.indexOf("n")!=-1?e=!0:r.indexOf("t")!=-1&&(t=!0),r.indexOf("g")!=-1&&(s=O(jt("g",r))),r.indexOf("j")!=-1?e=!0:r.indexOf("r")!=-1?t=!0:r.indexOf("f")!=-1&&(o=!0),r.indexOf("a")!=-1&&(i=O(jt("a",r))),{benefitsSwitch:e,discount30Switch:t,discount50Switch:o,sou:s,arb:i}};function Yt(r,e){return r.index<e.index?-1:r.index>e.index?1:0}function Nt(r){return r!=""?(r=""+r,r=r.replace(/\s/g,"").replace(/,/g,".").replace(/000000000/g,"d").replace(/00000000/g,"v").replace(/0000000/g,"s").replace(/000000/g,"b").replace(/00000/g,"p").replace(/0000/g,"c").replace(/000/g,"k").replace(/00/g,"w").replace(/\+/g,"u").replace(/\//g,"i").replace(/\*/g,"m").replace(/\(/g,"o").replace(/\)/g,"e"),/[-uimoe]/.test(r)!=!0&&(r=r.replace(/\.(\d)0$/,".$1")),r):""}function rt(r,e,t,o,s,i){const a="https://t.me/tgfee_bot/app?startapp=";console.log("%csou: %o",`color: ${te}`,r),console.log("%carb: %o",`color: ${te}`,e),console.log("%cbenefits: %o",`color: ${te}`,t),console.log("%cdiscount30: %o",`color: ${te}`,o),console.log("%cdiscount50: %o",`color: ${te}`,s),console.log("%cuserid: %o",`color: ${te}`,i);const l=i!=""?"bro"+i:"";let c="",u=r,g="",d=e;u!=""&&(c+="g"+Nt(u));const h=u.replace(/ /g,"");Number(h)>0&&t?c+="n":Number(h)>0&&o&&(c+="t"),c!=""&&(c=""+a+"clc"+c+"h");const v=d.replace(/ /g,"");return d!=""&&(g+="a"+Nt(d)),Number(v)>0&&t?g+="j":Number(v)>0&&o?g+="r":Number(v)>0&&s&&(g+="f"),g!=""&&(g=""+a+"clc"+g+"h"),c!=""?c+l:g!=""?g+l:""}function mt(r){let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};if(r!==""){console.log("%cПараметры запуска: %o",`color: ${te}`,r);const t=[{name:"clc",index:0,value:""},{name:"bro",index:0,value:""}];let o=[];const s=(r==null?void 0:r.split(/clc|bro/))??[];if(s.length<2)return;t.forEach(i=>{r!=null&&r.includes(i.name)&&(i.index=r.indexOf(i.name))}),o=t.sort(Yt),o.forEach(i=>{i.value=s[o.findIndex(a=>a.name===i.name)+1]}),console.log("%cOrdered Params: %o",`color: ${te}`,o),o.forEach(i=>{i.name==="clc"&&(e=pt(gt(i.value)),console.log("%cclc: %o",`color: ${te}`,e))})}else console.log("%cБез параметров запуска!",`color: ${te}`);return e}function Jt(r,e){let t=[];const o=[{name:"clc",index:0,value:""},{name:"bro",index:0,value:""}];if(!(e.length<2&&e.length!==0))return e.length!==0&&(o.forEach(s=>{r!=null&&r.includes(s.name)&&(s.index=r.indexOf(s.name))}),t=o.sort(Yt),t.forEach(s=>{s.value=e[t.findIndex(i=>i.name===s.name)+1]}),console.log("%cOrdered Params: %o",`color: ${te}`,t)),t}const Zt="cyan";Wt();const qe=Qt;console.log("%cminiApp: %o",`color: ${Zt}`,qe);let z=!1;qe.isSupported()&&!qe.isMounted()&&(qe.mount(),z=qe.isDark());console.log("Dark Mode: ",z);const q=po;try{q.mount(),q.bindCssVars()}catch(r){console.log("%cerror: %o",`color: ${Zt}`,r)}const W=z?"#69c2d0":q.accentTextColor(),Ze=z?"#ee686f":q.destructiveTextColor(),ce=z?"#213035":q.backgroundColor(),ee=z?"#232e3c":q.secondaryBackgroundColor();z||q.headerBackgroundColor();const et=z?"#ffffff":q.textColor(),ke=z?"#59bccd":q.buttonColor();z||q.buttonTextColor();const se=z?"#7b8d92":q.hintColor();z||q.subtitleTextColor();const Dt=z?"#63b7c4":q.linkColor(),ii=z?"#7acedc":q.sectionHeaderTextColor();z||q.sectionBackgroundColor();z||q.sectionSeparatorColor();z||q.bottomBarBgColor();const si="#ffffff1a",eo='system-ui, -apple-system, BlinkMacSystemFont, "Roboto", "Apple Color Emoji", "Helvetica Neue", sans-serif',ri=600,ni=["qr_code","micro_qr_code","rm_qr_code","maxi_code","pdf417","aztec","data_matrix","matrix_codes","dx_film_edge","databar","databar_expanded","codabar","code_39","code_93","code_128","ean_8","ean_13","itf"],tt="cyan",Ot=!1,ai=()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor",style:{marginTop:"8px",width:"30px",height:"30px"},children:n.jsx("g",{id:"Switch_Camera","data-name":"Switch Camera",children:n.jsx("path",{d:"M42,21.2657V10a5.0059,5.0059,0,0,0-5-5H32.7544l-.77-2.0537A3.0147,3.0147,0,0,0,29.1758,1H18.8242a3.0158,3.0158,0,0,0-2.8091,1.9463L15.2456,5H11a5.0059,5.0059,0,0,0-5,5V21.2657C2.7816,23.7242,1,26.8048,1,30c0,7.1893,8.6793,13.048,20.1413,13.894L19.4,45.2a1,1,0,1,0,1.2,1.6l4-3a1,1,0,0,0,.1069-1.5068l-4-4A1,1,0,0,0,19.293,39.707l2.2024,2.2024C11.1349,41.1909,3,36.0684,3,30a8.59,8.59,0,0,1,3-6.113V26a5.0059,5.0059,0,0,0,5,5H37a5.0059,5.0059,0,0,0,5-5V23.887A8.59,8.59,0,0,1,45,30c0,5.4756-6.7861,10.3838-16.1362,11.67a1,1,0,0,0,.1348,1.99.9423.9423,0,0,0,.1377-.01C39.6543,42.2041,47,36.5908,47,30,47,26.8048,45.2184,23.7242,42,21.2657ZM40,26a3.0033,3.0033,0,0,1-3,3H11a3.0033,3.0033,0,0,1-3-3V10a3.0033,3.0033,0,0,1,3-3h4.9385a1.0008,1.0008,0,0,0,.9365-.6484l1.0127-2.7021A1.0055,1.0055,0,0,1,18.8242,3H29.1758a1.0043,1.0043,0,0,1,.936.6494L31.125,6.3516A1.0008,1.0008,0,0,0,32.0615,7H37a3.0033,3.0033,0,0,1,3,3ZM24,10a8,8,0,1,0,8,8A8.0092,8.0092,0,0,0,24,10Zm0,14a6,6,0,1,1,6-6A6.0066,6.0066,0,0,1,24,24Z"})})}),li=()=>{var he;const[r,e]=w.useState({}),[t,o]=w.useState(""),[s,i]=w.useState("/"),[a,l]=w.useState(""),[c,u]=w.useState(!1),d=(he=De().initData)==null?void 0:he.startParam;console.log("%ccode: %o",`color: ${tt}`,r);let h=[];const v=(d==null?void 0:d.split(/clc|bro/))??[];h=Jt(d??"",v)??[],w.useEffect(()=>{h.forEach(R=>{if(R.name==="clc"){let A=pt(gt(R.value)),V="";e(A),console.log("%cclc: %o",`color: ${tt}`,A),A.sou!==""?(V=A.sou,l("sou")):A.arb!==""&&(V=A.arb,l("arb")),i("/starturl"),o(V)}})},[]);const f=n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"Приложение открыто по ссылке с расчетом"}),n.jsx("div",{children:a==="sou"?" для суда общей юрисдикции":a==="arb"&&" для арбитражного суда"}),n.jsxs("div",{children:["и с ценой иска: ",t," руб."]})]}),x=bo(),[m,p]=w.useState(0),[y,j]=w.useState(void 0),[S,ie]=w.useState("");return w.useEffect(()=>{x&&x.length>0},[x,m]),n.jsxs(it,{header:"Расчет государственной пошлины",footer:"Налоговый кодекс РФ предусматривает разные варианты расчетов в завсимости от вида суда",children:[n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"link",onClick:()=>u(!0),children:n.jsx(je,{before:n.jsx(xo,{size:30}),subtitle:"Отсканируйте QR-код с расчетом",children:"QR-код с расчётом"})}),n.jsx(Kt,{children:n.jsxs(wo,{visible:c,showCloseButton:!0,closeOnSwipe:!0,onMaskClick:()=>{u(!1)},onClose:()=>{u(!1)},bodyStyle:{height:"90vh",backgroundColor:ee,borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},children:[n.jsxs("div",{style:{margin:"45px 30px"},children:[n.jsx("div",{onClick:()=>{var R,A,V;x&&x.length>0&&(m===x.length-1?p(0):p(m+1),m===x.length-1?(p(0),j((R=x[0])==null?void 0:R.deviceId)):(p(m+1),j((A=x[m+1])==null?void 0:A.deviceId))),console.log("deviceId: ",(V=x[m])==null?void 0:V.deviceId)},style:{minWidth:"100%",minHeight:"100%",position:"relative"},children:n.jsx(yo,{formats:ni,constraints:{deviceId:y},onScan:R=>{R.forEach(A=>{A.format==="qr_code"&&ie(JSON.stringify(A.rawValue))}),console.log(R)},onError:R=>console.error(R),components:{audio:!1,onOff:!0,torch:!0,zoom:!0,finder:!1,tracker:$o},allowMultiple:!0,scanDelay:2e3,paused:!1,styles:{container:{width:"100%",height:"100%",borderRadius:"8px"},video:{width:"100%",height:"100%",borderRadius:"8px"}}})}),n.jsx("div",{style:{position:"absolute",top:"50px",left:"50px",zIndex:100,stroke:ce},children:n.jsx(ai,{})})]}),n.jsx(ct,{children:S.toString().includes("https://t.me/tgfee_bot/app?startapp=")&&n.jsx(vo,{style:{margin:"30px"},children:n.jsx("div",{children:S.toString().replace(/"/g,"")})})})]})})]}),s!=="/"&&n.jsx(ae,{to:s,children:n.jsx(je,{before:n.jsx(Co,{size:30}),subtitle:f,children:"Расчет по ссылке"})})]})},ci=()=>(console.log("%cIndexPage: %o",`color: ${tt}`,window.location),console.log("%chistory: %o",`color: ${tt}`,history),n.jsx(n.Fragment,{children:n.jsxs(He,{children:[n.jsx(li,{}),n.jsxs(it,{footer:"Расчёт размера государственной пошлины производится по новым правилам, начиная с 09.09.2024.",children:[n.jsx(ae,{to:"/sou",children:n.jsx(je,{before:n.jsx(mo,{size:30}),subtitle:"Статья 333.19 НК РФ",children:"Общая юрисдикция и мировые суды"})}),n.jsx(ae,{to:"/arb",children:n.jsx(je,{before:n.jsx(fo,{size:30}),subtitle:"Статья 333.21 НК РФ",children:"Арбитражные суды"})})]}),Ot,Ot]})})),hi=({color:r,className:e,...t})=>n.jsxs("span",{...t,className:Vt("rgb",e),children:[n.jsx("i",{className:"rgb__icon",style:{backgroundColor:r}}),r]}),fe=({header:r,rows:e})=>n.jsx(it,{header:r,children:e.map((t,o)=>{let s;return t.value===void 0?s=n.jsx("i",{children:"пусто"}):"type"in t?s=n.jsx(ae,{to:t.value,children:"Открыть"}):typeof t.value=="string"?s=So(t.value)?n.jsx(hi,{color:t.value}):t.value:typeof t.value=="boolean"?s=n.jsx(Ao,{checked:t.value,disabled:!0}):s=t.value,n.jsx(je,{className:"display-data__line",subhead:t.title,readOnly:!0,multiline:!0,children:n.jsx("span",{className:"display-data__line-value",children:s})},o)})});function Et(r){return[{title:"id",value:r.id.toString()},{title:"username",value:r.username},{title:"photo_url",value:r.photoUrl},{title:"last_name",value:r.lastName},{title:"first_name",value:r.firstName},{title:"is_bot",value:r.isBot},{title:"is_premium",value:r.isPremium},{title:"language_code",value:r.languageCode},{title:"allows_to_write_to_pm",value:r.allowsWriteToPm},{title:"added_to_attachment_menu",value:r.addedToAttachmentMenu}]}const di=()=>{console.log("InitDataPage: ",window.location),console.log("history:",history);const r=De().initDataRaw,e=Mo(r),t=w.useMemo(()=>{if(!e||!r)return;console.log(e);const{hash:a,queryId:l,chatType:c,chatInstance:u,authDate:g,startParam:d,canSendAfter:h}=e;return[{title:"raw",value:r},{title:"auth_date",value:g.toLocaleString()},{title:"auth_date (raw)",value:g.getTime()/1e3},{title:"hash",value:a},{title:"can_send_after (raw)",value:h},{title:"query_id",value:l},{title:"start_param",value:d},{title:"chat_type",value:c},{title:"chat_instance",value:u}]},[e,r]),o=w.useMemo(()=>e&&e.user?Et(e.user):void 0,[e]),s=w.useMemo(()=>e&&e.receiver?Et(e.receiver):void 0,[e]),i=w.useMemo(()=>{if(!(e!=null&&e.chat))return;const{id:a,title:l,type:c,username:u,photoUrl:g}=e.chat;return[{title:"id",value:a.toString()},{title:"title",value:l},{title:"type",value:c},{title:"username",value:u},{title:"photo_url",value:g}]},[e]);return t?n.jsxs(He,{children:[n.jsx(fe,{header:"Данные инициализации",rows:t}),o&&n.jsx(fe,{header:"Пользователь",rows:o}),s&&n.jsx(fe,{header:"Получатель",rows:s}),i&&n.jsx(fe,{header:"Чат",rows:i})]}):n.jsx(Xt,{header:"Ой",description:"Приложение было запущено с отсутствующими данными инициализации",children:n.jsx("img",{alt:"Наклейка Telegram",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})})},ui=()=>{const r=De();return n.jsx(He,{children:n.jsx(fe,{rows:[{title:"tgWebAppPlatform",value:r.platform},{title:"tgWebAppShowSettings",value:r.showSettings},{title:"tgWebAppVersion",value:r.version},{title:"tgWebAppBotInline",value:r.botInline},{title:"tgWebAppStartParam",value:r.startParam},{title:"tgWebAppData",type:"link",value:"/init-data"},{title:"tgWebAppThemeParams",type:"link",value:"/theme-params"}]})})},gi=()=>(console.log("ThemeParamsPage: ",window.location),console.log("history:",history),le.mount(),n.jsx(He,{children:n.jsx(fe,{rows:Object.entries(le.state()).map(([r,e])=>({title:r.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`).replace(/background/,"bg"),value:e}))})})),Pt="cyan",pi=()=>{console.log("%cTONConnectPage: %o",`color: ${Pt}`,window.location),console.log("%chistory: %o",`color: ${Pt}`,history);const r=ko();if(!r)return n.jsx(Xt,{className:"ton-connect-page__placeholder",header:"TON Connect",description:n.jsxs(n.Fragment,{children:[n.jsx(jo,{children:"Для отображения данных, связанных с подключением, необходимо подключить свой кошелек"}),n.jsx(Ct,{className:"ton-connect-page__button"})]})});const{account:{chain:e,publicKey:t,address:o},device:{appName:s,appVersion:i,maxProtocolVersion:a,platform:l,features:c}}=r;return n.jsxs(He,{children:["imageUrl"in r&&n.jsxs(n.Fragment,{children:[n.jsx(it,{children:n.jsx(je,{before:n.jsx(No,{src:r.imageUrl,alt:"Логотип провайдера",width:60,height:60}),after:n.jsx(Do,{children:"О кошельке"}),subtitle:r.appName,onClick:u=>{u.preventDefault(),Ut(r.aboutUrl)},children:n.jsx(Oo,{level:"3",children:r.name})})}),n.jsx(Ct,{className:"ton-connect-page__button-connected"})]}),n.jsx(fe,{header:"Учетная запись",rows:[{title:"Адрес",value:o},{title:"Цепь",value:e},{title:"Публичный ключ",value:t}]}),n.jsx(fe,{header:"Устройство",rows:[{title:"Наименование Приложения",value:s},{title:"Версия Приложения",value:i},{title:"Максимальная версия протокола",value:a},{title:"Платформа",value:l},{title:"Особенности",value:c.map(u=>typeof u=="object"?u.name:void 0).filter(u=>u).join(", ")}]})]})},mi=n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 56 56",fill:"none",children:[n.jsx("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z",fill:"#5288C1"}),n.jsx("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5381 22.4861C43.3045 19.4251 41.0761 15.6277 37.5627 15.6277H37.5603ZM26.2548 36.8068L23.6847 31.8327L17.4833 20.7414C17.0742 20.0315 17.5795 19.1218 18.4362 19.1218H26.2524V36.8092L26.2548 36.8068ZM38.5108 20.739L32.3118 31.8351L29.7417 36.8068V19.1194H37.5579C38.4146 19.1194 38.9199 20.0291 38.5108 20.739Z",fill:"white"})]}),fi={path:"/",Component:ci,title:"Главная"},bi={path:"/init-data",Component:di,title:"Данные инициализации"},xi={path:"/theme-params",Component:gi,title:"Параметры темы"},wi={path:"/launch-params",Component:ui,title:"Параметры запуска"},yi={path:"/ton-connect",Component:pi,title:"TON Connect",icon:mi},ht=[];ht.push(fi,bi,xi,wi,yi);const $i=[{full:"",short:""},{full:"от 0 до 100 000 руб. = 4 000 руб.",step:"от 0 до 100 000 руб."},{full:"от 100 001 до 300 000 руб. = 4 000 руб. + 3% от суммы свыше 100 000 руб.",step:"от 100 001 до 300 000 руб."},{full:"от 300 001 до 500 000 руб. = 10 000 руб. + 2,5% от суммы свыше 300 000 руб.",step:"от 300 001 до 500 000 руб."},{full:"от 500 001 до 1 000 000 руб. = 15 000 руб. + 2% от суммы свыше 500 000 руб.",step:"от 500 001 до 1 000 000 руб."},{full:"от 1 000 001 до 3 000 000 руб. = 25 000 руб. + 1% от суммы свыше 1 000 000 руб.",step:"1 000 001 до 3 000 000 руб."},{full:"от 3 000 001 до 8 000 000 руб. = 45 000 руб. + 0,7% от суммы свыше 3 000 000 руб.",step:"от 3 000 001 до 8 000 000 руб."},{full:"от 8 000 001 до 24 000 000 руб. = 80 000 руб. + 0,35% от суммы свыше 8 000 000 руб.",step:"от 8 000 001 до 24 000 000 руб."},{full:"от 24 000 001 руб. до 50 000 000 руб. = 136 000 руб. + 0,3% от суммы свыше 24 000 000 руб.",step:"от 24 000 001 руб. до 50 000 000 руб."},{full:"от 50 000 001 руб. до 100 000 000 руб. = 214 000 руб. + 0,2% от суммы свыше 50 000 000 руб.",step:"от 50 000 001 руб. до 100 000 000 руб."},{full:"от 100 000 001 руб. = 314 000 руб. + 0,15% от суммы свыше 100 000 000 руб., но не более 900 000 руб.",step:"от 100 000 001 руб."}],vi=[{full:"",step:""},{full:"от 0 до 100 000 руб. = 10 000 руб.",step:"от 0 до 100 000 руб."},{full:"от 100 001 до 1 000 000 руб. = 10 000 руб. + 5% от суммы свыше 100 000 руб.",step:"от 100 001 до 1 000 000 руб."},{full:"от 1 000 001 до 10 000 000 руб. = 55 000 руб. + 3% от суммы свыше 1 000 000 руб.",step:"от 1 000 001 до 10 000 000 руб."},{full:"от 10 000 001 до 50 000 000 руб. = 325 000 руб. + 1% от суммы свыше 10 000 000 руб.",step:"от 10 000 001 до 50 000 000 руб."},{full:"от 50 000 001 руб. = 725 000 руб. + 0,5% от суммы свыше 50 000 000 руб., но не более 10 000 000 руб.",step:"от 50 000 001 руб."}];class _t{constructor(){this.buffer=[],this.length=0}getBuffer(){return this.buffer}getLengthInBits(){return this.length}toString(){let e="";for(let t=0;t<this.getLengthInBits();t+=1)e+=this.getBit(t)?"1":"0";return e}getBit(e){return(this.buffer[~~(e/8)]>>>7-e%8&1)==1}put(e,t){for(let o=0;o<t;o+=1)this.putBit((e>>>t-o-1&1)==1)}putBit(e){this.length==8*this.buffer.length&&this.buffer.push(0),e&&(this.buffer[~~(this.length/8)]|=128>>>this.length%8),this.length+=1}}var oe,de=oe||(oe={});de[de.L=1]="L",de[de.M=0]="M",de[de.Q=3]="Q",de[de.H=2]="H";class _{constructor(){throw"error"}static glog(e){if(1>e)throw"log("+e+")";return _.LOG_TABLE[e]}static gexp(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return _.EXP_TABLE[e]}}_.EXP_TABLE=[],_.LOG_TABLE=[];for(let r=0;256>r;r+=1)_.EXP_TABLE.push(8>r?1<<r:_.EXP_TABLE[r-4]^_.EXP_TABLE[r-5]^_.EXP_TABLE[r-6]^_.EXP_TABLE[r-8]),_.LOG_TABLE.push(0);for(let r=0;255>r;r+=1)_.LOG_TABLE[_.EXP_TABLE[r]]=r;_.initialize=void 0;class Ne{constructor(e,t=0){let o=0;for(;o<e.length&&e[o]==0;)o+=1;this.num=[];let s=e.length-o;for(let i=0;i<s;i+=1)this.num.push(e[o+i]);for(e=0;e<t;e+=1)this.num.push(0)}getAt(e){return this.num[e]}getLength(){return this.num.length}toString(){let e="";for(let t=0;t<this.getLength();t+=1)0<t&&(e+=","),e+=this.getAt(t);return e.toString()}toLogString(){let e="";for(let t=0;t<this.getLength();t+=1)0<t&&(e+=","),e+=_.glog(this.getAt(t));return e.toString()}multiply(e){let t=[];for(var o=this.getLength()+e.getLength()-1,s=0;s<o;s+=1)t.push(0);for(o=0;o<this.getLength();o+=1)for(s=0;s<e.getLength();s+=1)t[o+s]^=_.gexp(_.glog(this.getAt(o))+_.glog(e.getAt(s)));return new Ne(t)}mod(e){if(0>this.getLength()-e.getLength())return this;let t=_.glog(this.getAt(0))-_.glog(e.getAt(0)),o=[];for(var s=0;s<this.getLength();s+=1)o.push(this.getAt(s));for(s=0;s<e.getLength();s+=1)o[s]^=_.gexp(_.glog(e.getAt(s))+t);return new Ne(o).mod(e)}}var L,ue=L||(L={});ue[ue.MODE_NUMBER=1]="MODE_NUMBER",ue[ue.MODE_ALPHA_NUM=2]="MODE_ALPHA_NUM",ue[ue.MODE_8BIT_BYTE=4]="MODE_8BIT_BYTE",ue[ue.MODE_KANJI=8]="MODE_KANJI";class Ge{constructor(e,t){this.mode=e,this.data=t}getMode(){return this.mode}getData(){return this.data}getLengthInBits(e){if(1<=e&&10>e)switch(this.mode){case L.MODE_NUMBER:return 10;case L.MODE_ALPHA_NUM:return 9;case L.MODE_8BIT_BYTE:case L.MODE_KANJI:return 8;default:throw"mode:"+this.mode}else if(27>e)switch(this.mode){case L.MODE_NUMBER:return 12;case L.MODE_ALPHA_NUM:return 11;case L.MODE_8BIT_BYTE:return 16;case L.MODE_KANJI:return 10;default:throw"mode:"+this.mode}else{if(!(41>e))throw"typeNumber:"+e;switch(this.mode){case L.MODE_NUMBER:return 14;case L.MODE_ALPHA_NUM:return 13;case L.MODE_8BIT_BYTE:return 16;case L.MODE_KANJI:return 12;default:throw"mode:"+this.mode}}}}class Lt extends Ge{constructor(e,t){super(L.MODE_8BIT_BYTE,e),this.stringToBytes=t}write(e){let t=this.stringToBytes(this.getData());for(let o=0;o<t.length;o+=1)e.put(t[o],8)}getLength(){return this.stringToBytes(this.getData()).length}}class Fe extends Ge{constructor(e){super(L.MODE_ALPHA_NUM,e)}write(e){let t=this.getData(),o=0;for(;o+1<t.length;)e.put(45*Fe.getCode(t.charAt(o))+Fe.getCode(t.charAt(o+1)),11),o+=2;o<t.length&&e.put(Fe.getCode(t.charAt(o)),6)}getLength(){return this.getData().length}static getCode(e){if("0"<=e&&"9">=e)return e.charCodeAt(0)-48;if("A"<=e&&"Z">=e)return e.charCodeAt(0)-65+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}}}class Ci extends Ge{constructor(e,t){super(L.MODE_KANJI,e),this.stringToBytes=t}write(e){let t=this.stringToBytes(this.getData()),o=0;for(;o+1<t.length;){let s=(255&t[o])<<8|255&t[o+1];if(33088<=s&&40956>=s)s-=33088;else{if(!(57408<=s&&60351>=s))throw"illegal char at "+(o+1)+"/"+s;s-=49472}s=192*(s>>>8&255)+(255&s),e.put(s,13),o+=2}if(o<t.length)throw"illegal char at "+(o+1)}getLength(){return this.stringToBytes(this.getData()).length/2}}class Me extends Ge{constructor(e){super(L.MODE_NUMBER,e)}write(e){let t=this.getData(),o=0;for(;o+2<t.length;)e.put(Me.strToNum(t.substring(o,o+3)),10),o+=3;o<t.length&&(t.length-o==1?e.put(Me.strToNum(t.substring(o,o+1)),4):t.length-o==2&&e.put(Me.strToNum(t.substring(o,o+2)),7))}getLength(){return this.getData().length}static strToNum(e){let t=0;for(let o=0;o<e.length;o+=1)t=10*t+Me.chatToNum(e.charAt(o));return t}static chatToNum(e){if("0"<=e&&"9">=e)return e.charCodeAt(0)-48;throw"illegal char :"+e}}var re,H=re||(re={});H[H.PATTERN000=0]="PATTERN000",H[H.PATTERN001=1]="PATTERN001",H[H.PATTERN010=2]="PATTERN010",H[H.PATTERN011=3]="PATTERN011",H[H.PATTERN100=4]="PATTERN100",H[H.PATTERN101=5]="PATTERN101",H[H.PATTERN110=6]="PATTERN110",H[H.PATTERN111=7]="PATTERN111";class M{constructor(){throw"error"}static getPatternPosition(e){return M.PATTERN_POSITION_TABLE[e-1]}static getMaxLength(e,t,o){switch(o){case oe.L:o=0;break;case oe.M:o=1;break;case oe.Q:o=2;break;case oe.H:o=3;break;default:throw"e:"+o}switch(t){case L.MODE_NUMBER:t=0;break;case L.MODE_ALPHA_NUM:t=1;break;case L.MODE_8BIT_BYTE:t=2;break;case L.MODE_KANJI:t=3;break;default:throw"m:"+t}return M.MAX_LENGTH[e-1][o][t]}static getErrorCorrectPolynomial(e){let t=new Ne([1]);for(let o=0;o<e;o+=1)t=t.multiply(new Ne([1,_.gexp(o)]));return t}static getMaskFunc(e){switch(e){case re.PATTERN000:return(t,o)=>(t+o)%2==0;case re.PATTERN001:return t=>t%2==0;case re.PATTERN010:return(t,o)=>o%3==0;case re.PATTERN011:return(t,o)=>(t+o)%3==0;case re.PATTERN100:return(t,o)=>(~~(t/2)+~~(o/3))%2==0;case re.PATTERN101:return(t,o)=>t*o%2+t*o%3==0;case re.PATTERN110:return(t,o)=>(t*o%2+t*o%3)%2==0;case re.PATTERN111:return(t,o)=>(t*o%3+(t+o)%2)%2==0;default:throw"mask:"+e}}static getLostPoint(e){let t=e.getModuleCount(),o=0;for(var s=0;s<t;s+=1)for(var i=0;i<t;i+=1){var a=0;let l=e.isDark(s,i);for(let c=-1;1>=c;c+=1)if(!(0>s+c||t<=s+c))for(let u=-1;1>=u;u+=1)0>i+u||t<=i+u||(c!=0||u!=0)&&l==e.isDark(s+c,i+u)&&(a+=1);5<a&&(o+=3+a-5)}for(s=0;s<t-1;s+=1)for(i=0;i<t-1;i+=1)a=0,e.isDark(s,i)&&(a+=1),e.isDark(s+1,i)&&(a+=1),e.isDark(s,i+1)&&(a+=1),e.isDark(s+1,i+1)&&(a+=1),(a==0||a==4)&&(o+=3);for(s=0;s<t;s+=1)for(i=0;i<t-6;i+=1)e.isDark(s,i)&&!e.isDark(s,i+1)&&e.isDark(s,i+2)&&e.isDark(s,i+3)&&e.isDark(s,i+4)&&!e.isDark(s,i+5)&&e.isDark(s,i+6)&&(o+=40);for(s=0;s<t;s+=1)for(i=0;i<t-6;i+=1)e.isDark(i,s)&&!e.isDark(i+1,s)&&e.isDark(i+2,s)&&e.isDark(i+3,s)&&e.isDark(i+4,s)&&!e.isDark(i+5,s)&&e.isDark(i+6,s)&&(o+=40);for(s=0,i=0;i<t;i+=1)for(a=0;a<t;a+=1)e.isDark(a,i)&&(s+=1);return o+Math.abs(100*s/t/t-50)/5*10}static getBCHTypeInfo(e){let t=e<<10;for(;0<=M.getBCHDigit(t)-M.getBCHDigit(M.G15);)t^=M.G15<<M.getBCHDigit(t)-M.getBCHDigit(M.G15);return(e<<10|t)^M.G15_MASK}static getBCHTypeNumber(e){let t=e<<12;for(;0<=M.getBCHDigit(t)-M.getBCHDigit(M.G18);)t^=M.G18<<M.getBCHDigit(t)-M.getBCHDigit(M.G18);return e<<12|t}static getBCHDigit(e){let t=0;for(;e!=0;)t+=1,e>>>=1;return t}}M.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],M.MAX_LENGTH=[[[41,25,17,10],[34,20,14,8],[27,16,11,7],[17,10,7,4]],[[77,47,32,20],[63,38,26,16],[48,29,20,12],[34,20,14,8]],[[127,77,53,32],[101,61,42,26],[77,47,32,20],[58,35,24,15]],[[187,114,78,48],[149,90,62,38],[111,67,46,28],[82,50,34,21]],[[255,154,106,65],[202,122,84,52],[144,87,60,37],[106,64,44,27]],[[322,195,134,82],[255,154,106,65],[178,108,74,45],[139,84,58,36]],[[370,224,154,95],[293,178,122,75],[207,125,86,53],[154,93,64,39]],[[461,279,192,118],[365,221,152,93],[259,157,108,66],[202,122,84,52]],[[552,335,230,141],[432,262,180,111],[312,189,130,80],[235,143,98,60]],[[652,395,271,167],[513,311,213,131],[364,221,151,93],[288,174,119,74]]],M.G15=1335,M.G18=7973,M.G15_MASK=21522;class ne{constructor(e,t){this.totalCount=e,this.dataCount=t}getDataCount(){return this.dataCount}getTotalCount(){return this.totalCount}static getRSBlocks(e,t){t=(e=ne.getRsBlockTable(e,t)).length/3;let o=[];for(let s=0;s<t;s+=1){let i=e[3*s],a=e[3*s+1],l=e[3*s+2];for(let c=0;c<i;c+=1)o.push(new ne(a,l))}return o}static getRsBlockTable(e,t){switch(t){case oe.L:return ne.RS_BLOCK_TABLE[4*(e-1)];case oe.M:return ne.RS_BLOCK_TABLE[4*(e-1)+1];case oe.Q:return ne.RS_BLOCK_TABLE[4*(e-1)+2];case oe.H:return ne.RS_BLOCK_TABLE[4*(e-1)+3]}throw"tn:"+e+"/ecl:"+t}}ne.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];let Si=Array(41).fill(0).map((r,e)=>e);var be,Ke=be||(be={});Ke.L="L",Ke.M="M",Ke.Q="Q",Ke.H="H";var Z,Te=Z||(Z={});Te.numeric="numeric",Te.alphanumeric="alphanumeric",Te.byte="byte",Te.kanji="kanji",Te.unicode="unicode";class K{constructor(e=0,t=be.L){this.modules=[],this.moduleCount=0,this.typeNumber=e,this.errorCorrectLevel=oe[t],this.qrDataList=[]}getTypeNumber(){return this.typeNumber}setTypeNumber(e){this.typeNumber=e}getErrorCorrectLevel(){return this.errorCorrectLevel}setErrorCorrectLevel(e){this.errorCorrectLevel=e}clearData(){this.qrDataList=[]}addData(e,t=Z.byte){if(e instanceof Ge)this.qrDataList.push(e);else{if(typeof e!="string")throw typeof e;switch(t){case Z.numeric:this.qrDataList.push(new Me(e));break;case Z.alphanumeric:this.qrDataList.push(new Fe(e));break;case Z.byte:this.qrDataList.push(new Lt(e,K.stringToBytesFuncs.default));break;case Z.unicode:this.qrDataList.push(new Lt(e,K.stringToBytesFuncs.UTF8));break;case Z.kanji:this.qrDataList.push(new Ci(e,K.stringToBytesFuncs.SJIS));break;default:throw"mode:"+t}}}isDark(e,t){return this.modules[e][t]!=null&&this.modules[e][t]}getModuleCount(){return this.moduleCount}make(){if(1>this.typeNumber){let o=1;for(;40>o;o++){let s=ne.getRSBlocks(o,this.errorCorrectLevel),i=new _t;for(var e=0;e<this.qrDataList.length;e++){var t=this.qrDataList[e];i.put(t.getMode(),4),i.put(t.getLength(),t.getLengthInBits(o)),t.write(i)}for(e=0,t=0;t<s.length;t++)e+=s[t].getDataCount();if(i.getLengthInBits()<=8*e)break}this.typeNumber=o}this.makeImpl(!1,this.getBestMaskPattern())}getBestMaskPattern(){let e=0,t=0;for(let o=0;8>o;o+=1){this.makeImpl(!0,o);let s=M.getLostPoint(this);(o==0||e>s)&&(e=s,t=o)}return t}makeImpl(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=[];for(let o=0;o<this.moduleCount;o+=1){this.modules.push([]);for(let s=0;s<this.moduleCount;s+=1)this.modules[o].push(null)}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),e=K.createData(this.typeNumber,this.errorCorrectLevel,this.qrDataList),this.mapData(e,t)}mapData(e,t){let o=-1,s=this.moduleCount-1,i=7,a=0;t=M.getMaskFunc(t);for(let l=this.moduleCount-1;0<l;l-=2)for(l==6&&--l;;){for(let c=0;2>c;c+=1)if(this.modules[s][l-c]==null){let u=!1;a<e.length&&(u=(e[a]>>>i&1)==1),t(s,l-c)&&(u=!u),this.modules[s][l-c]=u,--i,i==-1&&(a+=1,i=7)}if(s+=o,0>s||this.moduleCount<=s){s-=o,o=-o;break}}}setupPositionAdjustPattern(){let e=M.getPatternPosition(this.typeNumber);for(let t=0;t<e.length;t+=1)for(let o=0;o<e.length;o+=1){let s=e[t],i=e[o];if(this.modules[s][i]==null)for(let a=-2;2>=a;a+=1)for(let l=-2;2>=l;l+=1)this.modules[s+a][i+l]=a==-2||a==2||l==-2||l==2||a==0&&l==0}}setupPositionProbePattern(e,t){for(let o=-1;7>=o;o+=1)for(let s=-1;7>=s;s+=1)-1>=e+o||this.moduleCount<=e+o||-1>=t+s||this.moduleCount<=t+s||(this.modules[e+o][t+s]=0<=o&&6>=o&&(s==0||s==6)||0<=s&&6>=s&&(o==0||o==6)||2<=o&&4>=o&&2<=s&&4>=s)}setupTimingPattern(){for(var e=8;e<this.moduleCount-8;e+=1)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(e=8;e<this.moduleCount-8;e+=1)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)}setupTypeNumber(e){let t=M.getBCHTypeNumber(this.typeNumber);for(var o=0;18>o;o+=1)this.modules[~~(o/3)][o%3+this.moduleCount-8-3]=!e&&(t>>o&1)==1;for(o=0;18>o;o+=1)this.modules[o%3+this.moduleCount-8-3][~~(o/3)]=!e&&(t>>o&1)==1}setupTypeInfo(e,t){t=M.getBCHTypeInfo(this.errorCorrectLevel<<3|t);for(var o=0;15>o;o+=1){var s=!e&&(t>>o&1)==1;6>o?this.modules[o][8]=s:8>o?this.modules[o+1][8]=s:this.modules[this.moduleCount-15+o][8]=s}for(o=0;15>o;o+=1)s=!e&&(t>>o&1)==1,8>o?this.modules[8][this.moduleCount-o-1]=s:9>o?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s;this.modules[this.moduleCount-8][8]=!e}static createData(e,t,o){t=ne.getRSBlocks(e,t);let s=new _t;for(let i=0;i<o.length;i+=1){let a=o[i];s.put(a.getMode(),4),s.put(a.getLength(),a.getLengthInBits(e)),a.write(s)}for(e=0,o=0;o<t.length;o+=1)e+=t[o].getDataCount();if(s.getLengthInBits()>8*e)throw"code length overflow. ("+s.getLengthInBits()+">"+8*e+")";for(s.getLengthInBits()+4<=8*e&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*e)&&(s.put(K.PAD0,8),!(s.getLengthInBits()>=8*e));)s.put(K.PAD1,8);return K.createBytes(s,t)}static createBytes(e,t){function o(v){let f=[];for(let x=0;x<v;x+=1)f.push(0);return f}var s=0,i=0;let a=0;var l=[];let c=[];for(var u=0;u<t.length;u+=1)l.push([]),c.push([]);for(u=0;u<t.length;u+=1){var g=t[u].getDataCount(),d=t[u].getTotalCount()-g;i=Math.max(i,g),a=Math.max(a,d),l[u]=o(g);for(var h=0;h<l[u].length;h+=1)l[u][h]=255&e.getBuffer()[h+s];for(s+=g,d=M.getErrorCorrectPolynomial(d),g=new Ne(l[u],d.getLength()-1).mod(d),c[u]=o(d.getLength()-1),d=0;d<c[u].length;d+=1)h=d+g.getLength()-c[u].length,c[u][d]=0<=h?g.getAt(h):0}for(e=0,s=0;s<t.length;s+=1)e+=t[s].getTotalCount();for(e=o(e),s=0,u=0;u<i;u+=1)for(g=0;g<t.length;g+=1)u<l[g].length&&(e[s]=l[g][u],s+=1);for(i=0;i<a;i+=1)for(l=0;l<t.length;l+=1)i<c[l].length&&(e[s]=c[l][i],s+=1);return e}}K.PAD0=236,K.PAD1=17,K.stringToBytesFuncs={default:function(r){let e=[];for(let t=0;t<r.length;t+=1){let o=r.charCodeAt(t);e.push(255&o)}return e}};let Xe=r=>!!r&&typeof r=="object"&&!Array.isArray(r);function ot(r,...e){if(!e.length)return r;let t=e.shift();return t!==void 0&&Xe(r)&&Xe(t)?(r={...r},Object.keys(t).forEach(o=>{let s=r[o],i=t[o];Array.isArray(s)&&Array.isArray(i)?r[o]=i:Xe(s)&&Xe(i)?r[o]=ot(Object.assign({},s),i):r[o]=i}),ot(r,...e)):r}var dt,It=dt||(dt={});function Be(r){if(!(r={...r}).colorStops||!r.colorStops.length)throw"Field 'colorStops' is required in gradient";return r.rotation=r.rotation?Number(r.rotation):0,r.colorStops=r.colorStops.map(e=>({...e,offset:Number(e.offset)})),r}It.radial="radial",It.linear="linear";var G,J=G||(G={});J.dot="dot",J.randomDot="random-dot",J.rounded="rounded",J.extraRounded="extra-rounded",J.verticalLine="vertical-line",J.horizontalLine="horizontal-line",J.classy="classy",J.classyRounded="classy-rounded",J.square="square",J.smallSquare="small-square",J.tinySquare="tiny-square",J.diamond="diamond";var ge,we=ge||(ge={});we.dot="dot",we.square="square",we.heart="heart",we.extraRounded="extra-rounded",we.classy="classy",we.outpoint="outpoint",we.inpoint="inpoint";var $e,Se=$e||($e={});Se.dot="dot",Se.square="square",Se.extraRounded="extra-rounded",Se.classy="classy",Se.outpoint="outpoint",Se.inpoint="inpoint";var ve,Tt=ve||(ve={});Tt.square="square",Tt.circle="circle";var Q,nt=Q||(Q={});nt.center="center",nt.overlay="overlay",nt.background="background";let Bt={document:void 0,shape:ve.square,width:void 0,height:void 0,data:"",qrOptions:{typeNumber:Si[0],mode:void 0,errorCorrectionLevel:be.Q},imageOptions:{mode:Q.center,imageSize:.4,crossOrigin:void 0,margin:0,fill:{color:"rgba(255,255,255,1)"}},dotsOptions:{type:G.square,color:"#000",size:10}};function zt(r){return(r={...r}).imageOptions={...r.imageOptions,imageSize:Math.min(1,Number(r.imageOptions.imageSize))||1,margin:Number(r.imageOptions.margin),fill:{...r.imageOptions.fill}},r.imageOptions.mode==Q.overlay&&(r.imageOptions.margin=0),r.imageOptions.fill.gradient&&(r.imageOptions.fill.gradient=Be(r.imageOptions.fill.gradient)),r.dotsOptions={...r.dotsOptions},r.dotsOptions.gradient&&(r.dotsOptions.gradient=Be(r.dotsOptions.gradient)),r.dotsOptions.size=Math.round(Math.max(0,r.dotsOptions.size)||10),r.cornersSquareOptions&&(r.cornersSquareOptions={...r.cornersSquareOptions},r.cornersSquareOptions.gradient&&(r.cornersSquareOptions.gradient=Be(r.cornersSquareOptions.gradient))),r.cornersDotOptions&&(r.cornersDotOptions={...r.cornersDotOptions},r.cornersDotOptions.gradient&&(r.cornersDotOptions.gradient=Be(r.cornersDotOptions.gradient))),r.backgroundOptions&&(r.backgroundOptions={...r.backgroundOptions},r.backgroundOptions.gradient&&(r.backgroundOptions.gradient=Be(r.backgroundOptions.gradient))),r.document||(r.document=document),r}let Ai={[be.L]:.07,[be.M]:.15,[be.Q]:.25,[be.H]:.3},Mi=/\.?0+$/;function b(r){return r.toFixed(7).replace(Mi,"")}function U(r,...e){return r.reduce((t,o,s)=>{let i="";return s&&(i=e[s-1]),typeof i=="number"&&(i=b(i)),`${t}${i}${o}`},"").trim().replace(/[\s\n\r]+/gim," ")}class ki{get element(){return this._element}constructor(e,t){this.type=e,this.document=t}draw(e){let t;switch(this.type){case ge.square:t=this.drawSquare;break;case ge.heart:t=this.drawHeart;break;case ge.extraRounded:t=this.drawRounded;break;case ge.classy:t=this.drawClassy;break;case ge.inpoint:t=this.drawInpoint;break;case ge.outpoint:t=this.drawOutpoint;break;default:t=this.drawDot}t.call(this,e)}rotateFigure({x:e,y:t,size:o,rotation:s=0,draw:i}){var a;e+=o/2,t+=o/2,i(),(a=this._element)==null||a.setAttribute("transform",`rotate(${b(180*s/Math.PI)},${e},${t})`)}basicDot(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",b(o+t/2)),this._element.setAttribute("cy",b(s+t/2)),this._element.setAttribute("r",b(t/2))}})}basicSquare(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",b(o)),this._element.setAttribute("y",b(s)),this._element.setAttribute("width",b(t)),this._element.setAttribute("height",b(t))}})}basicHeart(e){let{size:t,x:o,y:s}=e;this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path");let i=!1,a=0;this._element.setAttribute("d",["M",1,.3262506,"c",0,.0383376,-.0064626,.0758377,-.0193751,.1125001,"s",-.0356247,.076875,-.0681248,.1206252,"c",-.0325,.0437499,-.0762503,.0931247,-.1312501,.1481249,"C",.7262502,.7625008,.6566626,.8279132,.5724999,.9037505,"L",.5,.9687506,"L",.4275001,.9037505,"C",.3433374,.8279132,.2737499,.7625005,.21875,.7075007,"C",.1637501,.6525008,.1199999,.6031258,.0874999,.5593758,"S",.0322876,.4754133,.0193751,.4387506,"S",0,.3645881,0,.3262506,"c",0,-.0783374,.0262499,-.1437498,.07875,-.1962499,"s",.1179124,-.07875,.1962499,-.07875,"c",.0433376,0,.0845875,.0091625,.12375,.0274999,"S",.4716623,.1229131,.5,.1562506,"c",.0283374,-.0333375,.0620874,-.0591625,.1012502,-.0775,"c",.0391627,-.0183375,.0804126,-.0274999,.12375,-.0274999,"c",.0783374,0,.1437497,.0262499,.1962501,.07875,"S",1,.2479131,1,.3262506,"z"].map(l=>typeof l=="string"?(a=0,i=l.toUpperCase()==l,l):(a++,l*=t,i&&(l+=a%2==1?o:s),b(l))).join(" "))}basicRounded(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",b(o)),this._element.setAttribute("y",b(s)),this._element.setAttribute("width",b(t)),this._element.setAttribute("height",b(t)),this._element.setAttribute("rx",b(t/4)),this._element.setAttribute("ry",b(t/4))}})}basicClassy(e){let{size:t,x:o,y:s}=e,i=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",U`M ${o} ${s+2.5*i} v ${2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*i} h ${4.5*i} v ${-4.5*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*-i} h ${-2*i} H ${o} z`)}})}basicInpoint(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",U`M ${o} ${s+t/2} v ${t/4} a ${t/4}, ${t/4} 0 0 0 ${t/4}, ${t/4} h ${t/4*3} v ${-t/4*3} a ${t/4}, ${t/4} 0 0 0 ${-t/4}, ${-t/4} h ${-t/2} a ${t/4}, ${t/4} 0 0 0 ${-t/4}, ${t/4} z`)}})}drawDot({x:e,y:t,size:o,rotation:s}){this.basicDot({x:e,y:t,size:o,rotation:s})}drawSquare({x:e,y:t,size:o,rotation:s}){this.basicSquare({x:e,y:t,size:o,rotation:s})}drawHeart({x:e,y:t,size:o,rotation:s}){this.basicHeart({x:e,y:t,size:o,rotation:s})}drawRounded({x:e,y:t,size:o,rotation:s}){this.basicRounded({x:e,y:t,size:o,rotation:s})}drawClassy({x:e,y:t,size:o,rotation:s}){this.basicClassy({x:e,y:t,size:o,rotation:s})}drawInpoint({x:e,y:t,size:o,rotation:s}){this.basicInpoint({x:e,y:t,size:o,rotation:s})}drawOutpoint({x:e,y:t,size:o,rotation:s}){this.basicInpoint({x:e,y:t,size:o,rotation:(s||0)+Math.PI})}}class ji{get element(){return this._element}get fill(){return this._fill}constructor(e,t){this.type=e,this.document=t}draw(e){let t;switch(this.type){case $e.square:t=this.drawSquare;break;case $e.extraRounded:t=this.drawExtraRounded;break;case $e.classy:t=this.drawClassy;break;case $e.outpoint:t=this.drawOutpoint;break;case $e.inpoint:t=this.drawInpoint;break;default:t=this.drawDot}t.call(this,e)}rotateFigure({x:e,y:t,size:o,rotation:s=0,draw:i}){var a,l;e+=o/2,t+=o/2,i(),(a=this._element)==null||a.setAttribute("transform",`rotate(${b(180*s/Math.PI)},${e},${t})`),(l=this._fill)==null||l.setAttribute("transform",`rotate(${b(180*s/Math.PI)},${e},${t})`)}basicDot(e){let{size:t,x:o,y:s}=e,i=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",U`M ${o+t/2} ${s} a ${t/2} ${t/2} 0 1 0 0.1 0 z m 0 ${i} a ${t/2-i} ${t/2-i} 0 1 1 -0.1 0 Z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",U`M ${o+t/2} ${s-i} a ${t/2+i} ${t/2+i} 0 1 0 0.1 0 z`)}})}basicSquare(e){let{size:t,x:o,y:s}=e,i=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",U`M ${o} ${s} v ${t} h ${t} v ${-t} z M ${o+i} ${s+i} h ${t-2*i} v ${t-2*i} h ${2*i-t} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",U`M ${o-i} ${s-i} h ${t+2*i} v ${t+2*i} h ${-t-2*i} z`)}})}basicExtraRounded(e){let{size:t,x:o,y:s}=e,i=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",U`M ${o} ${s+2.5*i} v ${2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*i} h ${2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*-i} v ${-2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*-i} h ${-2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*i} z M ${o+2.5*i} ${s+i} h ${2*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*i} v ${2*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*i} h ${-2*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*-i} v ${-2*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*-i} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",U`M ${o-i} ${s+2.5*i} v ${2*i} a ${3.5*i} ${3.5*i}, 0, 0, 0, ${3.5*i} ${3.5*i} h ${2*i} a ${3.5*i} ${3.5*i}, 0, 0, 0, ${3.5*i} ${3.5*-i} v ${-2*i} a ${3.5*i} ${3.5*i}, 0, 0, 0, ${3.5*-i} ${3.5*-i} h ${-2*i} a ${3.5*i} ${3.5*i}, 0, 0, 0, ${3.5*-i} ${3.5*i} z`)}})}basicClassy(e){let{size:t,x:o,y:s}=e,i=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",U`M ${o} ${s+2.5*i} v ${2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*i} h ${4.5*i} v ${-4.5*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*-i} h ${-2*i} H ${o} z M ${o+2.5*i} ${s+i} h ${2*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*i} v ${3.5*i} h ${-3.5*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*-i} v ${-3.5*i} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",U`M ${o+.5*i} ${s-i} h ${4*i} a ${3.5*i} ${3.5*i}, 0, 0, 1, ${3.5*i} ${3.5*i} v ${5.5*i} h ${-5.5*i} a ${3.5*i} ${3.5*i}, 0, 0, 1, ${3.5*-i} ${3.5*-i} v ${-5.5*i} z`)}})}basicInpoint(e){let{size:t,x:o,y:s}=e,i=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",U`M ${o} ${s+2.5*i} v ${2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*i} ${2.5*i} h ${4.5*i} v ${-4.5*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*-i} h ${-2*i} a ${2.5*i} ${2.5*i}, 0, 0, 0, ${2.5*-i} ${2.5*i} z M ${o+2.5*i} ${s+i} h ${2*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*i} v ${3.5*i} h ${-3.5*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*-i} ${1.5*-i} v ${-2*i} a ${1.5*i} ${1.5*i}, 0, 0, 1, ${1.5*i} ${1.5*-i} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",U`M ${o+.5*i} ${s-i} h ${4*i} a ${3.5*i} ${3.5*i}, 0, 0, 1, ${3.5*i} ${3.5*i} v ${5.5*i} h ${-5.5*i} a ${3.5*i} ${3.5*i}, 0, 0, 1, ${3.5*-i} ${3.5*-i} v ${-2*i} a ${3.5*i} ${3.5*i}, 0, 0, 1, ${3.5*i} ${3.5*-i} z`)}})}drawDot({x:e,y:t,size:o,rotation:s}){this.basicDot({x:e,y:t,size:o,rotation:s})}drawSquare({x:e,y:t,size:o,rotation:s}){this.basicSquare({x:e,y:t,size:o,rotation:s})}drawExtraRounded({x:e,y:t,size:o,rotation:s}){this.basicExtraRounded({x:e,y:t,size:o,rotation:s})}drawClassy({x:e,y:t,size:o,rotation:s}){this.basicClassy({x:e,y:t,size:o,rotation:s})}drawInpoint({x:e,y:t,size:o,rotation:s}){this.basicInpoint({x:e,y:t,size:o,rotation:s})}drawOutpoint({x:e,y:t,size:o,rotation:s}){this.basicInpoint({x:e,y:t,size:o,rotation:(s||0)+Math.PI})}}class ze{get element(){return this._element}constructor(e,t){this.type=e,this.document=t}draw(e){let t;switch(this.type){case G.dot:t=this.drawDot;break;case G.randomDot:t=this.drawRandomDot;break;case G.classy:t=this.drawClassy;break;case G.classyRounded:t=this.drawClassyRounded;break;case G.rounded:t=this.drawRounded;break;case G.verticalLine:t=this.drawVerticalLine;break;case G.horizontalLine:t=this.drawHorizontalLine;break;case G.extraRounded:t=this.drawExtraRounded;break;case G.diamond:t=this.drawDiamond;break;case G.smallSquare:t=this.drawSmallSquare;break;case G.tinySquare:t=this.drawTinySquare;break;default:t=this.drawSquare}t.call(this,e)}rotateFigure({x:e,y:t,size:o,rotation:s=0,draw:i}){var a;e+=o/2,t+=o/2,i(),(a=this._element)==null||a.setAttribute("transform",`rotate(${b(180*s/Math.PI)},${e},${t})`)}basicDot(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",b(o+t/2)),this._element.setAttribute("cy",b(s+t/2)),this._element.setAttribute("r",b(t/2))}})}basicSquare(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",b(o)),this._element.setAttribute("y",b(s)),this._element.setAttribute("width",b(t)),this._element.setAttribute("height",b(t))}})}basicSideRounded(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",U`M ${o} ${s} v ${t} h ${t/2} a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t} z`)}})}basicCornerRounded(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",U`M ${o} ${s} v ${t} h ${t} v ${-t/2} a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2} z`)}})}basicCornerExtraRounded(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",U`M ${o} ${s} v ${t} h ${t} a ${t} ${t}, 0, 0, 0, ${-t} ${-t} z`)}})}basicCornersRounded(e){let{size:t,x:o,y:s}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",U`M ${o} ${s} v ${t/2} a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2} h ${t/2} v ${-t/2} a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2} z`)}})}drawDot({x:e,y:t,size:o}){this.basicDot({x:e,y:t,size:o,rotation:0})}drawRandomDot({x:e,y:t,size:o}){this.basicDot({x:e,y:t,size:o*(.25*Math.random()+.75),rotation:0})}drawSquare({x:e,y:t,size:o}){this.basicSquare({x:e,y:t,size:o,rotation:0})}drawSmallSquare({x:e,y:t,size:o}){this.basicSquare({x:e+.15*o,y:t+.15*o,size:.7*o,rotation:0})}drawTinySquare({x:e,y:t,size:o}){this.basicSquare({x:e+.35*o,y:t+.35*o,size:.3*o,rotation:0})}drawDiamond({x:e,y:t,size:o}){this.basicSquare({x:e,y:t,size:o,rotation:Math.PI/4})}drawRounded({x:e,y:t,size:o,getNeighbor:s}){var i=s?+s(-1,0):0;let a=s?+s(1,0):0,l=s?+s(0,-1):0;var c=i+a+l+(s=s?+s(0,1):0);c===0?this.basicDot({x:e,y:t,size:o,rotation:0}):2<c||i&&a||l&&s?this.basicSquare({x:e,y:t,size:o,rotation:0}):c===2?(c=0,i&&l?c=Math.PI/2:l&&a?c=Math.PI:a&&s&&(c=-Math.PI/2),this.basicCornerRounded({x:e,y:t,size:o,rotation:c})):c===1&&(i=0,l?i=Math.PI/2:a?i=Math.PI:s&&(i=-Math.PI/2),this.basicSideRounded({x:e,y:t,size:o,rotation:i}))}drawVerticalLine({x:e,y:t,size:o,getNeighbor:s}){let i=s?+s(-1,0):0,a=s?+s(1,0):0,l=s?+s(0,-1):0;i+a+l+(s=s?+s(0,1):0)===0||i&&!l&&!s||a&&!l&&!s?this.basicDot({x:e,y:t,size:o,rotation:0}):l&&s?this.basicSquare({x:e,y:t,size:o,rotation:0}):l&&!s?this.basicSideRounded({x:e,y:t,size:o,rotation:Math.PI/2}):s&&!l&&this.basicSideRounded({x:e,y:t,size:o,rotation:-Math.PI/2})}drawHorizontalLine({x:e,y:t,size:o,getNeighbor:s}){let i=s?+s(-1,0):0,a=s?+s(1,0):0,l=s?+s(0,-1):0;i+a+l+(s=s?+s(0,1):0)===0||l&&!i&&!a||s&&!i&&!a?this.basicDot({x:e,y:t,size:o,rotation:0}):i&&a?this.basicSquare({x:e,y:t,size:o,rotation:0}):i&&!a?this.basicSideRounded({x:e,y:t,size:o,rotation:0}):a&&!i&&this.basicSideRounded({x:e,y:t,size:o,rotation:Math.PI})}drawExtraRounded({x:e,y:t,size:o,getNeighbor:s}){var i=s?+s(-1,0):0;let a=s?+s(1,0):0,l=s?+s(0,-1):0;var c=i+a+l+(s=s?+s(0,1):0);c===0?this.basicDot({x:e,y:t,size:o,rotation:0}):2<c||i&&a||l&&s?this.basicSquare({x:e,y:t,size:o,rotation:0}):c===2?(c=0,i&&l?c=Math.PI/2:l&&a?c=Math.PI:a&&s&&(c=-Math.PI/2),this.basicCornerExtraRounded({x:e,y:t,size:o,rotation:c})):c===1&&(i=0,l?i=Math.PI/2:a?i=Math.PI:s&&(i=-Math.PI/2),this.basicSideRounded({x:e,y:t,size:o,rotation:i}))}drawClassy({x:e,y:t,size:o,getNeighbor:s}){let i=s?+s(-1,0):0,a=s?+s(1,0):0,l=s?+s(0,-1):0;i+a+l+(s=s?+s(0,1):0)===0?this.basicCornersRounded({x:e,y:t,size:o,rotation:Math.PI/2}):i||l?a||s?this.basicSquare({x:e,y:t,size:o,rotation:0}):this.basicCornerRounded({x:e,y:t,size:o,rotation:Math.PI/2}):this.basicCornerRounded({x:e,y:t,size:o,rotation:-Math.PI/2})}drawClassyRounded({x:e,y:t,size:o,getNeighbor:s}){let i=s?+s(-1,0):0,a=s?+s(1,0):0,l=s?+s(0,-1):0;i+a+l+(s=s?+s(0,1):0)===0?this.basicCornersRounded({x:e,y:t,size:o,rotation:Math.PI/2}):i||l?a||s?this.basicSquare({x:e,y:t,size:o,rotation:0}):this.basicCornerExtraRounded({x:e,y:t,size:o,rotation:Math.PI/2}):this.basicCornerExtraRounded({x:e,y:t,size:o,rotation:-Math.PI/2})}}let to={toDataURL:r=>typeof r=="string"&&r.startsWith("data:")?Promise.resolve(r):new Promise((e,t)=>{if(typeof r=="string"){const o=new XMLHttpRequest;o.onload=function(){const s=new FileReader;s.onloadend=function(){e(s.result)},s.readAsDataURL(o.response)},o.onerror=o.onabort=o.ontimeout=t,o.open("GET",r,!0),o.responseType="blob",o.send()}else{const o=new FileReader;o.onloadend=function(){e(o.result)},o.readAsDataURL(r)}}),getSize:(r,e)=>new Promise((t,o)=>{const s=new Image;e==="string"&&(s.crossOrigin=e),s.onload=()=>{t({width:s.width,height:s.height})},s.onerror=s.onabort=o,typeof r=="string"?s.src=r:to.toDataURL(r).then(i=>s.src=i).catch(o)})};function Rt(r){var e=[];let t=1;if((r=r.toLowerCase())[0]==="#"){let o=(r=r.slice(1)).length;4>=o?(e=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],o===4&&(t=parseInt(r[3]+r[3],16)/255)):(e=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],o===8&&(t=parseInt(r[6]+r[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0)}else{if(!(e=/^((?:rgba?))\s*\(([^)]*)\)/.exec(r)))return{value:r,alpha:t};t=3<(e=(e=e[2].trim().split(/\s*[,/]\s*|\s+/)).map((o,s)=>o[o.length-1]==="%"?(o=parseFloat(o)/100,s===3?o:255*o):o==="none"?0:parseFloat(o))).length?e.pop():1}return{value:"#"+e.map(o=>Math.max(0,Math.min(255,o)).toString(16).padStart(2,"0")).join(""),alpha:Math.max(0,Math.min(1,t))}}let Re=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Ae=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class Ni{get element(){return this._element}constructor(e){this.options=e,this.document=e.document,this._element=this.document.createElementNS("http://www.w3.org/2000/svg","svg");let t=b(e.width),o=b(e.height);this._element.setAttribute("width",t),this._element.setAttribute("height",o),this._element.setAttribute("viewBox",`0 0 ${t} ${o}`),this.defs=this.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this.defs),this.imageTools=e.imageTools||to}get width(){return this.options.width}get height(){return this.options.height}async drawQR(e){let t=e.getModuleCount();var o=parseInt(((t-17)/4).toFixed(0),10);let s=this.options.dotsOptions.size,i={hideXDots:0,hideYDots:0,width:0,height:0};if(this.qr=e,this.options.image){e=await this.imageTools.getSize(this.options.image,this.options.imageOptions.crossOrigin);let{imageOptions:l,errorCorrectionPercent:c}=this.options;if(l.mode==Q.background){var a=this.options.backgroundOptions&&this.options.backgroundOptions.margin||0;o=(this.options.width-2*a*s)*l.imageSize,a=(this.options.height-2*a*s)*l.imageSize;let{width:u,height:g}=e;g=g/u*o,u=o,g>a&&(u=u/g*a,g=a),i={hideXDots:0,hideYDots:0,width:u,height:g}}else a=l.imageSize*c,o=M.getPatternPosition(o),i=function({originalHeight:u,originalWidth:g,maxHiddenDots:d,maxHiddenAxisDots:h,dotSize:v,margin:f}){if(0>=u||0>=g||0>=d||0>=v||4*f**2>d)return{height:0,width:0,hideYDots:0,hideXDots:0};h&&h%2==0&&(h=Math.max(1,h-1));var x=Math.max(g,u),m=Math.min(g,u),p=0;h=(h||d)-2*f;do{let y=p+(h-p)/2,j=Math.max(1,Math.ceil(y+2*f));j%2==0&&j++;let S=Math.max(1,Math.ceil(y*m/x+2*f));S%2==0&&S++,j*S>d?h=y:p=y}while(.001<Math.abs(p-h));return(d=Math.max(1,Math.ceil(p+2*f)))%2==0&&d++,(m=Math.max(1,Math.ceil(p*m/x+2*f)))%2==0&&m++,g>u?x=d:(x=m,m=d),d=h=(x-2*f)*v,(h=h*u/g)>(p=(m-2*f)*v)&&(h=p,d=p*g/u),{height:Math.round(h+2*f*v),width:Math.round(d+2*f*v),hideYDots:m,hideXDots:x}}({originalWidth:e.width,originalHeight:e.height,maxHiddenDots:Math.floor(a*(t*t-192-2*(t-16)-25*o.length**2)),maxHiddenAxisDots:t-14,dotSize:s,margin:l.margin})}this.drawBackground(),this.options.imageOptions.mode!=Q.overlay&&this.options.image&&0<i.width&&0<i.height&&await this.drawImage({width:i.width,height:i.height,count:t,dotSize:s}),this.drawDots((l,c)=>!(this.options.imageOptions.mode==Q.center&&l>=(t-i.hideXDots)/2&&l<(t+i.hideXDots)/2&&c>=(t-i.hideYDots)/2&&c<(t+i.hideYDots)/2||8>l&&8>c||l>=t-8&&8>c||c>=t-8&&8>l)),this.options.imageOptions.mode==Q.overlay&&this.options.image&&0<i.width&&0<i.height&&await this.drawImage({width:i.width,height:i.height,count:t,dotSize:s}),this.drawCorners()}drawBackground(){let e=this.options;if(this._element&&e.backgroundOptions){this.createColor({options:e.backgroundOptions.gradient,color:e.backgroundOptions.color,additionalRotation:0,x:0,y:0,height:e.height,width:e.width,name:"background-color"});let t=Math.min(e.width,e.height),o=this.document.createElementNS("http://www.w3.org/2000/svg","rect");[this.backgroundMask,this.backgroundMaskGroup]=this.createMask("mask-background-color"),this.defs.appendChild(this.backgroundMask),o.setAttribute("x",b((e.width-t)/2)),o.setAttribute("y",b((e.height-t)/2)),o.setAttribute("width",b(t)),o.setAttribute("height",b(t)),o.setAttribute("rx",b(t/2*(e.backgroundOptions.round||0))),this.backgroundMaskGroup.appendChild(o)}}drawDots(e){var x;if(!this.qr)throw"QR code is not defined";let t=this.options;var o=this.qr.getModuleCount();if(o>t.width||o>t.height)throw"The canvas is too small.";let s=this.options.dotsOptions.size;var i=Math.min(t.width,t.height);t.imageOptions.mode==Q.background&&(i-=2*s*(t.imageOptions.margin||0));var a=Math.floor((t.width-o*s)/2),l=Math.floor((t.height-o*s)/2);let c=new ze(t.dotsOptions.type,this.document),u=new ze(G.tinySquare,this.document),g=new ze(G.square,this.document);[this.dotsMask,this.dotsMaskGroup]=this.createMask("mask-dot-color"),this.defs.appendChild(this.dotsMask),t.imageOptions.mode==Q.background&&([this.lightDotsMask,this.lightDotsMaskGroup]=this.createMask("mask-light-dot-color"),this.defs.appendChild(this.lightDotsMask));var d=0;let h=0;d=o,t.shape===ve.circle?(d=this.options.backgroundOptions&&this.options.backgroundOptions.margin||0,h=Math.floor((i/s-o-2*d)/2),d=o+2*h):t.imageOptions.mode==Q.background&&(h=1,d=o+2*h),i=a-h*s,l-=h*s,a=o+2*h;let v=Array(d);var f=Math.floor(d/2);for(let m=0;m<d;m++){v[m]=Array(d);for(let p=0;p<d;p++)if(m>h-1&&m<d-h&&p>h-1&&p<d-h){let y=m-h,j=p-h;e&&!e(y,j)?v[m][p]=void 0:v[m][p]=!!this.qr.isDark(j,y)}else v[m][p]=t.shape===ve.circle&&Math.sqrt((m-f)*(m-f)+(p-f)*(p-f))>f?void 0:m==h-1||m==d-h||p==h-1||p==d-h?(p==h-1&&(m<h+8||m>d-h-9)||p==d-h&&m<h+8||m==h-1&&(p<h+8||p>d-h-9)||m==d-h&&p<h+8)&&void 0:this.qr.isDark(0>p-2*h?p:p>=o?p-2*h:p-h,0>m-2*h?m:m>=o?m-2*h:m-h)}e=M.getPatternPosition((o-17)/4);for(let m=0;m<d;m++){o=e.find(p=>m-h>p-3&&m-h<p+3);for(let p=0;p<d;p++)f=e.find(y=>p-h>y-3&&p-h<y+3),v[m][p]!=null&&(this.lightDotsMask&&(c=o&&f&&(o!=e[0]&&f!=e[0]||f!=e[0]&&f!=e[e.length-1]||o!=e[0]&&o!=e[e.length-1])?g:u),v[m][p]?(c.draw({x:i+m*s,y:l+p*s,size:s,getNeighbor:(y,j)=>{var S;return((S=v[m+y])==null?void 0:S[p+j])===!0}}),c.element&&this.dotsMaskGroup&&this.dotsMaskGroup.appendChild(c.element)):this.lightDotsMask&&(c.draw({x:i+m*s,y:l+p*s,size:s,getNeighbor:(y,j)=>{var S;return((S=v[m+y])==null?void 0:S[p+j])===!1}}),c.element&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(c.element)))}this.lightDotsMask&&this.createColor({options:t.imageOptions.fill.gradient,color:t.imageOptions.fill.color,additionalRotation:0,x:i,y:l,height:a*s,width:a*s,name:"light-dot-color"}),this.createColor({options:(x=t.dotsOptions)==null?void 0:x.gradient,color:t.dotsOptions.color,additionalRotation:0,x:i,y:l,height:a*s,width:a*s,name:"dot-color"})}drawCorners(){if(!this.qr)throw"QR code is not defined";let e=this.options;if(!this._element)throw"Element code is not defined";let t=this.qr.getModuleCount(),o=this.options.dotsOptions.size,s=7*o,i=3*o,a=Math.floor((e.width-t*o)/2),l=Math.floor((e.height-t*o)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([c,u,g])=>{var m,p,y,j,S,ie,he,R,A,V,Oe,xe,Ee;let d=a+c*o*(t-7),h=l+u*o*(t-7);var v=this.dotsMask;let f=this.dotsMaskGroup;var x=this.dotsMask;if(v=this.dotsMaskGroup,((m=e.cornersSquareOptions)!=null&&m.gradient||(p=e.cornersSquareOptions)!=null&&p.color)&&([v,f]=this.createMask(`mask-corners-square-color-${c}-${u}`),this.defs.appendChild(v),x=v,v=f,this.createColor({options:(y=e.cornersSquareOptions)==null?void 0:y.gradient,color:(j=e.cornersSquareOptions)==null?void 0:j.color,additionalRotation:g,x:d,y:h,height:s,width:s,name:`corners-square-color-${c}-${u}`})),(S=e.cornersSquareOptions)==null?void 0:S.type)(x=new ji(e.cornersSquareOptions.type,this.document)).draw({x:d,y:h,size:s,rotation:g}),x.element&&f&&f.appendChild(x.element),x.fill&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(x.fill);else{x=new ze(e.dotsOptions.type,this.document);for(let C=0;C<Re.length;C++)for(let N=0;N<Re[C].length;N++)(ie=Re[C])!=null&&ie[N]?(x.draw({x:d+C*o,y:h+N*o,size:o,getNeighbor:(P,F)=>{var I;return!!((I=Re[C+P])!=null&&I[N+F])}}),x.element&&f&&f.appendChild(x.element)):this.lightDotsMask&&!((he=Ae[C])!=null&&he[N])&&(x.draw({x:d+C*o,y:h+N*o,size:o,getNeighbor:(P,F)=>{var I,Pe;return!((I=Re[C+P])!=null&&I[N+F])&&!((Pe=Ae[C+P])!=null&&Pe[N+F])}}),x.element&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(x.element));if(this.lightDotsMask)for(let C=-1;8>C;C++)for(let N=-1;8>N;N++)C!=-1&&C!=7&&N!=-1&&N!=7||(x.draw({x:d+C*o,y:h+N*o,size:o,getNeighbor:(P,F)=>(F=N+F,-1<=(P=C+P)&&7>=P&&-1<=F&&7>=F&&(P==-1||P==7||F==-1||F==7))}),x.element&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(x.element))}if(((R=e.cornersDotOptions)!=null&&R.gradient||(A=e.cornersDotOptions)!=null&&A.color)&&([x,v]=this.createMask(`mask-corners-dot-color-${c}-${u}`),this.defs.appendChild(x),this.createColor({options:(V=e.cornersDotOptions)==null?void 0:V.gradient,color:(Oe=e.cornersDotOptions)==null?void 0:Oe.color,additionalRotation:g,x:d+2*o,y:h+2*o,height:i,width:i,name:`corners-dot-color-${c}-${u}`})),(xe=e.cornersDotOptions)==null?void 0:xe.type)(c=new ki(e.cornersDotOptions.type,this.document)).draw({x:d+2*o,y:h+2*o,size:i,rotation:g}),c.element&&v&&v.appendChild(c.element);else{g=new ze(e.dotsOptions.type,this.document);for(let C=0;C<Ae.length;C++)for(let N=0;N<Ae[C].length;N++)(Ee=Ae[C])!=null&&Ee[N]&&(g.draw({x:d+C*o,y:h+N*o,size:o,getNeighbor:(P,F)=>{var I;return!!((I=Ae[C+P])!=null&&I[N+F])}}),g.element&&v&&v.appendChild(g.element))}})}async drawImage({width:e,height:t,count:o,dotSize:s}){var i=this.options,a=Math.floor((i.width-o*s)/2),l=Math.floor((i.height-o*s)/2),c=i.imageOptions.margin*s;i.imageOptions.mode==Q.background&&(c=0),a=a+c+(o*s-e)/2,o=l+c+(o*s-t)/2,e-=2*c,t-=2*c,c=await this.imageTools.toDataURL(i.image||""),(i=this.document.createElementNS("http://www.w3.org/2000/svg","image")).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c||""),c.startsWith("data:image/svg+xml;")&&(s=(c=c.substring(19)).indexOf(","),l=c.substring(0,s),c=c.substring(s+1),l==="base64"?c=typeof atob=="function"?atob(c):Buffer.from(c,"base64").toString("utf8"):c="",c&&(c=new DOMParser().parseFromString(c,"text/xml"),(c=Array.from(c.getElementsByTagName("svg"))).length&&(i=c[0]).setAttribute("overflow","visible"))),i.setAttribute("x",b(a)),i.setAttribute("y",b(o)),i.setAttribute("width",`${b(e)}px`),i.setAttribute("height",`${b(t)}px`),this._element.appendChild(i)}createColor({options:e,color:t,additionalRotation:o,x:s,y:i,height:a,width:l,name:c}){var u=l>a?l:a;let g=this.document.createElementNS("http://www.w3.org/2000/svg","rect");if(g.setAttribute("x",b(s)),g.setAttribute("y",b(i)),g.setAttribute("height",b(a)),g.setAttribute("width",b(l)),g.setAttribute("style",`mask:url(#mask-${c})`),e){let d;if(e.type===dt.radial)d=this.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),d.setAttribute("id",c),d.setAttribute("gradientUnits","userSpaceOnUse"),d.setAttribute("fx",b(s+l/2)),d.setAttribute("fy",b(i+a/2)),d.setAttribute("cx",b(s+l/2)),d.setAttribute("cy",b(i+a/2)),d.setAttribute("r",b(u/2));else{u=s+l/2;let h=i+a/2;s+=l/2,i+=a/2,0<=(o=((t=((e.rotation||0)+o)%(2*Math.PI))+2*Math.PI)%(2*Math.PI))&&o<=.25*Math.PI||o>1.75*Math.PI&&o<=2*Math.PI?(u-=l/2,h-=a/2*Math.tan(t),s+=l/2,i+=a/2*Math.tan(t)):o>.25*Math.PI&&o<=.75*Math.PI?(h-=a/2,u-=l/2/Math.tan(t),i+=a/2,s+=l/2/Math.tan(t)):o>.75*Math.PI&&o<=1.25*Math.PI?(u+=l/2,h+=a/2*Math.tan(t),s-=l/2,i-=a/2*Math.tan(t)):o>1.25*Math.PI&&o<=1.75*Math.PI&&(h+=a/2,u+=l/2/Math.tan(t),i-=a/2,s-=l/2/Math.tan(t)),d=this.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),d.setAttribute("id",c),d.setAttribute("gradientUnits","userSpaceOnUse"),d.setAttribute("x1",b(u)),d.setAttribute("y1",b(h)),d.setAttribute("x2",b(s)),d.setAttribute("y2",b(i))}e.colorStops.forEach(({offset:h,color:v})=>{let f=this.document.createElementNS("http://www.w3.org/2000/svg","stop");f.setAttribute("offset",`${b(100*h)}%`),h=Rt(v),f.setAttribute("stop-color",h.value),1>h.alpha&&f.setAttribute("stop-opacity",h.alpha.toFixed(7)),d.appendChild(f)}),g.setAttribute("fill",`url(#${c})`),this.defs.appendChild(d)}else t&&(e=Rt(t),g.setAttribute("fill",e.value),1>e.alpha&&g.setAttribute("opacity",e.alpha.toFixed(7)));this._element.appendChild(g)}createMask(e){let t=this.options,o=this.document.createElementNS("http://www.w3.org/2000/svg","mask");return o.setAttribute("id",e),o.setAttribute("maskUnits","userSpaceOnUse"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("width",b(t.width)),o.setAttribute("height",b(t.height)),(e=this.document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("fill","#fff"),o.appendChild(e),[o,e]}}Object.assign(K.stringToBytesFuncs,{UTF8:function(r){const e=[];for(let t=0;t<r.length;t++){let o=r.charCodeAt(t);128>o?e.push(o):2048>o?e.push(192|o>>6,128|63&o):55296>o||57344<=o?e.push(224|o>>12,128|o>>6&63,128|63&o):(t++,o=65536+((1023&o)<<10|1023&r.charCodeAt(t)),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}return e}});class Di{get size(){if(this.qrSVG)return{width:this.qrSVG.width,height:this.qrSVG.height}}constructor(e){this.options=e?zt(ot(Bt,e)):Bt,this.update()}update(e){this.container&&(this.container.innerHTML=""),this.options=e?zt(ot(this.options,e)):this.options,this.options.data&&(this.options.stringToBytesFuncs&&(Object.assign(K.stringToBytesFuncs,this.options.stringToBytesFuncs),delete this.options.stringToBytesFuncs),this.qr=new K(this.options.qrOptions.typeNumber,this.options.qrOptions.errorCorrectionLevel),e=this.options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return Z.numeric;case/^[0-9A-Z $%*+\-./:]*$/.test(t):return Z.alphanumeric;case/[^\u0000-\u00ff]/.test(t):return Z.unicode;default:return Z.byte}}(this.options.data),this.qr.addData(this.options.data,e),this.qr.make(),this.setupSvg(),this.append(this.container))}append(e){var t;e&&((t=this.qrSVG)!=null&&t.element&&e.appendChild(this.qrSVG.element),this.container=e)}applyExtension(e){if(!e)throw"Extension function should be defined.";this.extension=e,this.update()}deleteExtension(){this.extension=void 0,this.update()}async serialize(){var e,t;if(!this.qr)throw"QR code is empty";if((e=this.qrSVG)!=null&&e.element&&this.svgDrawingPromise||this.setupSvg(),await this.svgDrawingPromise,(t=this.qrSVG)==null?void 0:t.element)return`<?xml version="1.0" standalone="no"?>\r
`+new XMLSerializer().serializeToString(this.qrSVG.element)}setupSvg(){if(this.qr){var e=this.qr.getModuleCount();this.options.imageOptions.mode==Q.background&&this.options.shape!=ve.circle&&(e+=2),(e=Math.ceil((this.options.shape==ve.circle?Math.sqrt(2):1)*e))%2==0&&--e;var t=this.options.backgroundOptions&&this.options.backgroundOptions.margin||0;this.options.imageOptions.mode==Q.background&&(t+=this.options.imageOptions.margin||0),e=Math.ceil(this.options.dotsOptions.size*(e+2*t)),this.qrSVG=new Ni({...this.options,width:e,height:e,errorCorrectionPercent:Ai[this.options.qrOptions.errorCorrectionLevel]}),this.svgDrawingPromise=this.qrSVG.drawQR(this.qr).then(()=>{var o,s;(o=this.qrSVG)!=null&&o.element&&((s=this.extension)==null||s.call(this,this.qrSVG.element,this.options))})}}}var qt,Ye=qt||(qt={});Ye.svg="svg",Ye.png="png",Ye.jpeg="jpeg",Ye.webp="webp";const Oi="cyan";function Ei({text:r}){const[e,t]=w.useState("");console.log(e);const o=new Di({data:r,shape:"square",dotsOptions:{color:W,type:"random-dot",size:6},cornersSquareOptions:{color:W,type:"extra-rounded"},cornersDotOptions:{color:W,type:"extra-rounded"},backgroundOptions:{color:ce,margin:1},imageOptions:{crossOrigin:"anonymous",margin:1,imageSize:.5}});return w.useEffect(()=>{console.log("%cQRCode: %o",`color: ${Oi}`,o);function s(a){var l,c;return{width:(l=a.size)==null?void 0:l.width,height:(c=a.size)==null?void 0:c.height}}const i=s(o);console.log(i),o.serialize().then(a=>{if(a!==void 0){t(a);let l="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a),c=document.getElementById("canvas");c.width=i.width||0,c.height=i.height||0;let u;c!=null&&c.getContext?u=c.getContext("2d"):console.error("Canvas element not found");let g=new Image;g.width=500,g.height=500,g.addEventListener("load",d=>{u.drawImage(d.target,0,0)}),g.src=l}})},[]),n.jsx(n.Fragment,{children:n.jsx("div",{className:"App",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px",width:"auto",overflowY:"hidden"},children:n.jsx("canvas",{className:"square",id:"canvas",style:{display:"block",padding:0,maxWidth:"100%",maxHeight:"100%"}})})})}const{Title:Pi,Text:T}=Fo,B="cyan",Ft=({children:r})=>n.jsx("div",{className:"p-inputgroup flex-1",children:r}),ft=({header:r,footer:e,sum:t,posh:o,setSum:s,setPosh:i,courtType:a,code:l})=>{var $t,vt;const c=De(),u=((vt=($t=c.initData)==null?void 0:$t.user)==null?void 0:vt.id.toString())||"";console.log("%cLaunchParams: %o",`color: ${B}`,c),console.log("%ccode: %o","color: pink",l);const g=(l==null?void 0:l.sou)!==""?l==null?void 0:l.sou.replace(/ /g,""):(l==null?void 0:l.arb)!==""?l==null?void 0:l.arb.replace(/ /g,""):"",d=pe(g||"",a||"obsh",l==null?void 0:l.benefitsSwitch,l==null?void 0:l.discount30Switch,l==null?void 0:l.discount50Switch);console.log("%cstartCalc: %o",`color: ${B}`,d);const h=Qt,v=Ho,f=Go,x=St(v.isMounted),m=St(f.isOpened),p=a==="obsh"?$i:vi,[y,j]=w.useState((l==null?void 0:l.benefitsSwitch)||!1),[S,ie]=w.useState((l==null?void 0:l.discount30Switch)||!1),[he,R]=w.useState(Number(d.discount30)),[A,V]=w.useState((l==null?void 0:l.discount50Switch)||!1),[Oe,xe]=w.useState(Number(d.discount50)),[Ee,C]=w.useState(Number(d.exceed)),[N,P]=w.useState(Number(d.percent)),[F,I]=w.useState(Number(d.fix)),[Pe,Y]=w.useState(Number(d.step)),io=w.useRef(null),bt=w.useRef(null),xt=w.useRef(null),wt=w.useRef(null),[so,Ue]=w.useState(!1);w.useEffect(()=>{console.log("%cОбласть просмотра "+(x?"смонтирована.":"размонтирована."),x?"color: lightgreen":"color: #FFC0CB"),console.log("%cВсплывающее окно "+(m?"открыто.":"закрыто."),m?"color: lightgreen":"color: #FFC0CB")},[x,m]),Wt(),console.log("%cinit()",`color: ${B}`),h.mount(),console.log("%cminiApp.mount(): %o",`color: ${B}`,h.isMounted());function _e($){try{bt.current.disabled=$}catch{}try{xt.current.disabled=$}catch{}try{wt.current.disabled=$}catch{}}w.useEffect(()=>{_e(!0)},[]);async function yt($){if(console.log("%c--- value: %o",`color: ${B}`,$),console.log("%c--- popup: %o",`color: ${B}`,f),f.isSupported()){if(console.log("%c--- popup.isSupported(): %o",`color: ${B}`,f.isSupported()),!f.isOpened()){console.log("%c--- popup.isOpened(): %o",`color: ${B}`,f.isOpened());let D=await f.open({title:"Буфер обмена",message:$,buttons:[{id:"btnproceed",type:"default",text:"Ok"},{id:"btncancel",type:"cancel"}]}).then(k=>{console.log("%c--- buttonId: %o",`color: ${B}`,k)}).catch(k=>{k instanceof Error?k.message.includes("ERR_ALLREADY_CALLED")&&console.log("%cОкно уже открыто.","color: #FFC0CB"):console.log("%cНеизвестная ошибка: %o",k)});console.log("%c--- buttonId: %o",`color: ${B}`,D)}}else Ue(!0)}w.useEffect(()=>{if(i){let $=pe((t==null?void 0:t.toString())||"",a||"",y,S,A);if(t===""||t===null)i(""),Y(0),C(0),I(0),P(0);else if(Number($.gosp)>=0&&_e(!1),y)Number($.gosp)>=0?i&&(i(O($.gosp)),Y($.step),C(Number($.exceed)),I(Number($.fix)),P(Number($.percent))):i&&(i("0"),Y($.step),C(0),I(0),P(0));else if(S)i&&(y&&(i(O($.gosp)),Y($.step),C(Number($.exceed)),I(Number($.fix)),P(Number($.percent))),S&&(i(O($.gosp)),Y($.step),C(Number($.exceed)),I(Number($.fix)),P(Number($.percent))));else if(A)i&&(y&&(i(O($.gosp)),Y($.step),C(Number($.exceed)),I(Number($.fix)),P(Number($.percent))),A&&(i(O($.gosp)),Y($.step),C(Number($.exceed)),I(Number($.fix)),P(Number($.percent))));else if(i){const E=pe((t==null?void 0:t.toString())||"",a||"",y,S,A);i(E.gosp.toString()),Y(E.step),C(Number(E.exceed)),I(Number(E.fix)),P(Number(E.percent))}}},[y,S,A]);const ro=n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:"40px 20px 20px"},children:n.jsxs(ct,{children:["Сумма пошлины: ",O(o)," руб."]})}),n.jsx(ct,{children:n.jsx(Ie,{onClick:()=>Ue(!1),children:"Ok"})})]});return n.jsx(n.Fragment,{children:n.jsx(Eo,{value:{unstyled:!1},children:n.jsxs(Kt,{locale:Po,children:[n.jsxs(X,{id:"courtType",header:n.jsx(Pi,{level:5,className:"listHeader",children:n.jsx(T,{type:"success",children:r})}),footer:n.jsx("div",{className:"listFooter",children:n.jsx(T,{style:{color:ii},children:e})}),children:[n.jsx(X.Item,{style:{width:"100%"},children:n.jsxs(Ft,{children:[n.jsx(_o,{id:"sum",ref:io,value:Number(kt((t==null?void 0:t.toString())||"")),onValueChange:$=>{let E=$.value;if(s!==void 0){(E===null||E===0)&&s(""),E&&s(kt(E.toString()));let D=pe((E==null?void 0:E.toString())||"",a||"",y,S,A),k=D.gosp;console.log("%c=== calc: %o",`color: ${B}`,D);let Ce=Number(D.discount30),Le=Number(D.discount50);R(Ce),a==="arb"&&xe(Le);const Ve=D.step;Y(Ve),i&&(i(t==="0"||t===""||t===null||t===void 0||t===0?"":O(Number(k||0).toFixed(0))),console.log("%c=== sum: %o",`color: ${B}`,t))}return t},onKeyUpCapture:$=>{const D=$.target.value.replaceAll(" ","");if(s){console.log("%c=== onKeyUpCapture: %o",`color: ${B}`,D),s(D);const k=pe(D==null?void 0:D.toString(),a||"",y,S,A),Ce=k.gosp;console.log("%c=== courtType: %o",`color: ${B}`,a),console.log("%c=== calc: %o",`color: ${B}`,k);const Le=Number(k.discount30),Ve=Number(k.discount50),no=Number(k.exceed),ao=Number(k.fix),lo=Number(k.percent);C(no),I(ao),P(lo),a==="arb"&&xe(Ve);let co=k.step;i&&(console.log("%c=== gosp: %o",`color: ${B}`,Ce),D==="0"||D===""||D===null||D===void 0?(i(""),R(0),xe(0),Y(0),_e(!0)):(i(O(Number(Ce||0).toFixed(0))),R(Le),a==="arb"&&xe(Ve),Y(co),Number(Ce)>0&&_e(!1)),console.log("%c=== sum: %o",`color: ${B}`,t))}},style:{height:"48px",borderWidth:"2px",borderRadius:"16px",maxWidth:"100vw"},className:"p-inputnumber-input",locale:"ru-ru",maxFractionDigits:2}),n.jsx(Ie,{id:"btnClear",type:"primary",style:{marginLeft:"8px",height:"48px",borderWidth:"2px",width:"48px",borderRadius:"16px"},onClick:()=>{s&&(s(""),Y(0),C(Ee),I(F),P(N),j(!1),ie(!1),V(!1),_e(!0)),i&&i("")},tabIndex:-1,disabled:!t||t==="0",children:n.jsx(Lo,{})})]})}),n.jsxs(X.Item,{onClick:()=>{j(!y),S===!0&&ie(!1),A===!0&&V(!1)},className:"hoverable",children:[n.jsx(X.Item.Meta,{title:n.jsxs(T,{type:"success",children:["Льгота ",a==="obsh"?"-25 000":"-55 000"," р."]}),description:a==="obsh"?n.jsx(n.Fragment,{children:n.jsxs(T,{style:{color:se},className:"unselectable",children:[n.jsx(ae,{to:"/",tabIndex:-1,children:"Льготные категории"})," плательщиков определены п.2, п.3 ст.333.36 НК РФ."]})}):n.jsx(n.Fragment,{children:n.jsxs(T,{style:{color:se},className:"unselectable",children:[n.jsx(ae,{to:"/",tabIndex:-1,children:"Льготные категории"})," плательщиков определены п.2, п.3 ст.333.37 НК РФ."]})})}),n.jsx(We,{checked:y,tabIndex:-1})]}),a==="obsh"?n.jsx(n.Fragment,{children:n.jsxs(X.Item,{onClick:()=>{ie(!S),y===!0&&j(!1),A===!0&&V(!1)},className:"hoverable",children:[n.jsx(X.Item.Meta,{title:n.jsx(T,{type:"success",children:"Скидка в 30%"}),description:n.jsx(n.Fragment,{children:n.jsxs(T,{style:{color:se},className:"unselectable",children:[n.jsx(ae,{to:"/",tabIndex:-1,children:"Ситуации"})," для применения скидки в 30% определены пп.10 п.1 ст.333.19 НК РФ."]})})}),n.jsx(We,{checked:S,tabIndex:-1})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(X.Item,{onClick:()=>{ie(!S),y===!0&&j(!1),A===!0&&V(!1)},className:"hoverable",children:[n.jsx(X.Item.Meta,{title:n.jsx(T,{type:"success",children:"Скидка в 30%"}),description:n.jsx(n.Fragment,{children:n.jsxs(T,{style:{color:se},className:"unselectable",children:[n.jsx(ae,{to:"/",tabIndex:-1,children:"Ситуации"})," для применения скидки в 30% определены пп.13 п.1 ст.333.21 НК РФ."]})})}),n.jsx(We,{checked:S,tabIndex:-1})]}),n.jsxs(X.Item,{onClick:()=>{V(!A),y===!0&&j(!1),S===!0&&ie(!1)},className:"hoverable",children:[n.jsx(X.Item.Meta,{title:n.jsx(T,{type:"success",children:"Скидка в 50%"}),description:n.jsx(n.Fragment,{children:n.jsxs(T,{style:{color:se},className:"unselectable",children:[n.jsx(ae,{to:"/",tabIndex:-1,children:"Ситуации"})," для применения скидки в 50% определены пп.9 п.1 ст.333.21 НК РФ."]})})}),n.jsx(We,{checked:A,tabIndex:-1})]})]}),n.jsx(X.Item,{children:n.jsx(X.Item.Meta,{title:n.jsx(T,{type:"success",children:"Расчёт пошлины"}),description:n.jsxs(n.Fragment,{children:[n.jsxs(T,{style:{color:se},className:"unselectable",children:["Цена иска: ",O(t)||"0"," руб."]}),n.jsx("br",{}),n.jsxs(T,{style:{color:se},className:"unselectable",children:["Льгота: ",y?a==="obsh"?"25 000":"55 000":"0"," руб."]}),n.jsx("br",{}),n.jsxs(T,{style:{color:se},className:"unselectable",children:["Скидка, 30%: ",S?O(he):"0"," руб."]}),n.jsx("br",{}),a==="arb"?n.jsxs(n.Fragment,{children:[n.jsxs(T,{style:{color:se},className:"unselectable",children:["Скидка, 50%: ",A?O(Oe):"0"," руб."]}),n.jsx("br",{})]}):n.jsx(n.Fragment,{}),Pe!==0?n.jsxs(n.Fragment,{children:[n.jsxs(T,{style:{color:se},className:"unselectable",children:["Формула (",p[Pe].step,"):",n.jsx("br",{})," ",O(F)," руб. ",N!==0?n.jsxs(n.Fragment,{children:[" + ",O(N),"% * ",O(Ee)," руб."]}):n.jsx(n.Fragment,{}),y?a==="obsh"?" - 25 000 руб.":" - 55 000 руб.":"",S?" - "+O(he)+"руб.":"",A?" - "+O(Oe)+"руб.":""]}),n.jsx("br",{})]}):n.jsx(n.Fragment,{}),n.jsxs(T,{type:"success",className:"unselectable",children:["Сумма пошлины: ",o?O(o):"0"," руб."]})]})})}),n.jsx(X.Item,{style:{width:"100%"},children:n.jsxs(Ft,{children:[n.jsx(Ie,{id:"btnCopy",ref:bt,type:"primary",style:{margin:"auto",height:"46px",borderWidth:"2px",borderRadius:"16px",width:"95%"},onClick:()=>{const $=window.navigator.clipboard,E=a==="obsh"?O(t):"",D=a==="arb"?O(t):"",k=rt(E,D,y,S,A,u),Le={text:o?"Сумма пошлины: "+o.toString()+` руб.,
расчет: `+k:""};oi(Le),yt(o==null?void 0:o.toString()),$&&o&&yt(o==null?void 0:o.toString())},tabIndex:-1,children:n.jsx(Io,{})}),c.platform==="android"||c.platform==="ios"?n.jsx(Ie,{id:"btnShare",ref:xt,type:"primary",style:{marginLeft:"8px",height:"46px",borderWidth:"2px",width:"46px",borderRadius:"16px"},onClick:()=>{const $=a==="obsh"?O(t):"",E=a==="arb"?O(t):"",D=rt($,E,y,S,A,u);console.log("url: ",D);try{console.log("%cmainButton.onCLick",`color: ${B}`),f.isSupported()&&(f.open({title:"Поделиться расчетом!",message:"Для того чтобы поделиться расчетом, нажмите на кнопку Ok.",buttons:[{id:"btnproceed",type:"default",text:"Хорошо"},{id:"btncancel",type:"cancel"}]}).then(k=>{k==="btnproceed"?(console.log(D),To(`Посмотрите мое приложение ${D}`)):console.log(k===null?"Пользователь не нажимал кнопок.":`Пользователь нажал кнопку с ID "${k}"`)}).catch(k=>{k instanceof Error?k.message.includes("ERR_ALLREADY_CALLED")&&console.log("%cОкно уже открыто.","color: #FFC0CB"):console.log("Неизвестная ошибка: ",k)}),console.log(f.isOpened),console.log("Всплывающее окно открыто."))}catch(k){console.error("Ошибка при открытии всплывающего окна:",k)}},tabIndex:-1,children:n.jsx(Bo,{})}):n.jsx(n.Fragment,{}),n.jsx(Ie,{id:"btnQrCode",ref:wt,type:"primary",style:{marginLeft:"8px",height:"46px",borderWidth:"2px",width:"46px",borderRadius:"16px"},onClick:()=>{const $=a==="obsh"?O(t):"",E=a==="arb"?O(t):"",D=rt($,E,y,S,A,u);console.log("url: ",D),zo.show({content:n.jsx(Ei,{text:D}),closeOnAction:!0,actions:[{key:"close",text:"Закрыть",onClick:()=>{console.log("allgood")},style:{fontSize:"14px"}}],bodyStyle:{backgroundColor:ce}})},tabIndex:-1,children:n.jsx(Ro,{})})]})})]}),n.jsx(qo,{visible:so,onMaskClick:()=>Ue(!1),onClose:()=>Ue(!1),bodyStyle:{height:"20vh",width:"100vw",backgroundColor:ee},showCloseButton:!0,children:ro})]})})})},at="cyan",_i=r=>{console.log("%cstartParam: %o",`color: ${at}`,r.startParam);let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};e=mt(r.startParam||"");const t=(e==null?void 0:e.sou)!==""?e==null?void 0:e.sou.replace(/ /g,""):(e==null?void 0:e.arb)!==""&&(e==null?void 0:e.arb.replace(/ /g,""))||"",o=pe(t||"","obsh",e==null?void 0:e.benefitsSwitch,e==null?void 0:e.discount30Switch,e==null?void 0:e.discount50Switch);console.log("%cstartsum: %o",`color: ${at}`,t),console.log("%cstartposh: %o",`color: ${at}`,o);const[s,i]=w.useState(t),[a,l]=w.useState(o.gosp||"");return le.mount(),n.jsx(n.Fragment,{children:n.jsx("div",{className:"contentWrapper",children:n.jsx(ut,{children:n.jsx(ft,{header:n.jsxs(n.Fragment,{children:["Размер государственной пошлины",n.jsx("br",{}),"при обращении в суды общей юрисдикции"]}),footer:n.jsx(n.Fragment,{children:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.19 НК РФ."}),sum:s,posh:String(a),setSum:c=>i(c),setPosh:c=>l(c),courtType:"obsh",code:e})})})})},lt="cyan",Li=r=>{console.log("%cstartParam: %o",`color: ${lt}`,r.startParam);let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};e=mt(r.startParam||"");const t=(e==null?void 0:e.sou)!==""?e==null?void 0:e.sou.replace(/ /g,""):(e==null?void 0:e.arb)!==""&&(e==null?void 0:e.arb.replace(/ /g,""))||"",o=pe(t||"","obsh",e==null?void 0:e.benefitsSwitch,e==null?void 0:e.discount30Switch,e==null?void 0:e.discount50Switch);console.log("%cstartsum: %o",`color: ${lt}`,t),console.log("%cstartposh: %o",`color: ${lt}`,o);const[s,i]=w.useState(t),[a,l]=w.useState(o||"");return le.mount(),n.jsx(n.Fragment,{children:n.jsx("div",{className:"contentWrapper",children:n.jsx(ut,{children:n.jsx(ft,{header:"Размер государственной пошлины при обращении в арбитражные суды",footer:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.21 НК РФ.",sum:s,posh:String(a),setSum:c=>i(c),setPosh:c=>l(c),courtType:"arb",code:e})})})})},Ht="cyan",Gt="red",Ii=r=>{console.log("%cstartParam: %o",`color: ${Gt}`,r.startParam);let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};e=mt(r.startParam||""),console.log("%ccode: %o",`color: ${Gt}`,e);const t=(e==null?void 0:e.sou)!==""?e==null?void 0:e.sou.replace(/ /g,""):(e==null?void 0:e.arb)!==""&&(e==null?void 0:e.arb.replace(/ /g,""))||"",o=pe(t||"","obsh",e==null?void 0:e.benefitsSwitch,e==null?void 0:e.discount30Switch,e==null?void 0:e.discount50Switch);console.log("%cstartsum: %o",`color: ${Ht}`,t),console.log("%cstartposh: %o",`color: ${Ht}`,o);const[s,i]=w.useState(t),[a,l]=w.useState(o||"");return le.mount(),n.jsx(n.Fragment,{children:n.jsx("div",{className:"contentWrapper",children:n.jsx(ut,{children:n.jsx(ft,{header:n.jsxs(n.Fragment,{children:["Размер государственной пошлины",n.jsx("br",{}),"при обращении в суды общей юрисдикции"]}),footer:n.jsx(n.Fragment,{children:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.19 НК РФ."}),sum:s,posh:String(a),setSum:c=>i(c),setPosh:c=>l(c),courtType:"obsh",code:e})})})})},me="cyan";function Ti(){const r=Xo(),e=Yo();return console.log(window.history),console.log(e),w.useEffect(()=>{function t(){console.log("%chistory: %o",`color: ${me}`,window.history.state),console.log(window.history.length),window.history.state.idx===1?e("/"):e(-1)}return ye.onClick(t),()=>ye.offClick(t)},[e]),w.useEffect(()=>{console.log("%chistory: %o",`color: ${me}`,window.history.state),console.log(window.history.length),console.log("%clocation.pathname: %o",`color: ${me}`,r.pathname),r.pathname==="/"||r.pathname==="/poshlina-dev/"?ye.isVisible()&&ye.hide():!ye.isVisible()&&ye.show()},[r]),null}const Bi=()=>{var u;const[r,e]=w.useState({});Uo(),console.log("%cinit: %o",`color: ${me}`,Qe);const t=De(),o=(u=t.initData)==null?void 0:u.startParam,s={path:"/sou",element:n.jsx(_i,{startParam:""}),title:"Суды общей юрисдикции"},i={path:"/arb",element:n.jsx(Li,{startParam:""}),title:"Арбитражные суды"},a={path:"/starturl",element:n.jsx(Ii,{startParam:o}),title:"Расчёт по ссылке"};ht.push(s,i,a);const l=o==null?void 0:o.includes("debug");console.log("%cРежим отладки: %o",`color: ${me}`,l);let c=[];return w.useEffect(()=>{const g=(o==null?void 0:o.split(/clc|bro/))??[];c=Jt(o??"",g)??[],c.forEach(d=>{d.name==="clc"&&(e(pt(gt(d.value))),console.log("%cclc: %o",`color: ${me}`,r))})},[]),Qe.mount(),le.mount(),le.isCssVarsBound()||le.bindCssVars(),console.log("%cThemeParams: %o",`color: ${me}`,le),At.isMounted||At.mount(),ye.mount(),console.log("%cminiApp: %o",`color: ${me}`,Qe),n.jsx(Vo,{appearance:Qe.isDark()?"dark":"light",platform:["macos","ios"].includes(t.platform)?"ios":"base",children:n.jsxs(Wo,{children:[n.jsx(Ti,{}),n.jsxs(Qo,{children:[ht.map(g=>(console.log("Route: ",g),n.jsx(Mt,{...g},g.path))),n.jsx(Mt,{path:"*",element:n.jsx(Ko,{to:"/"})})]})]})})};class oo extends w.Component{constructor(){super(...arguments);st(this,"state",{})}componentDidCatch(t){this.setState({error:t})}render(){const{state:{error:t},props:{fallback:o,children:s}}=this;return"error"in this.state?typeof o=="function"?n.jsx(o,{error:t}):o:s}}st(oo,"getDerivedStateFromError",t=>({error:t}));let zi={colorSuccess:W,colorError:Ze,colorBgBase:ce,borderRadius:14,padding:12,colorText:et,colorBorder:ee,lineWidth:2,fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",fontSize:14},Ri={contentLineHeight:2,defaultShadow:"0 0px 0 rgba(0, 0, 0, 0.02)",fontWeight:ri,primaryColor:et,primaryShadow:"0 0px 0 rgba(5, 145, 255, 0.1)",colorPrimary:ke,colorPrimaryActive:ke+"bf",colorPrimaryHover:ke+"d8",borderRadius:8,controlHeight:42,fontSize:15},qi={colorSplit:ee,margin:0,marginLG:0},Fi={activeBg:W,activeBorderColor:W,activeShadow:"red",hoverBorderColor:W,lineHeight:3,colorTextPlaceholder:ee,fontFamily:eo},Hi={activeBg:ce,activeBorderColor:W,activeShadow:"red",handleHoverColor:W,hoverBorderColor:W,colorTextPlaceholder:ee,fontFamily:eo,lineHeight:3,lineWidth:2},Gi={footerBg:ee,headerBg:ee,itemPadding:"16px 24px",itemPaddingLG:"32px 0",itemPaddingSM:"16px 0",colorSplit:si},Ui={activeBorderColor:W,activeOutlineColor:"transparent",clearBg:"#fff",hoverBorderColor:W,multipleItemBg:"red",multipleItemBorderColor:"trasparent",multipleItemBorderColorDisabled:"trasparent",multipleItemColorDisabled:"rgba(0,0,0,0.25)",multipleItemHeight:24,multipleItemHeightLG:32,multipleItemHeightSM:16,multipleSelectorBgDisabled:"rgba(0,0,0,0.04)",optionActiveBg:"red",optionFontSize:14,optionHeight:32,optionLineHeight:1.5714285714285714,optionPadding:"5px 12px",optionSelectedBg:"red",optionSelectedColor:W,optionSelectedFontWeight:600,selectorBg:ce,showArrowPaddingInlineEnd:18,singleItemHeightLG:40,zIndexPopup:1060,colorBgBase:ce,colorBgContainer:ce,colorBgContainerDisabled:"#fff",colorBgElevated:ce,colorBorder:ee,colorError:Ze,colorErrorBg:"#fff",colorErrorBgHover:"#fff",colorErrorHover:Ze,colorErrorOutline:Ze,colorFillSecondary:ee,colorFillTertiary:ee,colorIcon:"#fff",colorIconHover:"#fff",colorPrimary:W,colorSplit:ee,colorText:et,controlHeight:52,lineWidth:3,colorTextPlaceholder:et},Vi={handleShadow:"0 2px 2px 0 rgba(0, 35, 11, 0.2)",handleSize:22,innerMaxMargin:2,trackHeight:32,trackPadding:4,colorPrimary:ke,colorPrimaryBorder:ke,colorPrimaryHover:ke+"d8"},Wi={colorLink:Dt,colorLinkActive:W,colorLinkHover:Dt+"d8"};const Qi=({error:r})=>n.jsxs("div",{children:[n.jsx("p",{children:"Произошла необработанная ошибка:"}),n.jsx("blockquote",{children:n.jsx("code",{children:r instanceof Error?r.message:typeof r=="string"?r:JSON.stringify(r)})})]}),Je="cyan",Ki=()=>{var s;const r=De(),e=(s=r==null?void 0:r.initData)==null?void 0:s.startParam;console.log("%cЗапуск приложения",`color: ${Je}`),console.log(`%cДля запуска приложения в режиме отладки запустите бот с параметром: ?startapp=debug

    https://t.me/{botusername}/{appname}?startapp=debug`,`color: ${Je}`),console.log("%cПараметры запуска: %o",`color: ${Je}`,r);const t=(e==null?void 0:e.includes("debug"))||e==="debug";console.log("%cРежим отладки: %o",`color: ${Je}`,t);const o=w.useMemo(()=>new URL("tonconnect-manifest.json",window.location.href).toString(),[]);return w.useEffect(()=>{},[t]),n.jsx(Jo,{manifestUrl:o,children:n.jsx(Zo,{theme:{token:zi,components:{Button:Ri,Input:Fi,Select:Ui,Divider:qi,List:Gi,Typography:Wi,Switch:Vi,InputNumber:Hi}},children:n.jsx(Bi,{})})})},Xi=()=>n.jsx(oo,{fallback:Qi,children:n.jsx(Ki,{})});ei(document.getElementById("root")).render(n.jsx(Xi,{}));
