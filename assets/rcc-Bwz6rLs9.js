import{d as fr}from"./cbk-BFVRsCex.js";import{r as c,b as ot}from"./react-CiEDHvEQ.js";import{c as Ir,u as te,I as st,a as ut,r as Tn,s as Kn,q as On,C as Yn,R as Xn,n as ft,J as ct,o as er,L as Mn,p as lt,g as Sn,Q as vt,U as dt}from"./rc-B2lC-zEV.js";import{h as pn,i as et,a as En,_ as Dn,k as Nn,e as D,d as xe,c as k,f as Te,b as Be,j as Ln,o as ht,g as rt}from"./babel-BmBN8KSe.js";import{F as nt}from"./antd-DOkTnhz_.js";var gt=["b"],mt=["v"],bn=function(e){return Math.round(Number(e||0))},yt=function(e){if(e instanceof nt)return e;if(e&&xe(e)==="object"&&"h"in e&&"b"in e){var r=e,t=r.b,a=Nn(r,gt);return D(D({},a),{},{v:t})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Rn=function(n){pn(r,n);var e=et(r);function r(t){return En(this,r),e.call(this,yt(t))}return Dn(r,[{key:"toHsbString",value:function(){var a=this.toHsb(),o=bn(a.s*100),i=bn(a.b*100),s=bn(a.h),v=a.a,M="hsb(".concat(s,", ").concat(o,"%, ").concat(i,"%)"),m="hsba(".concat(s,", ").concat(o,"%, ").concat(i,"%, ").concat(v.toFixed(v===0?0:2),")");return v===1?M:m}},{key:"toHsb",value:function(){var a=this.toHsv(),o=a.v,i=Nn(a,mt);return D(D({},i),{},{b:o,a:this.a})}}]),r}(nt),wt=function(e){return e instanceof Rn?e:new Rn(e)};wt("#1677ff");var tt=c.createContext(null),$n=[];function bt(n,e){var r=c.useState(function(){if(!Ir())return null;var f=document.createElement("div");return f}),t=k(r,1),a=t[0],o=c.useRef(!1),i=c.useContext(tt),s=c.useState($n),v=k(s,2),M=v[0],m=v[1],g=i||(o.current?void 0:function(f){m(function(w){var u=[f].concat(Te(w));return u})});function C(){a.parentElement||document.body.appendChild(a),o.current=!0}function d(){var f;(f=a.parentElement)===null||f===void 0||f.removeChild(a),o.current=!1}return te(function(){return n?i?i(C):C():d(),d},[n]),te(function(){M.length&&(M.forEach(function(f){return f()}),m($n))},[M]),[a,g]}function Ct(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Mt="rc-util-locker-".concat(Date.now()),kn=0;function St(n){var e=!!n,r=c.useState(function(){return kn+=1,"".concat(Mt,"_").concat(kn)}),t=k(r,1),a=t[0];te(function(){if(e){var o=st(document.body).width,i=Ct();ut(`
html body {
  overflow-y: hidden;
  `.concat(i?"width: calc(100% - ".concat(o,"px);"):"",`
}`),a)}else Tn(a);return function(){Tn(a)}},[e,a])}var Pt=!1;function qt(n){return Pt}var Hn=function(e){return e===!1?!1:!Ir()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},at=c.forwardRef(function(n,e){var r=n.open,t=n.autoLock,a=n.getContainer;n.debug;var o=n.autoDestroy,i=o===void 0?!0:o,s=n.children,v=c.useState(r),M=k(v,2),m=M[0],g=M[1],C=m||r;c.useEffect(function(){(i||r)&&g(r)},[r,i]);var d=c.useState(function(){return Hn(a)}),f=k(d,2),w=f[0],u=f[1];c.useEffect(function(){var Y=Hn(a);u(Y??null)});var P=bt(C&&!w),b=k(P,2),S=b[0],x=b[1],F=w??S;St(t&&r&&Ir()&&(F===S||F===document.body));var h=null;if(s&&Kn(s)&&e){var R=s;h=R.ref}var _=On(h,e);if(!C||!Ir()||w===void 0)return null;var j=F===!1||qt(),U=s;return e&&(U=c.cloneElement(s,{ref:_})),c.createElement(tt.Provider,{value:x},j?U:ot.createPortal(U,F))});function Pn(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var qn=Pn();var Ft=/%[sdj%]/g,xt=function(){};function Fn(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var t=r.field;e[t]=e[t]||[],e[t].push(r)}),e}function ae(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var a=0,o=r.length;if(typeof n=="function")return n.apply(null,r);if(typeof n=="string"){var i=n.replace(Ft,function(s){if(s==="%%")return"%";if(a>=o)return s;switch(s){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return s}});return i}return n}function Et(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function B(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Et(e)&&typeof n=="string"&&!n)}function Dt(n,e,r){var t=[],a=0,o=n.length;function i(s){t.push.apply(t,Te(s||[])),a++,a===o&&r(t)}n.forEach(function(s){e(s,i)})}function jn(n,e,r){var t=0,a=n.length;function o(i){if(i&&i.length){r(i);return}var s=t;t=t+1,s<a?e(n[s],o):r([])}o([])}function Nt(n){var e=[];return Object.keys(n).forEach(function(r){e.push.apply(e,Te(n[r]||[]))}),e}var Wn=function(n){pn(r,n);var e=et(r);function r(t,a){var o;return En(this,r),o=e.call(this,"Async Validation Error"),Be(Ln(o),"errors",void 0),Be(Ln(o),"fields",void 0),o.errors=t,o.fields=a,o}return Dn(r)}(ht(Error));function At(n,e,r,t,a){if(e.first){var o=new Promise(function(C,d){var f=function(P){return t(P),P.length?d(new Wn(P,Fn(P))):C(a)},w=Nt(n);jn(w,r,f)});return o.catch(function(C){return C}),o}var i=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),v=s.length,M=0,m=[],g=new Promise(function(C,d){var f=function(u){if(m.push.apply(m,u),M++,M===v)return t(m),m.length?d(new Wn(m,Fn(m))):C(a)};s.length||(t(m),C(a)),s.forEach(function(w){var u=n[w];i.indexOf(w)!==-1?jn(u,r,f):Dt(u,r,f)})});return g.catch(function(C){return C}),g}function Tt(n){return!!(n&&n.message!==void 0)}function Lt(n,e){for(var r=n,t=0;t<e.length;t++){if(r==null)return r;r=r[e[t]]}return r}function zn(n,e){return function(r){var t;return n.fullFields?t=Lt(e,n.fullFields):t=e[r.field||n.fullField],Tt(r)?(r.field=r.field||n.fullField,r.fieldValue=t,r):{message:typeof r=="function"?r():r,fieldValue:t,field:r.field||n.fullField}}}function Vn(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];xe(t)==="object"&&xe(n[r])==="object"?n[r]=D(D({},n[r]),t):n[r]=t}}return n}var sr="enum",Rt=function(e,r,t,a,o){e[sr]=Array.isArray(e[sr])?e[sr]:[],e[sr].indexOf(r)===-1&&a.push(ae(o.messages[sr],e.fullField,e[sr].join(", ")))},$t=function(e,r,t,a,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(ae(o.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var i=new RegExp(e.pattern);i.test(r)||a.push(ae(o.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},kt=function(e,r,t,a,o){var i=typeof e.len=="number",s=typeof e.min=="number",v=typeof e.max=="number",M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r,g=null,C=typeof r=="number",d=typeof r=="string",f=Array.isArray(r);if(C?g="number":d?g="string":f&&(g="array"),!g)return!1;f&&(m=r.length),d&&(m=r.replace(M,"_").length),i?m!==e.len&&a.push(ae(o.messages[g].len,e.fullField,e.len)):s&&!v&&m<e.min?a.push(ae(o.messages[g].min,e.fullField,e.min)):v&&!s&&m>e.max?a.push(ae(o.messages[g].max,e.fullField,e.max)):s&&v&&(m<e.min||m>e.max)&&a.push(ae(o.messages[g].range,e.fullField,e.min,e.max))},it=function(e,r,t,a,o,i){e.required&&(!t.hasOwnProperty(e.field)||B(r,i||e.type))&&a.push(ae(o.messages.required,e.fullField))},Qr;const Ht=function(){if(Qr)return Qr;var n="[a-fA-F\\d:]",e=function(h){return h&&h.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",t="[a-fA-F\\d]{1,4}",a=["(?:".concat(t,":){7}(?:").concat(t,"|:)"),"(?:".concat(t,":){6}(?:").concat(r,"|:").concat(t,"|:)"),"(?:".concat(t,":){5}(?::").concat(r,"|(?::").concat(t,"){1,2}|:)"),"(?:".concat(t,":){4}(?:(?::").concat(t,"){0,1}:").concat(r,"|(?::").concat(t,"){1,3}|:)"),"(?:".concat(t,":){3}(?:(?::").concat(t,"){0,2}:").concat(r,"|(?::").concat(t,"){1,4}|:)"),"(?:".concat(t,":){2}(?:(?::").concat(t,"){0,3}:").concat(r,"|(?::").concat(t,"){1,5}|:)"),"(?:".concat(t,":){1}(?:(?::").concat(t,"){0,4}:").concat(r,"|(?::").concat(t,"){1,6}|:)"),"(?::(?:(?::".concat(t,"){0,5}:").concat(r,"|(?::").concat(t,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",i="(?:".concat(a.join("|"),")").concat(o),s=new RegExp("(?:^".concat(r,"$)|(?:^").concat(i,"$)")),v=new RegExp("^".concat(r,"$")),M=new RegExp("^".concat(i,"$")),m=function(h){return h&&h.exact?s:new RegExp("(?:".concat(e(h)).concat(r).concat(e(h),")|(?:").concat(e(h)).concat(i).concat(e(h),")"),"g")};m.v4=function(F){return F&&F.exact?v:new RegExp("".concat(e(F)).concat(r).concat(e(F)),"g")},m.v6=function(F){return F&&F.exact?M:new RegExp("".concat(e(F)).concat(i).concat(e(F)),"g")};var g="(?:(?:[a-z]+:)?//)",C="(?:\\S+(?::\\S*)?@)?",d=m.v4().source,f=m.v6().source,w="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",u="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",P="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",S='(?:[/?#][^\\s"]*)?',x="(?:".concat(g,"|www\\.)").concat(C,"(?:localhost|").concat(d,"|").concat(f,"|").concat(w).concat(u).concat(P,")").concat(b).concat(S);return Qr=new RegExp("(?:^".concat(x,"$)"),"i"),Qr};var Bn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Mr={integer:function(e){return Mr.number(e)&&parseInt(e,10)===e},float:function(e){return Mr.number(e)&&!Mr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return xe(e)==="object"&&!Mr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Bn.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Ht())},hex:function(e){return typeof e=="string"&&!!e.match(Bn.hex)}},jt=function(e,r,t,a,o){if(e.required&&r===void 0){it(e,r,t,a,o);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;i.indexOf(s)>-1?Mr[s](r)||a.push(ae(o.messages.types[s],e.fullField,e.type)):s&&xe(r)!==e.type&&a.push(ae(o.messages.types[s],e.fullField,e.type))},Wt=function(e,r,t,a,o){(/^\s+$/.test(r)||r==="")&&a.push(ae(o.messages.whitespace,e.fullField))};const q={required:it,whitespace:Wt,type:jt,range:kt,enum:Rt,pattern:$t};var zt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o)}t(i)},Vt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r==null&&!e.required)return t();q.required(e,r,a,i,o,"array"),r!=null&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},Bt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q.type(e,r,a,i,o)}t(i)},_t=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"date")&&!e.required)return t();if(q.required(e,r,a,i,o),!B(r,"date")){var v;r instanceof Date?v=r:v=new Date(r),q.type(e,v,a,i,o),v&&q.range(e,v.getTime(),a,i,o)}}t(i)},Ut="enum",Jt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q[Ut](e,r,a,i,o)}t(i)},Qt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},It=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},Zt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q.type(e,r,a,i,o)}t(i)},Gt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r===""&&(r=void 0),B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},Kt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q.type(e,r,a,i,o)}t(i)},Ot=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"string")&&!e.required)return t();q.required(e,r,a,i,o),B(r,"string")||q.pattern(e,r,a,i,o)}t(i)},Yt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),B(r)||q.type(e,r,a,i,o)}t(i)},Xt=function(e,r,t,a,o){var i=[],s=Array.isArray(r)?"array":xe(r);q.required(e,r,a,i,o,s),t(i)},pt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"string")&&!e.required)return t();q.required(e,r,a,i,o,"string"),B(r,"string")||(q.type(e,r,a,i,o),q.range(e,r,a,i,o),q.pattern(e,r,a,i,o),e.whitespace===!0&&q.whitespace(e,r,a,i,o))}t(i)},Cn=function(e,r,t,a,o){var i=e.type,s=[],v=e.required||!e.required&&a.hasOwnProperty(e.field);if(v){if(B(r,i)&&!e.required)return t();q.required(e,r,a,s,o,i),B(r,i)||q.type(e,r,a,s,o)}t(s)};const Sr={string:pt,method:Zt,number:Gt,boolean:Bt,regexp:Yt,integer:It,float:Qt,array:Vt,object:Kt,enum:Jt,pattern:Ot,date:_t,url:Cn,hex:Cn,email:Cn,required:Xt,any:zt};var Zr=function(){function n(e){En(this,n),Be(this,"rules",null),Be(this,"_messages",qn),this.define(e)}return Dn(n,[{key:"define",value:function(r){var t=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(xe(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var o=r[a];t.rules[a]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(r){return r&&(this._messages=Vn(Pn(),r)),this._messages}},{key:"validate",value:function(r){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=r,s=a,v=o;if(typeof s=="function"&&(v=s,s={}),!this.rules||Object.keys(this.rules).length===0)return v&&v(null,i),Promise.resolve(i);function M(f){var w=[],u={};function P(S){if(Array.isArray(S)){var x;w=(x=w).concat.apply(x,Te(S))}else w.push(S)}for(var b=0;b<f.length;b++)P(f[b]);w.length?(u=Fn(w),v(w,u)):v(null,i)}if(s.messages){var m=this.messages();m===qn&&(m=Pn()),Vn(m,s.messages),s.messages=m}else s.messages=this.messages();var g={},C=s.keys||Object.keys(this.rules);C.forEach(function(f){var w=t.rules[f],u=i[f];w.forEach(function(P){var b=P;typeof b.transform=="function"&&(i===r&&(i=D({},i)),u=i[f]=b.transform(u),u!=null&&(b.type=b.type||(Array.isArray(u)?"array":xe(u)))),typeof b=="function"?b={validator:b}:b=D({},b),b.validator=t.getValidationMethod(b),b.validator&&(b.field=f,b.fullField=b.fullField||f,b.type=t.getType(b),g[f]=g[f]||[],g[f].push({rule:b,value:u,source:i,field:f}))})});var d={};return At(g,s,function(f,w){var u=f.rule,P=(u.type==="object"||u.type==="array")&&(xe(u.fields)==="object"||xe(u.defaultField)==="object");P=P&&(u.required||!u.required&&f.value),u.field=f.field;function b(R,_){return D(D({},_),{},{fullField:"".concat(u.fullField,".").concat(R),fullFields:u.fullFields?[].concat(Te(u.fullFields),[R]):[R]})}function S(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=Array.isArray(R)?R:[R];!s.suppressWarning&&_.length&&n.warning("async-validator:",_),_.length&&u.message!==void 0&&(_=[].concat(u.message));var j=_.map(zn(u,i));if(s.first&&j.length)return d[u.field]=1,w(j);if(!P)w(j);else{if(u.required&&!f.value)return u.message!==void 0?j=[].concat(u.message).map(zn(u,i)):s.error&&(j=[s.error(u,ae(s.messages.required,u.field))]),w(j);var U={};u.defaultField&&Object.keys(f.value).map(function(z){U[z]=u.defaultField}),U=D(D({},U),f.rule.fields);var Y={};Object.keys(U).forEach(function(z){var W=U[z],ve=Array.isArray(W)?W:[W];Y[z]=ve.map(b.bind(null,z))});var ie=new n(Y);ie.messages(s.messages),f.rule.options&&(f.rule.options.messages=s.messages,f.rule.options.error=s.error),ie.validate(f.value,f.rule.options||s,function(z){var W=[];j&&j.length&&W.push.apply(W,Te(j)),z&&z.length&&W.push.apply(W,Te(z)),w(W.length?W:null)})}}var x;if(u.asyncValidator)x=u.asyncValidator(u,f.value,S,f.source,s);else if(u.validator){try{x=u.validator(u,f.value,S,f.source,s)}catch(R){var F,h;(F=(h=console).error)===null||F===void 0||F.call(h,R),s.suppressValidatorError||setTimeout(function(){throw R},0),S(R.message)}x===!0?S():x===!1?S(typeof u.message=="function"?u.message(u.fullField||u.field):u.message||"".concat(u.fullField||u.field," fails")):x instanceof Array?S(x):x instanceof Error&&S(x.message)}x&&x.then&&x.then(function(){return S()},function(R){return S(R)})},function(f){M(f)},i)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Sr.hasOwnProperty(r.type))throw new Error(ae("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var t=Object.keys(r),a=t.indexOf("message");return a!==-1&&t.splice(a,1),t.length===1&&t[0]==="required"?Sr.required:Sr[this.getType(r)]||void 0}}]),n}();Be(Zr,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Sr[e]=r});Be(Zr,"warning",xt);Be(Zr,"messages",qn);Be(Zr,"validators",Sr);function ea(n){var e=n.prefixCls,r=n.align,t=n.arrow,a=n.arrowPos,o=t||{},i=o.className,s=o.content,v=a.x,M=v===void 0?0:v,m=a.y,g=m===void 0?0:m,C=c.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var f=r.points[0],w=r.points[1],u=f[0],P=f[1],b=w[0],S=w[1];u===b||!["t","b"].includes(u)?d.top=g:u==="t"?d.top=0:d.bottom=0,P===S||!["l","r"].includes(P)?d.left=M:P==="l"?d.left=0:d.right=0}return c.createElement("div",{ref:C,className:fr("".concat(e,"-arrow"),i),style:d},s)}function ra(n){var e=n.prefixCls,r=n.open,t=n.zIndex,a=n.mask,o=n.motion;return a?c.createElement(Yn,rt({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(i){var s=i.className;return c.createElement("div",{style:{zIndex:t},className:fr("".concat(e,"-mask"),s)})}):null}var na=c.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),ta=c.forwardRef(function(n,e){var r=n.popup,t=n.className,a=n.prefixCls,o=n.style,i=n.target,s=n.onVisibleChanged,v=n.open,M=n.keepDom,m=n.fresh,g=n.onClick,C=n.mask,d=n.arrow,f=n.arrowPos,w=n.align,u=n.motion,P=n.maskMotion,b=n.forceRender,S=n.getPopupContainer,x=n.autoDestroy,F=n.portal,h=n.zIndex,R=n.onMouseEnter,_=n.onMouseLeave,j=n.onPointerEnter,U=n.onPointerDownCapture,Y=n.ready,ie=n.offsetX,z=n.offsetY,W=n.offsetR,ve=n.offsetB,p=n.onAlign,Ee=n.onPrepare,Q=n.stretch,Z=n.targetWidth,E=n.targetHeight,_e=typeof r=="function"?r():r,de=v||M,I=(S==null?void 0:S.length)>0,N=c.useState(!S||!I),ee=k(N,2),Ue=ee[0],cr=ee[1];if(te(function(){!Ue&&I&&i&&cr(!0)},[Ue,I,i]),!Ue)return null;var be="auto",re={left:"-1000vw",top:"-1000vh",right:be,bottom:be};if(Y||!v){var Le,Je=w.points,oe=w.dynamicInset||((Le=w._experimental)===null||Le===void 0?void 0:Le.dynamicInset),Ce=oe&&Je[0][1]==="r",he=oe&&Je[0][0]==="b";Ce?(re.right=W,re.left=be):(re.left=ie,re.right=be),he?(re.bottom=ve,re.top=be):(re.top=z,re.bottom=be)}var X={};return Q&&(Q.includes("height")&&E?X.height=E:Q.includes("minHeight")&&E&&(X.minHeight=E),Q.includes("width")&&Z?X.width=Z:Q.includes("minWidth")&&Z&&(X.minWidth=Z)),v||(X.pointerEvents="none"),c.createElement(F,{open:b||de,getContainer:S&&function(){return S(i)},autoDestroy:x},c.createElement(ra,{prefixCls:a,open:v,zIndex:h,mask:C,motion:P}),c.createElement(Xn,{onResize:p,disabled:!v},function(lr){return c.createElement(Yn,rt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(a,"-hidden")},u,{onAppearPrepare:Ee,onEnterPrepare:Ee,visible:v,onVisibleChanged:function(se){var Me;u==null||(Me=u.onVisibleChanged)===null||Me===void 0||Me.call(u,se),s(se)}}),function(Re,se){var Me=Re.className,Qe=Re.style,G=fr(a,Me,t);return c.createElement("div",{ref:ft(lr,e,se),className:G,style:D(D(D(D({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},re),X),Qe),{},{boxSizing:"border-box",zIndex:h},o),onMouseEnter:R,onMouseLeave:_,onPointerEnter:j,onClick:g,onPointerDownCapture:U},d&&c.createElement(ea,{prefixCls:a,arrow:d,arrowPos:f,align:w}),c.createElement(na,{cache:!v&&!m},_e))})}))}),aa=c.forwardRef(function(n,e){var r=n.children,t=n.getTriggerDOMNode,a=Kn(r),o=c.useCallback(function(s){ct(e,t?t(s):s)},[t]),i=On(o,r.ref);return a?c.cloneElement(r,{ref:i}):r}),_n=c.createContext(null);function Un(n){return n?Array.isArray(n)?n:[n]:[]}function ia(n,e,r,t){return c.useMemo(function(){var a=Un(r??e),o=Un(t??e),i=new Set(a),s=new Set(o);return n&&(i.has("hover")&&(i.delete("hover"),i.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[i,s]},[n,e,r,t])}function oa(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function sa(n,e,r,t){for(var a=r.points,o=Object.keys(n),i=0;i<o.length;i+=1){var s,v=o[i];if(oa((s=n[v])===null||s===void 0?void 0:s.points,a,t))return"".concat(e,"-placement-").concat(v)}return""}function Jn(n,e,r,t){return e||(r?{motionName:"".concat(n,"-").concat(r)}:t?{motionName:t}:null)}function qr(n){return n.ownerDocument.defaultView}function xn(n){for(var e=[],r=n==null?void 0:n.parentElement,t=["hidden","scroll","clip","auto"];r;){var a=qr(r).getComputedStyle(r),o=a.overflowX,i=a.overflowY,s=a.overflow;[o,i,s].some(function(v){return t.includes(v)})&&e.push(r),r=r.parentElement}return e}function Pr(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Cr(n){return Pr(parseFloat(n),0)}function Qn(n,e){var r=D({},n);return(e||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var a=qr(t).getComputedStyle(t),o=a.overflow,i=a.overflowClipMargin,s=a.borderTopWidth,v=a.borderBottomWidth,M=a.borderLeftWidth,m=a.borderRightWidth,g=t.getBoundingClientRect(),C=t.offsetHeight,d=t.clientHeight,f=t.offsetWidth,w=t.clientWidth,u=Cr(s),P=Cr(v),b=Cr(M),S=Cr(m),x=Pr(Math.round(g.width/f*1e3)/1e3),F=Pr(Math.round(g.height/C*1e3)/1e3),h=(f-w-b-S)*x,R=(C-d-u-P)*F,_=u*F,j=P*F,U=b*x,Y=S*x,ie=0,z=0;if(o==="clip"){var W=Cr(i);ie=W*x,z=W*F}var ve=g.x+U-ie,p=g.y+_-z,Ee=ve+g.width+2*ie-U-Y-h,Q=p+g.height+2*z-_-j-R;r.left=Math.max(r.left,ve),r.top=Math.max(r.top,p),r.right=Math.min(r.right,Ee),r.bottom=Math.min(r.bottom,Q)}}),r}function In(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),t=r.match(/^(.*)\%$/);return t?n*(parseFloat(t[1])/100):parseFloat(r)}function Zn(n,e){var r=e||[],t=k(r,2),a=t[0],o=t[1];return[In(n.width,a),In(n.height,o)]}function Gn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function ur(n,e){var r=e[0],t=e[1],a,o;return r==="t"?o=n.y:r==="b"?o=n.y+n.height:o=n.y+n.height/2,t==="l"?a=n.x:t==="r"?a=n.x+n.width:a=n.x+n.width/2,{x:a,y:o}}function Ve(n,e){var r={t:"b",b:"t",l:"r",r:"l"};return n.map(function(t,a){return a===e?r[t]||"c":t}).join("")}function ua(n,e,r,t,a,o,i){var s=c.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[t]||{}}),v=k(s,2),M=v[0],m=v[1],g=c.useRef(0),C=c.useMemo(function(){return e?xn(e):[]},[e]),d=c.useRef({}),f=function(){d.current={}};n||f();var w=er(function(){if(e&&r&&n){let le=function(or,We){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fr,br=N.x+or,_r=N.y+We,gn=br+Ce,mn=_r+oe,yn=Math.max(br,ze.left),l=Math.max(_r,ze.top),y=Math.min(gn,ze.right),$=Math.min(mn,ze.bottom);return Math.max(0,(y-yn)*($-l))},Br=function(){Ke=N.y+L,Oe=Ke+oe,Ne=N.x+A,nr=Ne+Ce};var b,S,x,F,h=e,R=h.ownerDocument,_=qr(h),j=_.getComputedStyle(h),U=j.width,Y=j.height,ie=j.position,z=h.style.left,W=h.style.top,ve=h.style.right,p=h.style.bottom,Ee=h.style.overflow,Q=D(D({},a[t]),o),Z=R.createElement("div");(b=h.parentElement)===null||b===void 0||b.appendChild(Z),Z.style.left="".concat(h.offsetLeft,"px"),Z.style.top="".concat(h.offsetTop,"px"),Z.style.position=ie,Z.style.height="".concat(h.offsetHeight,"px"),Z.style.width="".concat(h.offsetWidth,"px"),h.style.left="0",h.style.top="0",h.style.right="auto",h.style.bottom="auto",h.style.overflow="hidden";var E;if(Array.isArray(r))E={x:r[0],y:r[1],width:0,height:0};else{var _e,de,I=r.getBoundingClientRect();I.x=(_e=I.x)!==null&&_e!==void 0?_e:I.left,I.y=(de=I.y)!==null&&de!==void 0?de:I.top,E={x:I.x,y:I.y,width:I.width,height:I.height}}var N=h.getBoundingClientRect();N.x=(S=N.x)!==null&&S!==void 0?S:N.left,N.y=(x=N.y)!==null&&x!==void 0?x:N.top;var ee=R.documentElement,Ue=ee.clientWidth,cr=ee.clientHeight,be=ee.scrollWidth,re=ee.scrollHeight,Le=ee.scrollTop,Je=ee.scrollLeft,oe=N.height,Ce=N.width,he=E.height,X=E.width,lr={left:0,top:0,right:Ue,bottom:cr},Re={left:-Je,top:-Le,right:be-Je,bottom:re-Le},se=Q.htmlRegion,Me="visible",Qe="visibleFirst";se!=="scroll"&&se!==Qe&&(se=Me);var G=se===Qe,Gr=Qn(Re,C),T=Qn(lr,C),Fr=se===Me?T:Gr,Ie=G?T:Fr;h.style.left="auto",h.style.top="auto",h.style.right="0",h.style.bottom="0";var K=h.getBoundingClientRect();h.style.left=z,h.style.top=W,h.style.right=ve,h.style.bottom=p,h.style.overflow=Ee,(F=h.parentElement)===null||F===void 0||F.removeChild(Z);var $e=Pr(Math.round(Ce/parseFloat(U)*1e3)/1e3),De=Pr(Math.round(oe/parseFloat(Y)*1e3)/1e3);if($e===0||De===0||Mn(r)&&!lt(r))return;var Kr=Q.offset,Or=Q.targetOffset,xr=Zn(N,Kr),ge=k(xr,2),me=ge[0],ue=ge[1],Yr=Zn(E,Or),Ze=k(Yr,2),fe=Ze[0],ke=Ze[1];E.x-=fe,E.y-=ke;var Xr=Q.points||[],Er=k(Xr,2),pr=Er[0],en=Er[1],Se=Gn(en),ne=Gn(pr),vr=ur(E,Se),O=ur(N,ne),He=D({},Q),A=vr.x-O.x+me,L=vr.y-O.y+ue,ye=le(A,L),Ge=le(A,L,T),dr=ur(E,["t","l"]),ce=ur(N,["t","l"]),Dr=ur(E,["b","r"]),hr=ur(N,["b","r"]),je=Q.overflow||{},Nr=je.adjustX,rn=je.adjustY,gr=je.shiftX,rr=je.shiftY,mr=function(We){return typeof We=="boolean"?We:We>=0},Ke,Oe,Ne,nr;Br();var Ye=mr(rn),Ar=ne[0]===Se[0];if(Ye&&ne[0]==="t"&&(Oe>Ie.bottom||d.current.bt)){var J=L;Ar?J-=oe-he:J=dr.y-hr.y-ue;var Tr=le(A,J),nn=le(A,J,T);Tr>ye||Tr===ye&&(!G||nn>=Ge)?(d.current.bt=!0,L=J,ue=-ue,He.points=[Ve(ne,0),Ve(Se,0)]):d.current.bt=!1}if(Ye&&ne[0]==="b"&&(Ke<Ie.top||d.current.tb)){var Xe=L;Ar?Xe+=oe-he:Xe=Dr.y-ce.y-ue;var Lr=le(A,Xe),tn=le(A,Xe,T);Lr>ye||Lr===ye&&(!G||tn>=Ge)?(d.current.tb=!0,L=Xe,ue=-ue,He.points=[Ve(ne,0),Ve(Se,0)]):d.current.tb=!1}var Rr=mr(Nr),$r=ne[1]===Se[1];if(Rr&&ne[1]==="l"&&(nr>Ie.right||d.current.rl)){var pe=A;$r?pe-=Ce-X:pe=dr.x-hr.x-me;var kr=le(pe,L),tr=le(pe,L,T);kr>ye||kr===ye&&(!G||tr>=Ge)?(d.current.rl=!0,A=pe,me=-me,He.points=[Ve(ne,1),Ve(Se,1)]):d.current.rl=!1}if(Rr&&ne[1]==="r"&&(Ne<Ie.left||d.current.lr)){var Ae=A;$r?Ae+=Ce-X:Ae=Dr.x-ce.x-me;var Hr=le(Ae,L),jr=le(Ae,L,T);Hr>ye||Hr===ye&&(!G||jr>=Ge)?(d.current.lr=!0,A=Ae,me=-me,He.points=[Ve(ne,1),Ve(Se,1)]):d.current.lr=!1}Br();var Pe=gr===!0?0:gr;typeof Pe=="number"&&(Ne<T.left&&(A-=Ne-T.left-me,E.x+X<T.left+Pe&&(A+=E.x-T.left+X-Pe)),nr>T.right&&(A-=nr-T.right-me,E.x>T.right-Pe&&(A+=E.x-T.right+Pe)));var we=rr===!0?0:rr;typeof we=="number"&&(Ke<T.top&&(L-=Ke-T.top-ue,E.y+he<T.top+we&&(L+=E.y-T.top+he-we)),Oe>T.bottom&&(L-=Oe-T.bottom-ue,E.y>T.bottom-we&&(L+=E.y-T.bottom+we)));var ar=N.x+A,ir=ar+Ce,qe=N.y+L,an=qe+oe,Wr=E.x,on=Wr+X,yr=E.y,sn=yr+he,un=Math.max(ar,Wr),fn=Math.min(ir,on),zr=(un+fn)/2,cn=zr-ar,ln=Math.max(qe,yr),Vr=Math.min(an,sn),vn=(ln+Vr)/2,dn=vn-qe;i==null||i(e,He);var wr=K.right-N.x-(A+N.width),Fe=K.bottom-N.y-(L+N.height);$e===1&&(A=Math.round(A),wr=Math.round(wr)),De===1&&(L=Math.round(L),Fe=Math.round(Fe));var hn={ready:!0,offsetX:A/$e,offsetY:L/De,offsetR:wr/$e,offsetB:Fe/De,arrowX:cn/$e,arrowY:dn/De,scaleX:$e,scaleY:De,align:He};m(hn)}}),u=function(){g.current+=1;var S=g.current;Promise.resolve().then(function(){g.current===S&&w()})},P=function(){m(function(S){return D(D({},S),{},{ready:!1})})};return te(P,[t]),te(function(){n||P()},[n]),[M.ready,M.offsetX,M.offsetY,M.offsetR,M.offsetB,M.arrowX,M.arrowY,M.scaleX,M.scaleY,M.align,u]}function fa(n,e,r,t,a){te(function(){if(n&&e&&r){let g=function(){t(),a()};var o=e,i=r,s=xn(o),v=xn(i),M=qr(i),m=new Set([M].concat(Te(s),Te(v)));return m.forEach(function(C){C.addEventListener("scroll",g,{passive:!0})}),M.addEventListener("resize",g,{passive:!0}),t(),function(){m.forEach(function(C){C.removeEventListener("scroll",g),M.removeEventListener("resize",g)})}}},[n,e,r])}function ca(n,e,r,t,a,o,i,s){var v=c.useRef(n);v.current=n;var M=c.useRef(!1);c.useEffect(function(){if(e&&t&&(!a||o)){var g=function(){M.current=!1},C=function(u){var P;v.current&&!i(((P=u.composedPath)===null||P===void 0||(P=P.call(u))===null||P===void 0?void 0:P[0])||u.target)&&!M.current&&s(!1)},d=qr(t);d.addEventListener("pointerdown",g,!0),d.addEventListener("mousedown",C,!0),d.addEventListener("contextmenu",C,!0);var f=Sn(r);return f&&(f.addEventListener("mousedown",C,!0),f.addEventListener("contextmenu",C,!0)),function(){d.removeEventListener("pointerdown",g,!0),d.removeEventListener("mousedown",C,!0),d.removeEventListener("contextmenu",C,!0),f&&(f.removeEventListener("mousedown",C,!0),f.removeEventListener("contextmenu",C,!0))}}},[e,r,t,a,o]);function m(){M.current=!0}return m}var la=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function va(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at,e=c.forwardRef(function(r,t){var a=r.prefixCls,o=a===void 0?"rc-trigger-popup":a,i=r.children,s=r.action,v=s===void 0?"hover":s,M=r.showAction,m=r.hideAction,g=r.popupVisible,C=r.defaultPopupVisible,d=r.onPopupVisibleChange,f=r.afterPopupVisibleChange,w=r.mouseEnterDelay,u=r.mouseLeaveDelay,P=u===void 0?.1:u,b=r.focusDelay,S=r.blurDelay,x=r.mask,F=r.maskClosable,h=F===void 0?!0:F,R=r.getPopupContainer,_=r.forceRender,j=r.autoDestroy,U=r.destroyPopupOnHide,Y=r.popup,ie=r.popupClassName,z=r.popupStyle,W=r.popupPlacement,ve=r.builtinPlacements,p=ve===void 0?{}:ve,Ee=r.popupAlign,Q=r.zIndex,Z=r.stretch,E=r.getPopupClassNameFromAlign,_e=r.fresh,de=r.alignPoint,I=r.onPopupClick,N=r.onPopupAlign,ee=r.arrow,Ue=r.popupMotion,cr=r.maskMotion,be=r.popupTransitionName,re=r.popupAnimation,Le=r.maskTransitionName,Je=r.maskAnimation,oe=r.className,Ce=r.getTriggerDOMNode,he=Nn(r,la),X=j||U||!1,lr=c.useState(!1),Re=k(lr,2),se=Re[0],Me=Re[1];te(function(){Me(vt())},[]);var Qe=c.useRef({}),G=c.useContext(_n),Gr=c.useMemo(function(){return{registerSubPopup:function(y,$){Qe.current[y]=$,G==null||G.registerSubPopup(y,$)}}},[G]),T=dt(),Fr=c.useState(null),Ie=k(Fr,2),K=Ie[0],$e=Ie[1],De=c.useRef(null),Kr=er(function(l){De.current=l,Mn(l)&&K!==l&&$e(l),G==null||G.registerSubPopup(T,l)}),Or=c.useState(null),xr=k(Or,2),ge=xr[0],me=xr[1],ue=c.useRef(null),Yr=er(function(l){Mn(l)&&ge!==l&&(me(l),ue.current=l)}),Ze=c.Children.only(i),fe=(Ze==null?void 0:Ze.props)||{},ke={},Xr=er(function(l){var y,$,V=ge;return(V==null?void 0:V.contains(l))||((y=Sn(V))===null||y===void 0?void 0:y.host)===l||l===V||(K==null?void 0:K.contains(l))||(($=Sn(K))===null||$===void 0?void 0:$.host)===l||l===K||Object.values(Qe.current).some(function(H){return(H==null?void 0:H.contains(l))||l===H})}),Er=Jn(o,Ue,re,be),pr=Jn(o,cr,Je,Le),en=c.useState(C||!1),Se=k(en,2),ne=Se[0],vr=Se[1],O=g??ne,He=er(function(l){g===void 0&&vr(l)});te(function(){vr(g||!1)},[g]);var A=c.useRef(O);A.current=O;var L=c.useRef([]);L.current=[];var ye=er(function(l){var y;He(l),((y=L.current[L.current.length-1])!==null&&y!==void 0?y:O)!==l&&(L.current.push(l),d==null||d(l))}),Ge=c.useRef(),dr=function(){clearTimeout(Ge.current)},ce=function(y){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;dr(),$===0?ye(y):Ge.current=setTimeout(function(){ye(y)},$*1e3)};c.useEffect(function(){return dr},[]);var Dr=c.useState(!1),hr=k(Dr,2),je=hr[0],Nr=hr[1];te(function(l){(!l||O)&&Nr(!0)},[O]);var rn=c.useState(null),gr=k(rn,2),rr=gr[0],mr=gr[1],Ke=c.useState(null),Oe=k(Ke,2),Ne=Oe[0],nr=Oe[1],Ye=function(y){nr([y.clientX,y.clientY])},Ar=ua(O,K,de&&Ne!==null?Ne:ge,W,p,Ee,N),J=k(Ar,11),Tr=J[0],nn=J[1],Xe=J[2],Lr=J[3],tn=J[4],Rr=J[5],$r=J[6],pe=J[7],kr=J[8],tr=J[9],Ae=J[10],Hr=ia(se,v,M,m),jr=k(Hr,2),Pe=jr[0],we=jr[1],ar=Pe.has("click"),ir=we.has("click")||we.has("contextMenu"),qe=er(function(){je||Ae()}),an=function(){A.current&&de&&ir&&ce(!1)};fa(O,ge,K,qe,an),te(function(){qe()},[Ne,W]),te(function(){O&&!(p!=null&&p[W])&&qe()},[JSON.stringify(Ee)]);var Wr=c.useMemo(function(){var l=sa(p,o,tr,de);return fr(l,E==null?void 0:E(tr))},[tr,E,p,o,de]);c.useImperativeHandle(t,function(){return{nativeElement:ue.current,popupElement:De.current,forceAlign:qe}});var on=c.useState(0),yr=k(on,2),sn=yr[0],un=yr[1],fn=c.useState(0),zr=k(fn,2),cn=zr[0],ln=zr[1],Vr=function(){if(Z&&ge){var y=ge.getBoundingClientRect();un(y.width),ln(y.height)}},vn=function(){Vr(),qe()},dn=function(y){Nr(!1),Ae(),f==null||f(y)},wr=function(){return new Promise(function(y){Vr(),mr(function(){return y})})};te(function(){rr&&(Ae(),rr(),mr(null))},[rr]);function Fe(l,y,$,V){ke[l]=function(H){var Ur;V==null||V(H),ce(y,$);for(var wn=arguments.length,An=new Array(wn>1?wn-1:0),Jr=1;Jr<wn;Jr++)An[Jr-1]=arguments[Jr];(Ur=fe[l])===null||Ur===void 0||Ur.call.apply(Ur,[fe,H].concat(An))}}(ar||ir)&&(ke.onClick=function(l){var y;A.current&&ir?ce(!1):!A.current&&ar&&(Ye(l),ce(!0));for(var $=arguments.length,V=new Array($>1?$-1:0),H=1;H<$;H++)V[H-1]=arguments[H];(y=fe.onClick)===null||y===void 0||y.call.apply(y,[fe,l].concat(V))});var hn=ca(O,ir,ge,K,x,h,Xr,ce),le=Pe.has("hover"),Br=we.has("hover"),or,We;le&&(Fe("onMouseEnter",!0,w,function(l){Ye(l)}),Fe("onPointerEnter",!0,w,function(l){Ye(l)}),or=function(y){(O||je)&&K!==null&&K!==void 0&&K.contains(y.target)&&ce(!0,w)},de&&(ke.onMouseMove=function(l){var y;(y=fe.onMouseMove)===null||y===void 0||y.call(fe,l)})),Br&&(Fe("onMouseLeave",!1,P),Fe("onPointerLeave",!1,P),We=function(){ce(!1,P)}),Pe.has("focus")&&Fe("onFocus",!0,b),we.has("focus")&&Fe("onBlur",!1,S),Pe.has("contextMenu")&&(ke.onContextMenu=function(l){var y;A.current&&we.has("contextMenu")?ce(!1):(Ye(l),ce(!0)),l.preventDefault();for(var $=arguments.length,V=new Array($>1?$-1:0),H=1;H<$;H++)V[H-1]=arguments[H];(y=fe.onContextMenu)===null||y===void 0||y.call.apply(y,[fe,l].concat(V))}),oe&&(ke.className=fr(fe.className,oe));var ze=D(D({},fe),ke),br={},_r=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];_r.forEach(function(l){he[l]&&(br[l]=function(){for(var y,$=arguments.length,V=new Array($),H=0;H<$;H++)V[H]=arguments[H];(y=ze[l])===null||y===void 0||y.call.apply(y,[ze].concat(V)),he[l].apply(he,V)})});var gn=c.cloneElement(Ze,D(D({},ze),br)),mn={x:Rr,y:$r},yn=ee?D({},ee!==!0?ee:{}):null;return c.createElement(c.Fragment,null,c.createElement(Xn,{disabled:!O,ref:Yr,onResize:vn},c.createElement(aa,{getTriggerDOMNode:Ce},gn)),c.createElement(_n.Provider,{value:Gr},c.createElement(ta,{portal:n,ref:Kr,prefixCls:o,popup:Y,className:fr(ie,Wr),style:z,target:ge,onMouseEnter:or,onMouseLeave:We,onPointerEnter:or,zIndex:Q,open:O,keepDom:je,fresh:_e,onClick:I,onPointerDownCapture:hn,mask:x,motion:Er,maskMotion:pr,onVisibleChanged:dn,onPrepare:wr,forceRender:_,autoDestroy:X,getPopupContainer:R,align:tr,arrow:yn,arrowPos:mn,ready:Tr,offsetX:nn,offsetY:Xe,offsetR:Lr,offsetB:tn,onAlign:qe,stretch:Z,targetWidth:sn/pe,targetHeight:cn/kr})))});return e}const wa=va(at);export{Rn as C,at as P,Zr as S,wa as T};
