var Io=Object.defineProperty;var zo=(i,e,t)=>e in i?Io(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var jt=(i,e,t)=>zo(i,typeof e!="symbol"?e+"":e,t);import{_ as xo,T as Ro,z as Le,Z as ae,r as x,o as bo,j as n,L as Fo,w as wo,m as Re,h as kt,p as qo,A as Ne,B as Me,P as Ut,C as Gt,a as Wt,b as K,I as Ho,c as Uo,S as ut,d as Go,n as Wo,e as Vo,M as Qo,Q as Xo,f as Ko,g as Yo,H as Jo,Y as Zo,F as es,i as ts,k as wt,l as os,q as ss,s as yo,t as lt,u as xt,v as rs,x as is,y as $o,J as Ce,D as ns,E as as,R as ls,G as cs,K as hs,N as vo,O as ds,U as us,V as Vt,W as gs,X as ps,$ as ms,a0 as yt,a1 as Qt,a2 as Oe,a3 as fs,a4 as xs,a5 as bs,a6 as Xt,a7 as ws,a8 as ys,a9 as $s,aa as vs,ab as Cs}from"./vendor-GmVQL7lz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const Ss="0.0.1",Te="cyan";console.log("%cИнициализация приложения...",`color: ${Te}`);let H=!1;const ee=Le;console.log("%cminiApp: %o",`color: ${Te}`,ee);const z=ae;console.log("%cthemeParams: %o",`color: ${Te}`,z);try{xo(),Ro().then(i=>{console.log("%cisTMA: %o",`color: ${Te}`,i)}).catch(i=>{console.log("%cerror: %o",`color: ${Te}`,i)}),ee.isSupported()&&!ee.isMounted()&&(ee.mount(),H=ee.isDark(),console.log("%cDark Mode: ",`color: ${Te}`,H)),ee.isCssVarsBound||ee.bindCssVars(),z.isMounted()||z.mount(),z.isCssVarsBound||z.bindCssVars()}catch(i){console.log("%cerror: %o",`color: ${Te}`,i)}const M=H?z.accentTextColor():"#69c2d0",nt=H?z.destructiveTextColor():"#ee686f",ie=H?z.backgroundColor():"#213035",Z=H?z.secondaryBackgroundColor():"#232e3c",Co=H?z.headerBackgroundColor():"#242f34",We=H?z.textColor():"#ffffff",we=H?z.buttonColor():"#59bccd",As=H?z.buttonTextColor():"#ffffff",V=H?z.hintColor():"#7b8d92",js=H?z.subtitleTextColor():"#7b888a",Dt=H?z.linkColor():"#63b7c4",So=H?z.sectionHeaderTextColor():"#7acedc",ks=H?z.sectionBackgroundColor():"#1d292e";H&&z.sectionSeparatorColor();H&&z.bottomBarBgColor();const Ms="#ffffff1a",Ao='system-ui, -apple-system, BlinkMacSystemFont, "Roboto", "Apple Color Emoji", "Helvetica Neue", sans-serif',Ns=600,Se={100:"FF",99:"FC",98:"FA",97:"F7",96:"F5",95:"F2",94:"F0",93:"ED",92:"EB",91:"E8",90:"E6",89:"E3",88:"E0",87:"DE",86:"DB",85:"D9",84:"D6",83:"D4",82:"D1",81:"CF",80:"CC",79:"C9",78:"C7",77:"C4",76:"C2",75:"BF",74:"BD",73:"BA",72:"B8",71:"B5",70:"B3",69:"B0",68:"AD",67:"AB",66:"A8",65:"A6",64:"A3",63:"A1",62:"9E",61:"9C",60:"99",59:"96",58:"94",57:"91",56:"8F",55:"8C",54:"8A",53:"87",52:"85",51:"82",50:"80",49:"7D",48:"7A",47:"78",46:"75",45:"73",44:"70",43:"6E",42:"6B",41:"69",40:"66",39:"63",38:"61",37:"5E",36:"5C",35:"59",34:"57",33:"54",32:"52",31:"4F",30:"4D",29:"4A",28:"47",27:"45",26:"42",25:"40",24:"3D",23:"3B",22:"38",21:"36",20:"33",19:"30",18:"2E",17:"2B",16:"29",15:"26",14:"24",13:"21",12:"1F",11:"1C",10:"1A",9:"17",8:"14",7:"12",6:"0F",5:"0D",4:"0A",3:"08",2:"05",1:"03",0:"00"};if(ee.isMounted()&&ee.setHeaderColor.isAvailable()&&ee.setHeaderColor.supports.rgb()){const i=`#${String(Z).replace("#","")}`,e=`#${String(ie).replace("#","")}`;ee.setHeaderColor(i),ee.setBackgroundColor(e),ee.setBottomBarColor(i);const t=document.documentElement.style;t.setProperty("--tgui--bg_color","var(--tg-theme-bg-color,"+ie+")"),t.setProperty("--tgui--text_color","var(--tg-theme-text-color,"+We+")"),t.setProperty("--tgui--hint_color","var(--tg-theme-hint-color,"+V+")"),t.setProperty("--tgui--link_color","var(--tg-theme-link-color,"+Dt+")"),t.setProperty("--tgui--button_color","var(--tg-theme-button-color,"+we+")"),t.setProperty("--tgui--button_text_color","var(--tg-theme-button-text-color,"+As+")"),t.setProperty("--tgui--secondary_bg_color","var(--tg-theme-secondary-bg-color,"+Z+")"),t.setProperty("--tgui--header_bg_color","var(--tg-theme-header-bg-color,"+Co+")"),t.setProperty("--tgui--accent_text_color","var(--tg-theme-accent-text-color,"+M+")"),t.setProperty("--tgui--section_bg_color","var(--tg-theme-section-bg-color,"+ks+")"),t.setProperty("--tgui--section_header_text_color","var(--tg-theme-section-header-text-color,"+So+")"),t.setProperty("--tgui--subtitle_text_color","var(--tg-theme-subtitle-text-color,"+js+")"),t.setProperty("--tgui--destructive_text_color","var(--tg-theme-destructive-text-color,"+nt+")"),t.setProperty("--tgui--skeleton","#ffffff"+Se[3]),t.setProperty("--tgui--divider","#ffffff"+Se[5]),t.setProperty("--tgui--outline","#ffffff"+Se[10]),t.setProperty("--tgui--surface_primary","#171717"+Se[95]),t.setProperty("--tgui--tertiary_bg_color","#2a2a2a"),t.setProperty("--tgui--quartenary_bg_color","#2f2f2f"),t.setProperty("--tgui--segmented_control_active_bg","#2f2f2f"),t.setProperty("--tgui--card_bg_color","#242424"),t.setProperty("--tgui--secondary_hint_color","#78797e"),t.setProperty("--tgui--secondary_fill","#2990ff"+Se[15]),t.setProperty("--tgui--green","#32e55e"),t.setProperty("--tgui--destructive_background","#ff2323"+Se[2]),t.setProperty("--tgui--primary_code_highlight","#69c2d0"),t.setProperty("--tgui--secondary_code_highlight","#e937ed"),t.setProperty("--tgui--tertiary_code_highlight","#5ae536"),t.setProperty("--tgui--plain_background","#ffffff"+Se[8]),t.setProperty("--tgui--plain_foreground","#ffffff"+Se[95])}const xe=({className:i,onClick:e,to:t,...o})=>{const r=x.useCallback(s=>{e==null||e(s);let a;if(typeof t=="string")a=t;else{const{search:g="",pathname:u="",hash:h=""}=t;a=`${u}?${g}#${h}`}const l=new URL(a,window.location.toString()),c=new URL(window.location.toString());(l.protocol!==c.protocol||l.host!==c.host)&&(s.preventDefault(),bo(l.toString()))},[t,e]);return n.jsx(Fo,{...o,to:t,onClick:r,className:wo(i,"link")})};//!!!!! NEED TO BE IMPROVED !!!!!
const ne="cyan",be=(i,e,t,o,r)=>{let s;typeof i=="string"?s=Number(i.replace(",",".")):s=Number(i);let a=0,l=0,c=0,d=0,g=0,u=0,h=0,b=0,$=0,w=0;if(e==="obsh"||e===""){s>0&&s<=1e5&&(h=4e3,a=h,c=1),s>1e5&&s<=3e5&&(d=1e5,g=s-d,h=4e3,u=3,a=g/100*u+h,c=2),s>3e5&&s<=5e5&&(d=3e5,g=s-d,h=1e4,u=2.5,a=g/100*u+h,c=3),s>5e5&&s<=1e6&&(d=5e5,g=s-d,h=15e3,u=2,a=g/100*u+h,c=4),s>1e6&&s<=3e6&&(d=1e6,g=s-d,h=25e3,u=1,a=g/100*u+h,c=5),s>3e6&&s<=8e6&&(d=3e6,g=s-d,h=45e3,u=.7,a=g/100*u+h,c=6),s>8e6&&s<=24e6&&(d=8e6,g=s-d,h=8e4,u=.35,a=g/100*u+h,c=7),s>24e6&&s<=5e7&&(d=24e6,g=s-d,h=136e3,u=.3,a=g/100*u+h,c=8),s>5e7&&s<=1e8&&(d=5e7,g=s-d,h=214e3,u=.2,a=g/100*u+h,c=9),s>1e8&&(d=1e8,g=s-d,h=314e3,u=.15,a=g/100*u+h,c=10),a>9e5&&(a=9e5);let m=25e3,p=a-m,C=a*.3;return t&&p>0?a=p:t&&(a=0),o&&(a-=C),b=p>0?p:0,$=a-C,{step:c,gosp:a.toFixed(0),base:d.toFixed(2),exceed:g.toFixed(2),percent:u.toFixed(2),fix:h.toFixed(2),discount30:C.toFixed(2),discount50:0,benefits:m,withBenefits:b.toFixed(2),withDiscount30:$.toFixed(2),withDiscount50:a.toFixed(2)}}else{s>0&&s<=1e5&&(h=1e4,l=h,c=1),s>1e5&&s<=1e6&&(d=1e5,g=s-d,h=1e4,u=5,l=g/100*u+h,c=2),s>1e6&&s<=1e7&&(d=1e6,g=s-d,h=55e3,u=3,l=g/100*u+h,c=3),s>1e7&&s<=5e7&&(d=1e7,g=s-d,h=325e3,u=1,l=(s-1e7)/100*u+h,c=4),s>5e7&&(d=5e7,g=s-d,h=725e3,u=.5,l=g/100*u+h,c=5),l>1e7&&(l=1e7);let m=55e3,p=l-m,C=l*.3,N=l*.5;return t&&p>0?l=p:t&&(l=0),o&&(l-=C),r&&(l-=N),b=p>0?p:0,$=l-C,w=l-N,{step:c,gosp:l.toFixed(0),base:d.toFixed(2),exceed:g.toFixed(2),percent:u.toFixed(2),fix:h.toFixed(2),discount30:C.toFixed(2),discount50:N.toFixed(2),benefits:m,withBenefits:b.toFixed(2),withDiscount30:$.toFixed(2),withDiscount50:w.toFixed(2)}}};function Kt(i){const e=i.split(",");let t="";if(e.length>1){const o=e[0].replace(/ /g,""),r=e[1].slice(0,2);t=o+","+r}else t=i.replace(/ /g,"");return t}function P(i){let e=""+i;return e=e.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),e.indexOf(".")!==-1&&e.substring(e.indexOf("."),e.length).length===2&&(e+="0"),e.indexOf(",")!==-1&&e.substring(e.indexOf(","),e.length).length===2&&(e+="0"),e=e.replace(/^00\./,"0."),e=e.replace(/^00,/,"0."),e=e.replace(/\./g,","),e}async function Ps(i){console.log("blob",i);let e;i&&(e=i);const t={[i.type]:e||""},o=new ClipboardItem(t);await window.navigator.clipboard.write([o])}async function _s(i){i.blob&&Ps(i.blob)}function Bt(i){return i.indexOf("##")!=-1&&(i=i.substring(0,i.indexOf("##"))),i.indexOf("%23%23")!=-1&&(i=i.substring(0,i.indexOf("%23%23"))),i=i.replace(/%2C/g,",").replace(/&amp;/g,"&").replace(/%3B/g,";"),i.indexOf("&&")!=-1&&(i=i.substring(0,i.indexOf("&&"))),i.indexOf("h")!=-1&&(i=i.substring(0,i.indexOf("h"))),i.replace(/%20/g,"")}function Yt(i,e){let t=e,o=t.substring(t.indexOf(i)+i.length);return o.indexOf("a")!==-1&&(o=o.substring(0,o.indexOf("a"))),o.indexOf("g")!==-1&&(o=o.substring(0,o.indexOf("g"))),o=o.replace(/[ntjrfh<>]/gi,""),o=o.replace(/u/gi,"+").replace(/i/gi,"/").replace(/m/gi,"*").replace(/o/gi,"(").replace(/e/gi,")"),o=o.replace(/w/gi,"00").replace(/k/gi,"000").replace(/c/gi,"0000").replace(/p/gi,"00000").replace(/b/gi,"000000").replace(/s/gi,"0000000").replace(/v/gi,"00000000").replace(/d/gi,"000000000"),o}const Lt=i=>{let e=!1,t=!1,o=!1,r="",s="";return i.indexOf("n")!=-1?e=!0:i.indexOf("t")!=-1&&(t=!0),i.indexOf("g")!=-1&&(r=P(Yt("g",i))),i.indexOf("j")!=-1?e=!0:i.indexOf("r")!=-1?t=!0:i.indexOf("f")!=-1&&(o=!0),i.indexOf("a")!=-1&&(s=P(Yt("a",i))),{benefitsSwitch:e,discount30Switch:t,discount50Switch:o,sou:r,arb:s}};function jo(i,e){return i.index<e.index?-1:i.index>e.index?1:0}function Jt(i){return i!=""?(i=""+i,i=i.replace(/\s/g,"").replace(/,/g,".").replace(/000000000/g,"d").replace(/00000000/g,"v").replace(/0000000/g,"s").replace(/000000/g,"b").replace(/00000/g,"p").replace(/0000/g,"c").replace(/000/g,"k").replace(/00/g,"w").replace(/\+/g,"u").replace(/\//g,"i").replace(/\*/g,"m").replace(/\(/g,"o").replace(/\)/g,"e"),/[-uimoe]/.test(i)!=!0&&(i=i.replace(/\.(\d)0$/,".$1")),i):""}function Mt(i,e,t,o,r,s){const a="https://t.me/tgfee_bot/app?startapp=";console.log("%csou: %o",`color: ${ne}`,i),console.log("%carb: %o",`color: ${ne}`,e),console.log("%cbenefits: %o",`color: ${ne}`,t),console.log("%cdiscount30: %o",`color: ${ne}`,o),console.log("%cdiscount50: %o",`color: ${ne}`,r),console.log("%cuserid: %o",`color: ${ne}`,s);const l=s!=""?"bro"+s:"";let c="",d=i,g="",u=e;d!=""&&(c+="g"+Jt(d));const h=d.replace(/ /g,"");Number(h)>0&&t?c+="n":Number(h)>0&&o&&(c+="t"),c!=""&&(c=""+a+"clc"+c+"h");const b=u.replace(/ /g,"");return u!=""&&(g+="a"+Jt(u)),Number(b)>0&&t?g+="j":Number(b)>0&&o?g+="r":Number(b)>0&&r&&(g+="f"),g!=""&&(g=""+a+"clc"+g+"h"),c!=""?c+l:g!=""?g+l:""}function $t(i){let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};if(i!==""){console.log("%cПараметры запуска: %o",`color: ${ne}`,i);const t=[{name:"clc",index:0,value:""},{name:"bro",index:0,value:""}];let o=[];const r=(i==null?void 0:i.split(/clc|bro/))??[];if(r.length<2)return;t.forEach(s=>{i!=null&&i.includes(s.name)&&(s.index=i.indexOf(s.name))}),o=t.sort(jo),o.forEach(s=>{s.value=r[o.findIndex(a=>a.name===s.name)+1]}),console.log("%cOrdered Params: %o",`color: ${ne}`,o),o.forEach(s=>{s.name==="clc"&&(e=Lt(Bt(s.value)),console.log("%cclc: %o",`color: ${ne}`,e))})}else console.log("%cБез параметров запуска!",`color: ${ne}`);return e}function ko(i,e){let t=[];const o=[{name:"clc",index:0,value:""},{name:"bro",index:0,value:""}];if(!(e.length<2&&e.length!==0))return e.length!==0&&(o.forEach(r=>{i!=null&&i.includes(r.name)&&(r.index=i.indexOf(r.name))}),t=o.sort(jo),t.forEach(r=>{r.value=e[t.findIndex(s=>s.name===r.name)+1]}),console.log("%cOrdered Params: %o",`color: ${ne}`,t)),t}const Ds=[{full:"",short:""},{full:"от 0 до 100 000 руб. = 4 000 руб.",step:"от 0 до 100 000 руб."},{full:"от 100 001 до 300 000 руб. = 4 000 руб. + 3% от суммы свыше 100 000 руб.",step:"от 100 001 до 300 000 руб."},{full:"от 300 001 до 500 000 руб. = 10 000 руб. + 2,5% от суммы свыше 300 000 руб.",step:"от 300 001 до 500 000 руб."},{full:"от 500 001 до 1 000 000 руб. = 15 000 руб. + 2% от суммы свыше 500 000 руб.",step:"от 500 001 до 1 000 000 руб."},{full:"от 1 000 001 до 3 000 000 руб. = 25 000 руб. + 1% от суммы свыше 1 000 000 руб.",step:"1 000 001 до 3 000 000 руб."},{full:"от 3 000 001 до 8 000 000 руб. = 45 000 руб. + 0,7% от суммы свыше 3 000 000 руб.",step:"от 3 000 001 до 8 000 000 руб."},{full:"от 8 000 001 до 24 000 000 руб. = 80 000 руб. + 0,35% от суммы свыше 8 000 000 руб.",step:"от 8 000 001 до 24 000 000 руб."},{full:"от 24 000 001 руб. до 50 000 000 руб. = 136 000 руб. + 0,3% от суммы свыше 24 000 000 руб.",step:"от 24 000 001 руб. до 50 000 000 руб."},{full:"от 50 000 001 руб. до 100 000 000 руб. = 214 000 руб. + 0,2% от суммы свыше 50 000 000 руб.",step:"от 50 000 001 руб. до 100 000 000 руб."},{full:"от 100 000 001 руб. = 314 000 руб. + 0,15% от суммы свыше 100 000 000 руб., но не более 900 000 руб.",step:"от 100 000 001 руб."}],Es=[{full:"",step:""},{full:"от 0 до 100 000 руб. = 10 000 руб.",step:"от 0 до 100 000 руб."},{full:"от 100 001 до 1 000 000 руб. = 10 000 руб. + 5% от суммы свыше 100 000 руб.",step:"от 100 001 до 1 000 000 руб."},{full:"от 1 000 001 до 10 000 000 руб. = 55 000 руб. + 3% от суммы свыше 1 000 000 руб.",step:"от 1 000 001 до 10 000 000 руб."},{full:"от 10 000 001 до 50 000 000 руб. = 325 000 руб. + 1% от суммы свыше 10 000 000 руб.",step:"от 10 000 001 до 50 000 000 руб."},{full:"от 50 000 001 руб. = 725 000 руб. + 0,5% от суммы свыше 50 000 000 руб., но не более 10 000 000 руб.",step:"от 50 000 001 руб."}];class Zt{constructor(){this.buffer=[],this.length=0}getBuffer(){return this.buffer}getLengthInBits(){return this.length}toString(){let e="";for(let t=0;t<this.getLengthInBits();t+=1)e+=this.getBit(t)?"1":"0";return e}getBit(e){return(this.buffer[~~(e/8)]>>>7-e%8&1)==1}put(e,t){for(let o=0;o<t;o+=1)this.putBit((e>>>t-o-1&1)==1)}putBit(e){this.length==8*this.buffer.length&&this.buffer.push(0),e&&(this.buffer[~~(this.length/8)]|=128>>>this.length%8),this.length+=1}}var le,Ae=le||(le={});Ae[Ae.L=1]="L",Ae[Ae.M=0]="M",Ae[Ae.Q=3]="Q",Ae[Ae.H=2]="H";class O{constructor(){throw"error"}static glog(e){if(1>e)throw"log("+e+")";return O.LOG_TABLE[e]}static gexp(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return O.EXP_TABLE[e]}}O.EXP_TABLE=[],O.LOG_TABLE=[];for(let i=0;256>i;i+=1)O.EXP_TABLE.push(8>i?1<<i:O.EXP_TABLE[i-4]^O.EXP_TABLE[i-5]^O.EXP_TABLE[i-6]^O.EXP_TABLE[i-8]),O.LOG_TABLE.push(0);for(let i=0;255>i;i+=1)O.LOG_TABLE[O.EXP_TABLE[i]]=i;O.initialize=void 0;class Ve{constructor(e,t=0){let o=0;for(;o<e.length&&e[o]==0;)o+=1;this.num=[];let r=e.length-o;for(let s=0;s<r;s+=1)this.num.push(e[o+s]);for(e=0;e<t;e+=1)this.num.push(0)}getAt(e){return this.num[e]}getLength(){return this.num.length}toString(){let e="";for(let t=0;t<this.getLength();t+=1)0<t&&(e+=","),e+=this.getAt(t);return e.toString()}toLogString(){let e="";for(let t=0;t<this.getLength();t+=1)0<t&&(e+=","),e+=O.glog(this.getAt(t));return e.toString()}multiply(e){let t=[];for(var o=this.getLength()+e.getLength()-1,r=0;r<o;r+=1)t.push(0);for(o=0;o<this.getLength();o+=1)for(r=0;r<e.getLength();r+=1)t[o+r]^=O.gexp(O.glog(this.getAt(o))+O.glog(e.getAt(r)));return new Ve(t)}mod(e){if(0>this.getLength()-e.getLength())return this;let t=O.glog(this.getAt(0))-O.glog(e.getAt(0)),o=[];for(var r=0;r<this.getLength();r+=1)o.push(this.getAt(r));for(r=0;r<e.getLength();r+=1)o[r]^=O.gexp(O.glog(e.getAt(r))+t);return new Ve(o).mod(e)}}var L,je=L||(L={});je[je.MODE_NUMBER=1]="MODE_NUMBER",je[je.MODE_ALPHA_NUM=2]="MODE_ALPHA_NUM",je[je.MODE_8BIT_BYTE=4]="MODE_8BIT_BYTE",je[je.MODE_KANJI=8]="MODE_KANJI";class ct{constructor(e,t){this.mode=e,this.data=t}getMode(){return this.mode}getData(){return this.data}getLengthInBits(e){if(1<=e&&10>e)switch(this.mode){case L.MODE_NUMBER:return 10;case L.MODE_ALPHA_NUM:return 9;case L.MODE_8BIT_BYTE:case L.MODE_KANJI:return 8;default:throw"mode:"+this.mode}else if(27>e)switch(this.mode){case L.MODE_NUMBER:return 12;case L.MODE_ALPHA_NUM:return 11;case L.MODE_8BIT_BYTE:return 16;case L.MODE_KANJI:return 10;default:throw"mode:"+this.mode}else{if(!(41>e))throw"typeNumber:"+e;switch(this.mode){case L.MODE_NUMBER:return 14;case L.MODE_ALPHA_NUM:return 13;case L.MODE_8BIT_BYTE:return 16;case L.MODE_KANJI:return 12;default:throw"mode:"+this.mode}}}}class eo extends ct{constructor(e,t){super(L.MODE_8BIT_BYTE,e),this.stringToBytes=t}write(e){let t=this.stringToBytes(this.getData());for(let o=0;o<t.length;o+=1)e.put(t[o],8)}getLength(){return this.stringToBytes(this.getData()).length}}class at extends ct{constructor(e){super(L.MODE_ALPHA_NUM,e)}write(e){let t=this.getData(),o=0;for(;o+1<t.length;)e.put(45*at.getCode(t.charAt(o))+at.getCode(t.charAt(o+1)),11),o+=2;o<t.length&&e.put(at.getCode(t.charAt(o)),6)}getLength(){return this.getData().length}static getCode(e){if("0"<=e&&"9">=e)return e.charCodeAt(0)-48;if("A"<=e&&"Z">=e)return e.charCodeAt(0)-65+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}}}class Os extends ct{constructor(e,t){super(L.MODE_KANJI,e),this.stringToBytes=t}write(e){let t=this.stringToBytes(this.getData()),o=0;for(;o+1<t.length;){let r=(255&t[o])<<8|255&t[o+1];if(33088<=r&&40956>=r)r-=33088;else{if(!(57408<=r&&60351>=r))throw"illegal char at "+(o+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13),o+=2}if(o<t.length)throw"illegal char at "+(o+1)}getLength(){return this.stringToBytes(this.getData()).length/2}}class Ge extends ct{constructor(e){super(L.MODE_NUMBER,e)}write(e){let t=this.getData(),o=0;for(;o+2<t.length;)e.put(Ge.strToNum(t.substring(o,o+3)),10),o+=3;o<t.length&&(t.length-o==1?e.put(Ge.strToNum(t.substring(o,o+1)),4):t.length-o==2&&e.put(Ge.strToNum(t.substring(o,o+2)),7))}getLength(){return this.getData().length}static strToNum(e){let t=0;for(let o=0;o<e.length;o+=1)t=10*t+Ge.chatToNum(e.charAt(o));return t}static chatToNum(e){if("0"<=e&&"9">=e)return e.charCodeAt(0)-48;throw"illegal char :"+e}}var ue,G=ue||(ue={});G[G.PATTERN000=0]="PATTERN000",G[G.PATTERN001=1]="PATTERN001",G[G.PATTERN010=2]="PATTERN010",G[G.PATTERN011=3]="PATTERN011",G[G.PATTERN100=4]="PATTERN100",G[G.PATTERN101=5]="PATTERN101",G[G.PATTERN110=6]="PATTERN110",G[G.PATTERN111=7]="PATTERN111";class A{constructor(){throw"error"}static getPatternPosition(e){return A.PATTERN_POSITION_TABLE[e-1]}static getMaxLength(e,t,o){switch(o){case le.L:o=0;break;case le.M:o=1;break;case le.Q:o=2;break;case le.H:o=3;break;default:throw"e:"+o}switch(t){case L.MODE_NUMBER:t=0;break;case L.MODE_ALPHA_NUM:t=1;break;case L.MODE_8BIT_BYTE:t=2;break;case L.MODE_KANJI:t=3;break;default:throw"m:"+t}return A.MAX_LENGTH[e-1][o][t]}static getErrorCorrectPolynomial(e){let t=new Ve([1]);for(let o=0;o<e;o+=1)t=t.multiply(new Ve([1,O.gexp(o)]));return t}static getMaskFunc(e){switch(e){case ue.PATTERN000:return(t,o)=>(t+o)%2==0;case ue.PATTERN001:return t=>t%2==0;case ue.PATTERN010:return(t,o)=>o%3==0;case ue.PATTERN011:return(t,o)=>(t+o)%3==0;case ue.PATTERN100:return(t,o)=>(~~(t/2)+~~(o/3))%2==0;case ue.PATTERN101:return(t,o)=>t*o%2+t*o%3==0;case ue.PATTERN110:return(t,o)=>(t*o%2+t*o%3)%2==0;case ue.PATTERN111:return(t,o)=>(t*o%3+(t+o)%2)%2==0;default:throw"mask:"+e}}static getLostPoint(e){let t=e.getModuleCount(),o=0;for(var r=0;r<t;r+=1)for(var s=0;s<t;s+=1){var a=0;let l=e.isDark(r,s);for(let c=-1;1>=c;c+=1)if(!(0>r+c||t<=r+c))for(let d=-1;1>=d;d+=1)0>s+d||t<=s+d||(c!=0||d!=0)&&l==e.isDark(r+c,s+d)&&(a+=1);5<a&&(o+=3+a-5)}for(r=0;r<t-1;r+=1)for(s=0;s<t-1;s+=1)a=0,e.isDark(r,s)&&(a+=1),e.isDark(r+1,s)&&(a+=1),e.isDark(r,s+1)&&(a+=1),e.isDark(r+1,s+1)&&(a+=1),(a==0||a==4)&&(o+=3);for(r=0;r<t;r+=1)for(s=0;s<t-6;s+=1)e.isDark(r,s)&&!e.isDark(r,s+1)&&e.isDark(r,s+2)&&e.isDark(r,s+3)&&e.isDark(r,s+4)&&!e.isDark(r,s+5)&&e.isDark(r,s+6)&&(o+=40);for(r=0;r<t;r+=1)for(s=0;s<t-6;s+=1)e.isDark(s,r)&&!e.isDark(s+1,r)&&e.isDark(s+2,r)&&e.isDark(s+3,r)&&e.isDark(s+4,r)&&!e.isDark(s+5,r)&&e.isDark(s+6,r)&&(o+=40);for(r=0,s=0;s<t;s+=1)for(a=0;a<t;a+=1)e.isDark(a,s)&&(r+=1);return o+Math.abs(100*r/t/t-50)/5*10}static getBCHTypeInfo(e){let t=e<<10;for(;0<=A.getBCHDigit(t)-A.getBCHDigit(A.G15);)t^=A.G15<<A.getBCHDigit(t)-A.getBCHDigit(A.G15);return(e<<10|t)^A.G15_MASK}static getBCHTypeNumber(e){let t=e<<12;for(;0<=A.getBCHDigit(t)-A.getBCHDigit(A.G18);)t^=A.G18<<A.getBCHDigit(t)-A.getBCHDigit(A.G18);return e<<12|t}static getBCHDigit(e){let t=0;for(;e!=0;)t+=1,e>>>=1;return t}}A.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],A.MAX_LENGTH=[[[41,25,17,10],[34,20,14,8],[27,16,11,7],[17,10,7,4]],[[77,47,32,20],[63,38,26,16],[48,29,20,12],[34,20,14,8]],[[127,77,53,32],[101,61,42,26],[77,47,32,20],[58,35,24,15]],[[187,114,78,48],[149,90,62,38],[111,67,46,28],[82,50,34,21]],[[255,154,106,65],[202,122,84,52],[144,87,60,37],[106,64,44,27]],[[322,195,134,82],[255,154,106,65],[178,108,74,45],[139,84,58,36]],[[370,224,154,95],[293,178,122,75],[207,125,86,53],[154,93,64,39]],[[461,279,192,118],[365,221,152,93],[259,157,108,66],[202,122,84,52]],[[552,335,230,141],[432,262,180,111],[312,189,130,80],[235,143,98,60]],[[652,395,271,167],[513,311,213,131],[364,221,151,93],[288,174,119,74]]],A.G15=1335,A.G18=7973,A.G15_MASK=21522;class ge{constructor(e,t){this.totalCount=e,this.dataCount=t}getDataCount(){return this.dataCount}getTotalCount(){return this.totalCount}static getRSBlocks(e,t){t=(e=ge.getRsBlockTable(e,t)).length/3;let o=[];for(let r=0;r<t;r+=1){let s=e[3*r],a=e[3*r+1],l=e[3*r+2];for(let c=0;c<s;c+=1)o.push(new ge(a,l))}return o}static getRsBlockTable(e,t){switch(t){case le.L:return ge.RS_BLOCK_TABLE[4*(e-1)];case le.M:return ge.RS_BLOCK_TABLE[4*(e-1)+1];case le.Q:return ge.RS_BLOCK_TABLE[4*(e-1)+2];case le.H:return ge.RS_BLOCK_TABLE[4*(e-1)+3]}throw"tn:"+e+"/ecl:"+t}}ge.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];let Bs=Array(41).fill(0).map((i,e)=>e);var Pe,gt=Pe||(Pe={});gt.L="L",gt.M="M",gt.Q="Q",gt.H="H";var re,ot=re||(re={});ot.numeric="numeric",ot.alphanumeric="alphanumeric",ot.byte="byte",ot.kanji="kanji",ot.unicode="unicode";class J{constructor(e=0,t=Pe.L){this.modules=[],this.moduleCount=0,this.typeNumber=e,this.errorCorrectLevel=le[t],this.qrDataList=[]}getTypeNumber(){return this.typeNumber}setTypeNumber(e){this.typeNumber=e}getErrorCorrectLevel(){return this.errorCorrectLevel}setErrorCorrectLevel(e){this.errorCorrectLevel=e}clearData(){this.qrDataList=[]}addData(e,t=re.byte){if(e instanceof ct)this.qrDataList.push(e);else{if(typeof e!="string")throw typeof e;switch(t){case re.numeric:this.qrDataList.push(new Ge(e));break;case re.alphanumeric:this.qrDataList.push(new at(e));break;case re.byte:this.qrDataList.push(new eo(e,J.stringToBytesFuncs.default));break;case re.unicode:this.qrDataList.push(new eo(e,J.stringToBytesFuncs.UTF8));break;case re.kanji:this.qrDataList.push(new Os(e,J.stringToBytesFuncs.SJIS));break;default:throw"mode:"+t}}}isDark(e,t){return this.modules[e][t]!=null&&this.modules[e][t]}getModuleCount(){return this.moduleCount}make(){if(1>this.typeNumber){let o=1;for(;40>o;o++){let r=ge.getRSBlocks(o,this.errorCorrectLevel),s=new Zt;for(var e=0;e<this.qrDataList.length;e++){var t=this.qrDataList[e];s.put(t.getMode(),4),s.put(t.getLength(),t.getLengthInBits(o)),t.write(s)}for(e=0,t=0;t<r.length;t++)e+=r[t].getDataCount();if(s.getLengthInBits()<=8*e)break}this.typeNumber=o}this.makeImpl(!1,this.getBestMaskPattern())}getBestMaskPattern(){let e=0,t=0;for(let o=0;8>o;o+=1){this.makeImpl(!0,o);let r=A.getLostPoint(this);(o==0||e>r)&&(e=r,t=o)}return t}makeImpl(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=[];for(let o=0;o<this.moduleCount;o+=1){this.modules.push([]);for(let r=0;r<this.moduleCount;r+=1)this.modules[o].push(null)}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),e=J.createData(this.typeNumber,this.errorCorrectLevel,this.qrDataList),this.mapData(e,t)}mapData(e,t){let o=-1,r=this.moduleCount-1,s=7,a=0;t=A.getMaskFunc(t);for(let l=this.moduleCount-1;0<l;l-=2)for(l==6&&--l;;){for(let c=0;2>c;c+=1)if(this.modules[r][l-c]==null){let d=!1;a<e.length&&(d=(e[a]>>>s&1)==1),t(r,l-c)&&(d=!d),this.modules[r][l-c]=d,--s,s==-1&&(a+=1,s=7)}if(r+=o,0>r||this.moduleCount<=r){r-=o,o=-o;break}}}setupPositionAdjustPattern(){let e=A.getPatternPosition(this.typeNumber);for(let t=0;t<e.length;t+=1)for(let o=0;o<e.length;o+=1){let r=e[t],s=e[o];if(this.modules[r][s]==null)for(let a=-2;2>=a;a+=1)for(let l=-2;2>=l;l+=1)this.modules[r+a][s+l]=a==-2||a==2||l==-2||l==2||a==0&&l==0}}setupPositionProbePattern(e,t){for(let o=-1;7>=o;o+=1)for(let r=-1;7>=r;r+=1)-1>=e+o||this.moduleCount<=e+o||-1>=t+r||this.moduleCount<=t+r||(this.modules[e+o][t+r]=0<=o&&6>=o&&(r==0||r==6)||0<=r&&6>=r&&(o==0||o==6)||2<=o&&4>=o&&2<=r&&4>=r)}setupTimingPattern(){for(var e=8;e<this.moduleCount-8;e+=1)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(e=8;e<this.moduleCount-8;e+=1)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)}setupTypeNumber(e){let t=A.getBCHTypeNumber(this.typeNumber);for(var o=0;18>o;o+=1)this.modules[~~(o/3)][o%3+this.moduleCount-8-3]=!e&&(t>>o&1)==1;for(o=0;18>o;o+=1)this.modules[o%3+this.moduleCount-8-3][~~(o/3)]=!e&&(t>>o&1)==1}setupTypeInfo(e,t){t=A.getBCHTypeInfo(this.errorCorrectLevel<<3|t);for(var o=0;15>o;o+=1){var r=!e&&(t>>o&1)==1;6>o?this.modules[o][8]=r:8>o?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;15>o;o+=1)r=!e&&(t>>o&1)==1,8>o?this.modules[8][this.moduleCount-o-1]=r:9>o?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r;this.modules[this.moduleCount-8][8]=!e}static createData(e,t,o){t=ge.getRSBlocks(e,t);let r=new Zt;for(let s=0;s<o.length;s+=1){let a=o[s];r.put(a.getMode(),4),r.put(a.getLength(),a.getLengthInBits(e)),a.write(r)}for(e=0,o=0;o<t.length;o+=1)e+=t[o].getDataCount();if(r.getLengthInBits()>8*e)throw"code length overflow. ("+r.getLengthInBits()+">"+8*e+")";for(r.getLengthInBits()+4<=8*e&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*e)&&(r.put(J.PAD0,8),!(r.getLengthInBits()>=8*e));)r.put(J.PAD1,8);return J.createBytes(r,t)}static createBytes(e,t){function o(b){let $=[];for(let w=0;w<b;w+=1)$.push(0);return $}var r=0,s=0;let a=0;var l=[];let c=[];for(var d=0;d<t.length;d+=1)l.push([]),c.push([]);for(d=0;d<t.length;d+=1){var g=t[d].getDataCount(),u=t[d].getTotalCount()-g;s=Math.max(s,g),a=Math.max(a,u),l[d]=o(g);for(var h=0;h<l[d].length;h+=1)l[d][h]=255&e.getBuffer()[h+r];for(r+=g,u=A.getErrorCorrectPolynomial(u),g=new Ve(l[d],u.getLength()-1).mod(u),c[d]=o(u.getLength()-1),u=0;u<c[d].length;u+=1)h=u+g.getLength()-c[d].length,c[d][u]=0<=h?g.getAt(h):0}for(e=0,r=0;r<t.length;r+=1)e+=t[r].getTotalCount();for(e=o(e),r=0,d=0;d<s;d+=1)for(g=0;g<t.length;g+=1)d<l[g].length&&(e[r]=l[g][d],r+=1);for(s=0;s<a;s+=1)for(l=0;l<t.length;l+=1)s<c[l].length&&(e[r]=c[l][s],r+=1);return e}}J.PAD0=236,J.PAD1=17,J.stringToBytesFuncs={default:function(i){let e=[];for(let t=0;t<i.length;t+=1){let o=i.charCodeAt(t);e.push(255&o)}return e}};let pt=i=>!!i&&typeof i=="object"&&!Array.isArray(i);function bt(i,...e){if(!e.length)return i;let t=e.shift();return t!==void 0&&pt(i)&&pt(t)?(i={...i},Object.keys(t).forEach(o=>{let r=i[o],s=t[o];Array.isArray(r)&&Array.isArray(s)?i[o]=s:pt(r)&&pt(s)?i[o]=bt(Object.assign({},r),s):i[o]=s}),bt(i,...e)):i}var Et,to=Et||(Et={});function st(i){if(!(i={...i}).colorStops||!i.colorStops.length)throw"Field 'colorStops' is required in gradient";return i.rotation=i.rotation?Number(i.rotation):0,i.colorStops=i.colorStops.map(e=>({...e,offset:Number(e.offset)})),i}to.radial="radial",to.linear="linear";var W,se=W||(W={});se.dot="dot",se.randomDot="random-dot",se.rounded="rounded",se.extraRounded="extra-rounded",se.verticalLine="vertical-line",se.horizontalLine="horizontal-line",se.classy="classy",se.classyRounded="classy-rounded",se.square="square",se.smallSquare="small-square",se.tinySquare="tiny-square",se.diamond="diamond";var ke,Ee=ke||(ke={});Ee.dot="dot",Ee.square="square",Ee.heart="heart",Ee.extraRounded="extra-rounded",Ee.classy="classy",Ee.outpoint="outpoint",Ee.inpoint="inpoint";var Be,He=Be||(Be={});He.dot="dot",He.square="square",He.extraRounded="extra-rounded",He.classy="classy",He.outpoint="outpoint",He.inpoint="inpoint";var ze,oo=ze||(ze={});oo.square="square",oo.circle="circle";var Y,Nt=Y||(Y={});Nt.center="center",Nt.overlay="overlay",Nt.background="background";let so={document:void 0,shape:ze.square,width:void 0,height:void 0,data:"",qrOptions:{typeNumber:Bs[0],mode:void 0,errorCorrectionLevel:Pe.Q},imageOptions:{mode:Y.center,imageSize:.4,crossOrigin:void 0,margin:0,fill:{color:"rgba(255,255,255,1)"}},dotsOptions:{type:W.square,color:"#000",size:10}};function ro(i){return(i={...i}).imageOptions={...i.imageOptions,imageSize:Math.min(1,Number(i.imageOptions.imageSize))||1,margin:Number(i.imageOptions.margin),fill:{...i.imageOptions.fill}},i.imageOptions.mode==Y.overlay&&(i.imageOptions.margin=0),i.imageOptions.fill.gradient&&(i.imageOptions.fill.gradient=st(i.imageOptions.fill.gradient)),i.dotsOptions={...i.dotsOptions},i.dotsOptions.gradient&&(i.dotsOptions.gradient=st(i.dotsOptions.gradient)),i.dotsOptions.size=Math.round(Math.max(0,i.dotsOptions.size)||10),i.cornersSquareOptions&&(i.cornersSquareOptions={...i.cornersSquareOptions},i.cornersSquareOptions.gradient&&(i.cornersSquareOptions.gradient=st(i.cornersSquareOptions.gradient))),i.cornersDotOptions&&(i.cornersDotOptions={...i.cornersDotOptions},i.cornersDotOptions.gradient&&(i.cornersDotOptions.gradient=st(i.cornersDotOptions.gradient))),i.backgroundOptions&&(i.backgroundOptions={...i.backgroundOptions},i.backgroundOptions.gradient&&(i.backgroundOptions.gradient=st(i.backgroundOptions.gradient))),i.document||(i.document=document),i}let Ls={[Pe.L]:.07,[Pe.M]:.15,[Pe.Q]:.25,[Pe.H]:.3},Ts=/\.?0+$/;function f(i){return i.toFixed(7).replace(Ts,"")}function Q(i,...e){return i.reduce((t,o,r)=>{let s="";return r&&(s=e[r-1]),typeof s=="number"&&(s=f(s)),`${t}${s}${o}`},"").trim().replace(/[\s\n\r]+/gim," ")}class Is{get element(){return this._element}constructor(e,t){this.type=e,this.document=t}draw(e){let t;switch(this.type){case ke.square:t=this.drawSquare;break;case ke.heart:t=this.drawHeart;break;case ke.extraRounded:t=this.drawRounded;break;case ke.classy:t=this.drawClassy;break;case ke.inpoint:t=this.drawInpoint;break;case ke.outpoint:t=this.drawOutpoint;break;default:t=this.drawDot}t.call(this,e)}rotateFigure({x:e,y:t,size:o,rotation:r=0,draw:s}){var a;e+=o/2,t+=o/2,s(),(a=this._element)==null||a.setAttribute("transform",`rotate(${f(180*r/Math.PI)},${e},${t})`)}basicDot(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",f(o+t/2)),this._element.setAttribute("cy",f(r+t/2)),this._element.setAttribute("r",f(t/2))}})}basicSquare(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",f(o)),this._element.setAttribute("y",f(r)),this._element.setAttribute("width",f(t)),this._element.setAttribute("height",f(t))}})}basicHeart(e){let{size:t,x:o,y:r}=e;this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path");let s=!1,a=0;this._element.setAttribute("d",["M",1,.3262506,"c",0,.0383376,-.0064626,.0758377,-.0193751,.1125001,"s",-.0356247,.076875,-.0681248,.1206252,"c",-.0325,.0437499,-.0762503,.0931247,-.1312501,.1481249,"C",.7262502,.7625008,.6566626,.8279132,.5724999,.9037505,"L",.5,.9687506,"L",.4275001,.9037505,"C",.3433374,.8279132,.2737499,.7625005,.21875,.7075007,"C",.1637501,.6525008,.1199999,.6031258,.0874999,.5593758,"S",.0322876,.4754133,.0193751,.4387506,"S",0,.3645881,0,.3262506,"c",0,-.0783374,.0262499,-.1437498,.07875,-.1962499,"s",.1179124,-.07875,.1962499,-.07875,"c",.0433376,0,.0845875,.0091625,.12375,.0274999,"S",.4716623,.1229131,.5,.1562506,"c",.0283374,-.0333375,.0620874,-.0591625,.1012502,-.0775,"c",.0391627,-.0183375,.0804126,-.0274999,.12375,-.0274999,"c",.0783374,0,.1437497,.0262499,.1962501,.07875,"S",1,.2479131,1,.3262506,"z"].map(l=>typeof l=="string"?(a=0,s=l.toUpperCase()==l,l):(a++,l*=t,s&&(l+=a%2==1?o:r),f(l))).join(" "))}basicRounded(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",f(o)),this._element.setAttribute("y",f(r)),this._element.setAttribute("width",f(t)),this._element.setAttribute("height",f(t)),this._element.setAttribute("rx",f(t/4)),this._element.setAttribute("ry",f(t/4))}})}basicClassy(e){let{size:t,x:o,y:r}=e,s=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",Q`M ${o} ${r+2.5*s} v ${2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*s} ${2.5*s} h ${4.5*s} v ${-4.5*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*-s} ${2.5*-s} h ${-2*s} H ${o} z`)}})}basicInpoint(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",Q`M ${o} ${r+t/2} v ${t/4} a ${t/4}, ${t/4} 0 0 0 ${t/4}, ${t/4} h ${t/4*3} v ${-t/4*3} a ${t/4}, ${t/4} 0 0 0 ${-t/4}, ${-t/4} h ${-t/2} a ${t/4}, ${t/4} 0 0 0 ${-t/4}, ${t/4} z`)}})}drawDot({x:e,y:t,size:o,rotation:r}){this.basicDot({x:e,y:t,size:o,rotation:r})}drawSquare({x:e,y:t,size:o,rotation:r}){this.basicSquare({x:e,y:t,size:o,rotation:r})}drawHeart({x:e,y:t,size:o,rotation:r}){this.basicHeart({x:e,y:t,size:o,rotation:r})}drawRounded({x:e,y:t,size:o,rotation:r}){this.basicRounded({x:e,y:t,size:o,rotation:r})}drawClassy({x:e,y:t,size:o,rotation:r}){this.basicClassy({x:e,y:t,size:o,rotation:r})}drawInpoint({x:e,y:t,size:o,rotation:r}){this.basicInpoint({x:e,y:t,size:o,rotation:r})}drawOutpoint({x:e,y:t,size:o,rotation:r}){this.basicInpoint({x:e,y:t,size:o,rotation:(r||0)+Math.PI})}}class zs{get element(){return this._element}get fill(){return this._fill}constructor(e,t){this.type=e,this.document=t}draw(e){let t;switch(this.type){case Be.square:t=this.drawSquare;break;case Be.extraRounded:t=this.drawExtraRounded;break;case Be.classy:t=this.drawClassy;break;case Be.outpoint:t=this.drawOutpoint;break;case Be.inpoint:t=this.drawInpoint;break;default:t=this.drawDot}t.call(this,e)}rotateFigure({x:e,y:t,size:o,rotation:r=0,draw:s}){var a,l;e+=o/2,t+=o/2,s(),(a=this._element)==null||a.setAttribute("transform",`rotate(${f(180*r/Math.PI)},${e},${t})`),(l=this._fill)==null||l.setAttribute("transform",`rotate(${f(180*r/Math.PI)},${e},${t})`)}basicDot(e){let{size:t,x:o,y:r}=e,s=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",Q`M ${o+t/2} ${r} a ${t/2} ${t/2} 0 1 0 0.1 0 z m 0 ${s} a ${t/2-s} ${t/2-s} 0 1 1 -0.1 0 Z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",Q`M ${o+t/2} ${r-s} a ${t/2+s} ${t/2+s} 0 1 0 0.1 0 z`)}})}basicSquare(e){let{size:t,x:o,y:r}=e,s=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",Q`M ${o} ${r} v ${t} h ${t} v ${-t} z M ${o+s} ${r+s} h ${t-2*s} v ${t-2*s} h ${2*s-t} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",Q`M ${o-s} ${r-s} h ${t+2*s} v ${t+2*s} h ${-t-2*s} z`)}})}basicExtraRounded(e){let{size:t,x:o,y:r}=e,s=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",Q`M ${o} ${r+2.5*s} v ${2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*s} ${2.5*s} h ${2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*s} ${2.5*-s} v ${-2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*-s} ${2.5*-s} h ${-2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*-s} ${2.5*s} z M ${o+2.5*s} ${r+s} h ${2*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*s} ${1.5*s} v ${2*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*-s} ${1.5*s} h ${-2*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*-s} ${1.5*-s} v ${-2*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*s} ${1.5*-s} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",Q`M ${o-s} ${r+2.5*s} v ${2*s} a ${3.5*s} ${3.5*s}, 0, 0, 0, ${3.5*s} ${3.5*s} h ${2*s} a ${3.5*s} ${3.5*s}, 0, 0, 0, ${3.5*s} ${3.5*-s} v ${-2*s} a ${3.5*s} ${3.5*s}, 0, 0, 0, ${3.5*-s} ${3.5*-s} h ${-2*s} a ${3.5*s} ${3.5*s}, 0, 0, 0, ${3.5*-s} ${3.5*s} z`)}})}basicClassy(e){let{size:t,x:o,y:r}=e,s=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",Q`M ${o} ${r+2.5*s} v ${2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*s} ${2.5*s} h ${4.5*s} v ${-4.5*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*-s} ${2.5*-s} h ${-2*s} H ${o} z M ${o+2.5*s} ${r+s} h ${2*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*s} ${1.5*s} v ${3.5*s} h ${-3.5*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*-s} ${1.5*-s} v ${-3.5*s} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",Q`M ${o+.5*s} ${r-s} h ${4*s} a ${3.5*s} ${3.5*s}, 0, 0, 1, ${3.5*s} ${3.5*s} v ${5.5*s} h ${-5.5*s} a ${3.5*s} ${3.5*s}, 0, 0, 1, ${3.5*-s} ${3.5*-s} v ${-5.5*s} z`)}})}basicInpoint(e){let{size:t,x:o,y:r}=e,s=t/7;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",Q`M ${o} ${r+2.5*s} v ${2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*s} ${2.5*s} h ${4.5*s} v ${-4.5*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*-s} ${2.5*-s} h ${-2*s} a ${2.5*s} ${2.5*s}, 0, 0, 0, ${2.5*-s} ${2.5*s} z M ${o+2.5*s} ${r+s} h ${2*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*s} ${1.5*s} v ${3.5*s} h ${-3.5*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*-s} ${1.5*-s} v ${-2*s} a ${1.5*s} ${1.5*s}, 0, 0, 1, ${1.5*s} ${1.5*-s} z`),this._fill=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._fill.setAttribute("clip-rule","evenodd"),this._fill.setAttribute("d",Q`M ${o+.5*s} ${r-s} h ${4*s} a ${3.5*s} ${3.5*s}, 0, 0, 1, ${3.5*s} ${3.5*s} v ${5.5*s} h ${-5.5*s} a ${3.5*s} ${3.5*s}, 0, 0, 1, ${3.5*-s} ${3.5*-s} v ${-2*s} a ${3.5*s} ${3.5*s}, 0, 0, 1, ${3.5*s} ${3.5*-s} z`)}})}drawDot({x:e,y:t,size:o,rotation:r}){this.basicDot({x:e,y:t,size:o,rotation:r})}drawSquare({x:e,y:t,size:o,rotation:r}){this.basicSquare({x:e,y:t,size:o,rotation:r})}drawExtraRounded({x:e,y:t,size:o,rotation:r}){this.basicExtraRounded({x:e,y:t,size:o,rotation:r})}drawClassy({x:e,y:t,size:o,rotation:r}){this.basicClassy({x:e,y:t,size:o,rotation:r})}drawInpoint({x:e,y:t,size:o,rotation:r}){this.basicInpoint({x:e,y:t,size:o,rotation:r})}drawOutpoint({x:e,y:t,size:o,rotation:r}){this.basicInpoint({x:e,y:t,size:o,rotation:(r||0)+Math.PI})}}class rt{get element(){return this._element}constructor(e,t){this.type=e,this.document=t}draw(e){let t;switch(this.type){case W.dot:t=this.drawDot;break;case W.randomDot:t=this.drawRandomDot;break;case W.classy:t=this.drawClassy;break;case W.classyRounded:t=this.drawClassyRounded;break;case W.rounded:t=this.drawRounded;break;case W.verticalLine:t=this.drawVerticalLine;break;case W.horizontalLine:t=this.drawHorizontalLine;break;case W.extraRounded:t=this.drawExtraRounded;break;case W.diamond:t=this.drawDiamond;break;case W.smallSquare:t=this.drawSmallSquare;break;case W.tinySquare:t=this.drawTinySquare;break;default:t=this.drawSquare}t.call(this,e)}rotateFigure({x:e,y:t,size:o,rotation:r=0,draw:s}){var a;e+=o/2,t+=o/2,s(),(a=this._element)==null||a.setAttribute("transform",`rotate(${f(180*r/Math.PI)},${e},${t})`)}basicDot(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",f(o+t/2)),this._element.setAttribute("cy",f(r+t/2)),this._element.setAttribute("r",f(t/2))}})}basicSquare(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",f(o)),this._element.setAttribute("y",f(r)),this._element.setAttribute("width",f(t)),this._element.setAttribute("height",f(t))}})}basicSideRounded(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",Q`M ${o} ${r} v ${t} h ${t/2} a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t} z`)}})}basicCornerRounded(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",Q`M ${o} ${r} v ${t} h ${t} v ${-t/2} a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2} z`)}})}basicCornerExtraRounded(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",Q`M ${o} ${r} v ${t} h ${t} a ${t} ${t}, 0, 0, 0, ${-t} ${-t} z`)}})}basicCornersRounded(e){let{size:t,x:o,y:r}=e;this.rotateFigure({...e,draw:()=>{this._element=this.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",Q`M ${o} ${r} v ${t/2} a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2} h ${t/2} v ${-t/2} a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2} z`)}})}drawDot({x:e,y:t,size:o}){this.basicDot({x:e,y:t,size:o,rotation:0})}drawRandomDot({x:e,y:t,size:o}){this.basicDot({x:e,y:t,size:o*(.25*Math.random()+.75),rotation:0})}drawSquare({x:e,y:t,size:o}){this.basicSquare({x:e,y:t,size:o,rotation:0})}drawSmallSquare({x:e,y:t,size:o}){this.basicSquare({x:e+.15*o,y:t+.15*o,size:.7*o,rotation:0})}drawTinySquare({x:e,y:t,size:o}){this.basicSquare({x:e+.35*o,y:t+.35*o,size:.3*o,rotation:0})}drawDiamond({x:e,y:t,size:o}){this.basicSquare({x:e,y:t,size:o,rotation:Math.PI/4})}drawRounded({x:e,y:t,size:o,getNeighbor:r}){var s=r?+r(-1,0):0;let a=r?+r(1,0):0,l=r?+r(0,-1):0;var c=s+a+l+(r=r?+r(0,1):0);c===0?this.basicDot({x:e,y:t,size:o,rotation:0}):2<c||s&&a||l&&r?this.basicSquare({x:e,y:t,size:o,rotation:0}):c===2?(c=0,s&&l?c=Math.PI/2:l&&a?c=Math.PI:a&&r&&(c=-Math.PI/2),this.basicCornerRounded({x:e,y:t,size:o,rotation:c})):c===1&&(s=0,l?s=Math.PI/2:a?s=Math.PI:r&&(s=-Math.PI/2),this.basicSideRounded({x:e,y:t,size:o,rotation:s}))}drawVerticalLine({x:e,y:t,size:o,getNeighbor:r}){let s=r?+r(-1,0):0,a=r?+r(1,0):0,l=r?+r(0,-1):0;s+a+l+(r=r?+r(0,1):0)===0||s&&!l&&!r||a&&!l&&!r?this.basicDot({x:e,y:t,size:o,rotation:0}):l&&r?this.basicSquare({x:e,y:t,size:o,rotation:0}):l&&!r?this.basicSideRounded({x:e,y:t,size:o,rotation:Math.PI/2}):r&&!l&&this.basicSideRounded({x:e,y:t,size:o,rotation:-Math.PI/2})}drawHorizontalLine({x:e,y:t,size:o,getNeighbor:r}){let s=r?+r(-1,0):0,a=r?+r(1,0):0,l=r?+r(0,-1):0;s+a+l+(r=r?+r(0,1):0)===0||l&&!s&&!a||r&&!s&&!a?this.basicDot({x:e,y:t,size:o,rotation:0}):s&&a?this.basicSquare({x:e,y:t,size:o,rotation:0}):s&&!a?this.basicSideRounded({x:e,y:t,size:o,rotation:0}):a&&!s&&this.basicSideRounded({x:e,y:t,size:o,rotation:Math.PI})}drawExtraRounded({x:e,y:t,size:o,getNeighbor:r}){var s=r?+r(-1,0):0;let a=r?+r(1,0):0,l=r?+r(0,-1):0;var c=s+a+l+(r=r?+r(0,1):0);c===0?this.basicDot({x:e,y:t,size:o,rotation:0}):2<c||s&&a||l&&r?this.basicSquare({x:e,y:t,size:o,rotation:0}):c===2?(c=0,s&&l?c=Math.PI/2:l&&a?c=Math.PI:a&&r&&(c=-Math.PI/2),this.basicCornerExtraRounded({x:e,y:t,size:o,rotation:c})):c===1&&(s=0,l?s=Math.PI/2:a?s=Math.PI:r&&(s=-Math.PI/2),this.basicSideRounded({x:e,y:t,size:o,rotation:s}))}drawClassy({x:e,y:t,size:o,getNeighbor:r}){let s=r?+r(-1,0):0,a=r?+r(1,0):0,l=r?+r(0,-1):0;s+a+l+(r=r?+r(0,1):0)===0?this.basicCornersRounded({x:e,y:t,size:o,rotation:Math.PI/2}):s||l?a||r?this.basicSquare({x:e,y:t,size:o,rotation:0}):this.basicCornerRounded({x:e,y:t,size:o,rotation:Math.PI/2}):this.basicCornerRounded({x:e,y:t,size:o,rotation:-Math.PI/2})}drawClassyRounded({x:e,y:t,size:o,getNeighbor:r}){let s=r?+r(-1,0):0,a=r?+r(1,0):0,l=r?+r(0,-1):0;s+a+l+(r=r?+r(0,1):0)===0?this.basicCornersRounded({x:e,y:t,size:o,rotation:Math.PI/2}):s||l?a||r?this.basicSquare({x:e,y:t,size:o,rotation:0}):this.basicCornerExtraRounded({x:e,y:t,size:o,rotation:Math.PI/2}):this.basicCornerExtraRounded({x:e,y:t,size:o,rotation:-Math.PI/2})}}let Mo={toDataURL:i=>typeof i=="string"&&i.startsWith("data:")?Promise.resolve(i):new Promise((e,t)=>{if(typeof i=="string"){const o=new XMLHttpRequest;o.onload=function(){const r=new FileReader;r.onloadend=function(){e(r.result)},r.readAsDataURL(o.response)},o.onerror=o.onabort=o.ontimeout=t,o.open("GET",i,!0),o.responseType="blob",o.send()}else{const o=new FileReader;o.onloadend=function(){e(o.result)},o.readAsDataURL(i)}}),getSize:(i,e)=>new Promise((t,o)=>{const r=new Image;e==="string"&&(r.crossOrigin=e),r.onload=()=>{t({width:r.width,height:r.height})},r.onerror=r.onabort=o,typeof i=="string"?r.src=i:Mo.toDataURL(i).then(s=>r.src=s).catch(o)})};function io(i){var e=[];let t=1;if((i=i.toLowerCase())[0]==="#"){let o=(i=i.slice(1)).length;4>=o?(e=[parseInt(i[0]+i[0],16),parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16)],o===4&&(t=parseInt(i[3]+i[3],16)/255)):(e=[parseInt(i[0]+i[1],16),parseInt(i[2]+i[3],16),parseInt(i[4]+i[5],16)],o===8&&(t=parseInt(i[6]+i[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0)}else{if(!(e=/^((?:rgba?))\s*\(([^)]*)\)/.exec(i)))return{value:i,alpha:t};t=3<(e=(e=e[2].trim().split(/\s*[,/]\s*|\s+/)).map((o,r)=>o[o.length-1]==="%"?(o=parseFloat(o)/100,r===3?o:255*o):o==="none"?0:parseFloat(o))).length?e.pop():1}return{value:"#"+e.map(o=>Math.max(0,Math.min(255,o)).toString(16).padStart(2,"0")).join(""),alpha:Math.max(0,Math.min(1,t))}}let it=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Ue=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class Rs{get element(){return this._element}constructor(e){this.options=e,this.document=e.document,this._element=this.document.createElementNS("http://www.w3.org/2000/svg","svg");let t=f(e.width),o=f(e.height);this._element.setAttribute("width",t),this._element.setAttribute("height",o),this._element.setAttribute("viewBox",`0 0 ${t} ${o}`),this.defs=this.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this.defs),this.imageTools=e.imageTools||Mo}get width(){return this.options.width}get height(){return this.options.height}async drawQR(e){let t=e.getModuleCount();var o=parseInt(((t-17)/4).toFixed(0),10);let r=this.options.dotsOptions.size,s={hideXDots:0,hideYDots:0,width:0,height:0};if(this.qr=e,this.options.image){e=await this.imageTools.getSize(this.options.image,this.options.imageOptions.crossOrigin);let{imageOptions:l,errorCorrectionPercent:c}=this.options;if(l.mode==Y.background){var a=this.options.backgroundOptions&&this.options.backgroundOptions.margin||0;o=(this.options.width-2*a*r)*l.imageSize,a=(this.options.height-2*a*r)*l.imageSize;let{width:d,height:g}=e;g=g/d*o,d=o,g>a&&(d=d/g*a,g=a),s={hideXDots:0,hideYDots:0,width:d,height:g}}else a=l.imageSize*c,o=A.getPatternPosition(o),s=function({originalHeight:d,originalWidth:g,maxHiddenDots:u,maxHiddenAxisDots:h,dotSize:b,margin:$}){if(0>=d||0>=g||0>=u||0>=b||4*$**2>u)return{height:0,width:0,hideYDots:0,hideXDots:0};h&&h%2==0&&(h=Math.max(1,h-1));var w=Math.max(g,d),m=Math.min(g,d),p=0;h=(h||u)-2*$;do{let C=p+(h-p)/2,N=Math.max(1,Math.ceil(C+2*$));N%2==0&&N++;let v=Math.max(1,Math.ceil(C*m/w+2*$));v%2==0&&v++,N*v>u?h=C:p=C}while(.001<Math.abs(p-h));return(u=Math.max(1,Math.ceil(p+2*$)))%2==0&&u++,(m=Math.max(1,Math.ceil(p*m/w+2*$)))%2==0&&m++,g>d?w=u:(w=m,m=u),u=h=(w-2*$)*b,(h=h*d/g)>(p=(m-2*$)*b)&&(h=p,u=p*g/d),{height:Math.round(h+2*$*b),width:Math.round(u+2*$*b),hideYDots:m,hideXDots:w}}({originalWidth:e.width,originalHeight:e.height,maxHiddenDots:Math.floor(a*(t*t-192-2*(t-16)-25*o.length**2)),maxHiddenAxisDots:t-14,dotSize:r,margin:l.margin})}this.drawBackground(),this.options.imageOptions.mode!=Y.overlay&&this.options.image&&0<s.width&&0<s.height&&await this.drawImage({width:s.width,height:s.height,count:t,dotSize:r}),this.drawDots((l,c)=>!(this.options.imageOptions.mode==Y.center&&l>=(t-s.hideXDots)/2&&l<(t+s.hideXDots)/2&&c>=(t-s.hideYDots)/2&&c<(t+s.hideYDots)/2||8>l&&8>c||l>=t-8&&8>c||c>=t-8&&8>l)),this.options.imageOptions.mode==Y.overlay&&this.options.image&&0<s.width&&0<s.height&&await this.drawImage({width:s.width,height:s.height,count:t,dotSize:r}),this.drawCorners()}drawBackground(){let e=this.options;if(this._element&&e.backgroundOptions){this.createColor({options:e.backgroundOptions.gradient,color:e.backgroundOptions.color,additionalRotation:0,x:0,y:0,height:e.height,width:e.width,name:"background-color"});let t=Math.min(e.width,e.height),o=this.document.createElementNS("http://www.w3.org/2000/svg","rect");[this.backgroundMask,this.backgroundMaskGroup]=this.createMask("mask-background-color"),this.defs.appendChild(this.backgroundMask),o.setAttribute("x",f((e.width-t)/2)),o.setAttribute("y",f((e.height-t)/2)),o.setAttribute("width",f(t)),o.setAttribute("height",f(t)),o.setAttribute("rx",f(t/2*(e.backgroundOptions.round||0))),this.backgroundMaskGroup.appendChild(o)}}drawDots(e){var w;if(!this.qr)throw"QR code is not defined";let t=this.options;var o=this.qr.getModuleCount();if(o>t.width||o>t.height)throw"The canvas is too small.";let r=this.options.dotsOptions.size;var s=Math.min(t.width,t.height);t.imageOptions.mode==Y.background&&(s-=2*r*(t.imageOptions.margin||0));var a=Math.floor((t.width-o*r)/2),l=Math.floor((t.height-o*r)/2);let c=new rt(t.dotsOptions.type,this.document),d=new rt(W.tinySquare,this.document),g=new rt(W.square,this.document);[this.dotsMask,this.dotsMaskGroup]=this.createMask("mask-dot-color"),this.defs.appendChild(this.dotsMask),t.imageOptions.mode==Y.background&&([this.lightDotsMask,this.lightDotsMaskGroup]=this.createMask("mask-light-dot-color"),this.defs.appendChild(this.lightDotsMask));var u=0;let h=0;u=o,t.shape===ze.circle?(u=this.options.backgroundOptions&&this.options.backgroundOptions.margin||0,h=Math.floor((s/r-o-2*u)/2),u=o+2*h):t.imageOptions.mode==Y.background&&(h=1,u=o+2*h),s=a-h*r,l-=h*r,a=o+2*h;let b=Array(u);var $=Math.floor(u/2);for(let m=0;m<u;m++){b[m]=Array(u);for(let p=0;p<u;p++)if(m>h-1&&m<u-h&&p>h-1&&p<u-h){let C=m-h,N=p-h;e&&!e(C,N)?b[m][p]=void 0:b[m][p]=!!this.qr.isDark(N,C)}else b[m][p]=t.shape===ze.circle&&Math.sqrt((m-$)*(m-$)+(p-$)*(p-$))>$?void 0:m==h-1||m==u-h||p==h-1||p==u-h?(p==h-1&&(m<h+8||m>u-h-9)||p==u-h&&m<h+8||m==h-1&&(p<h+8||p>u-h-9)||m==u-h&&p<h+8)&&void 0:this.qr.isDark(0>p-2*h?p:p>=o?p-2*h:p-h,0>m-2*h?m:m>=o?m-2*h:m-h)}e=A.getPatternPosition((o-17)/4);for(let m=0;m<u;m++){o=e.find(p=>m-h>p-3&&m-h<p+3);for(let p=0;p<u;p++)$=e.find(C=>p-h>C-3&&p-h<C+3),b[m][p]!=null&&(this.lightDotsMask&&(c=o&&$&&(o!=e[0]&&$!=e[0]||$!=e[0]&&$!=e[e.length-1]||o!=e[0]&&o!=e[e.length-1])?g:d),b[m][p]?(c.draw({x:s+m*r,y:l+p*r,size:r,getNeighbor:(C,N)=>{var v;return((v=b[m+C])==null?void 0:v[p+N])===!0}}),c.element&&this.dotsMaskGroup&&this.dotsMaskGroup.appendChild(c.element)):this.lightDotsMask&&(c.draw({x:s+m*r,y:l+p*r,size:r,getNeighbor:(C,N)=>{var v;return((v=b[m+C])==null?void 0:v[p+N])===!1}}),c.element&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(c.element)))}this.lightDotsMask&&this.createColor({options:t.imageOptions.fill.gradient,color:t.imageOptions.fill.color,additionalRotation:0,x:s,y:l,height:a*r,width:a*r,name:"light-dot-color"}),this.createColor({options:(w=t.dotsOptions)==null?void 0:w.gradient,color:t.dotsOptions.color,additionalRotation:0,x:s,y:l,height:a*r,width:a*r,name:"dot-color"})}drawCorners(){if(!this.qr)throw"QR code is not defined";let e=this.options;if(!this._element)throw"Element code is not defined";let t=this.qr.getModuleCount(),o=this.options.dotsOptions.size,r=7*o,s=3*o,a=Math.floor((e.width-t*o)/2),l=Math.floor((e.height-t*o)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([c,d,g])=>{var m,p,C,N,v,te,T,ye,Qe,Fe,I,$e,Xe;let u=a+c*o*(t-7),h=l+d*o*(t-7);var b=this.dotsMask;let $=this.dotsMaskGroup;var w=this.dotsMask;if(b=this.dotsMaskGroup,((m=e.cornersSquareOptions)!=null&&m.gradient||(p=e.cornersSquareOptions)!=null&&p.color)&&([b,$]=this.createMask(`mask-corners-square-color-${c}-${d}`),this.defs.appendChild(b),w=b,b=$,this.createColor({options:(C=e.cornersSquareOptions)==null?void 0:C.gradient,color:(N=e.cornersSquareOptions)==null?void 0:N.color,additionalRotation:g,x:u,y:h,height:r,width:r,name:`corners-square-color-${c}-${d}`})),(v=e.cornersSquareOptions)==null?void 0:v.type)(w=new zs(e.cornersSquareOptions.type,this.document)).draw({x:u,y:h,size:r,rotation:g}),w.element&&$&&$.appendChild(w.element),w.fill&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(w.fill);else{w=new rt(e.dotsOptions.type,this.document);for(let j=0;j<it.length;j++)for(let D=0;D<it[j].length;D++)(te=it[j])!=null&&te[D]?(w.draw({x:u+j*o,y:h+D*o,size:o,getNeighbor:(E,U)=>{var R;return!!((R=it[j+E])!=null&&R[D+U])}}),w.element&&$&&$.appendChild(w.element)):this.lightDotsMask&&!((T=Ue[j])!=null&&T[D])&&(w.draw({x:u+j*o,y:h+D*o,size:o,getNeighbor:(E,U)=>{var R,Ke;return!((R=it[j+E])!=null&&R[D+U])&&!((Ke=Ue[j+E])!=null&&Ke[D+U])}}),w.element&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(w.element));if(this.lightDotsMask)for(let j=-1;8>j;j++)for(let D=-1;8>D;D++)j!=-1&&j!=7&&D!=-1&&D!=7||(w.draw({x:u+j*o,y:h+D*o,size:o,getNeighbor:(E,U)=>(U=D+U,-1<=(E=j+E)&&7>=E&&-1<=U&&7>=U&&(E==-1||E==7||U==-1||U==7))}),w.element&&this.lightDotsMaskGroup&&this.lightDotsMaskGroup.appendChild(w.element))}if(((ye=e.cornersDotOptions)!=null&&ye.gradient||(Qe=e.cornersDotOptions)!=null&&Qe.color)&&([w,b]=this.createMask(`mask-corners-dot-color-${c}-${d}`),this.defs.appendChild(w),this.createColor({options:(Fe=e.cornersDotOptions)==null?void 0:Fe.gradient,color:(I=e.cornersDotOptions)==null?void 0:I.color,additionalRotation:g,x:u+2*o,y:h+2*o,height:s,width:s,name:`corners-dot-color-${c}-${d}`})),($e=e.cornersDotOptions)==null?void 0:$e.type)(c=new Is(e.cornersDotOptions.type,this.document)).draw({x:u+2*o,y:h+2*o,size:s,rotation:g}),c.element&&b&&b.appendChild(c.element);else{g=new rt(e.dotsOptions.type,this.document);for(let j=0;j<Ue.length;j++)for(let D=0;D<Ue[j].length;D++)(Xe=Ue[j])!=null&&Xe[D]&&(g.draw({x:u+j*o,y:h+D*o,size:o,getNeighbor:(E,U)=>{var R;return!!((R=Ue[j+E])!=null&&R[D+U])}}),g.element&&b&&b.appendChild(g.element))}})}async drawImage({width:e,height:t,count:o,dotSize:r}){var s=this.options,a=Math.floor((s.width-o*r)/2),l=Math.floor((s.height-o*r)/2),c=s.imageOptions.margin*r;s.imageOptions.mode==Y.background&&(c=0),a=a+c+(o*r-e)/2,o=l+c+(o*r-t)/2,e-=2*c,t-=2*c,c=await this.imageTools.toDataURL(s.image||""),(s=this.document.createElementNS("http://www.w3.org/2000/svg","image")).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c||""),c.startsWith("data:image/svg+xml;")&&(r=(c=c.substring(19)).indexOf(","),l=c.substring(0,r),c=c.substring(r+1),l==="base64"?c=typeof atob=="function"?atob(c):Buffer.from(c,"base64").toString("utf8"):c="",c&&(c=new DOMParser().parseFromString(c,"text/xml"),(c=Array.from(c.getElementsByTagName("svg"))).length&&(s=c[0]).setAttribute("overflow","visible"))),s.setAttribute("x",f(a)),s.setAttribute("y",f(o)),s.setAttribute("width",`${f(e)}px`),s.setAttribute("height",`${f(t)}px`),this._element.appendChild(s)}createColor({options:e,color:t,additionalRotation:o,x:r,y:s,height:a,width:l,name:c}){var d=l>a?l:a;let g=this.document.createElementNS("http://www.w3.org/2000/svg","rect");if(g.setAttribute("x",f(r)),g.setAttribute("y",f(s)),g.setAttribute("height",f(a)),g.setAttribute("width",f(l)),g.setAttribute("style",`mask:url(#mask-${c})`),e){let u;if(e.type===Et.radial)u=this.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),u.setAttribute("id",c),u.setAttribute("gradientUnits","userSpaceOnUse"),u.setAttribute("fx",f(r+l/2)),u.setAttribute("fy",f(s+a/2)),u.setAttribute("cx",f(r+l/2)),u.setAttribute("cy",f(s+a/2)),u.setAttribute("r",f(d/2));else{d=r+l/2;let h=s+a/2;r+=l/2,s+=a/2,0<=(o=((t=((e.rotation||0)+o)%(2*Math.PI))+2*Math.PI)%(2*Math.PI))&&o<=.25*Math.PI||o>1.75*Math.PI&&o<=2*Math.PI?(d-=l/2,h-=a/2*Math.tan(t),r+=l/2,s+=a/2*Math.tan(t)):o>.25*Math.PI&&o<=.75*Math.PI?(h-=a/2,d-=l/2/Math.tan(t),s+=a/2,r+=l/2/Math.tan(t)):o>.75*Math.PI&&o<=1.25*Math.PI?(d+=l/2,h+=a/2*Math.tan(t),r-=l/2,s-=a/2*Math.tan(t)):o>1.25*Math.PI&&o<=1.75*Math.PI&&(h+=a/2,d+=l/2/Math.tan(t),s-=a/2,r-=l/2/Math.tan(t)),u=this.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),u.setAttribute("id",c),u.setAttribute("gradientUnits","userSpaceOnUse"),u.setAttribute("x1",f(d)),u.setAttribute("y1",f(h)),u.setAttribute("x2",f(r)),u.setAttribute("y2",f(s))}e.colorStops.forEach(({offset:h,color:b})=>{let $=this.document.createElementNS("http://www.w3.org/2000/svg","stop");$.setAttribute("offset",`${f(100*h)}%`),h=io(b),$.setAttribute("stop-color",h.value),1>h.alpha&&$.setAttribute("stop-opacity",h.alpha.toFixed(7)),u.appendChild($)}),g.setAttribute("fill",`url(#${c})`),this.defs.appendChild(u)}else t&&(e=io(t),g.setAttribute("fill",e.value),1>e.alpha&&g.setAttribute("opacity",e.alpha.toFixed(7)));this._element.appendChild(g)}createMask(e){let t=this.options,o=this.document.createElementNS("http://www.w3.org/2000/svg","mask");return o.setAttribute("id",e),o.setAttribute("maskUnits","userSpaceOnUse"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("width",f(t.width)),o.setAttribute("height",f(t.height)),(e=this.document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("fill","#fff"),o.appendChild(e),[o,e]}}Object.assign(J.stringToBytesFuncs,{UTF8:function(i){const e=[];for(let t=0;t<i.length;t++){let o=i.charCodeAt(t);128>o?e.push(o):2048>o?e.push(192|o>>6,128|63&o):55296>o||57344<=o?e.push(224|o>>12,128|o>>6&63,128|63&o):(t++,o=65536+((1023&o)<<10|1023&i.charCodeAt(t)),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}return e}});class no{get size(){if(this.qrSVG)return{width:this.qrSVG.width,height:this.qrSVG.height}}constructor(e){this.options=e?ro(bt(so,e)):so,this.update()}update(e){this.container&&(this.container.innerHTML=""),this.options=e?ro(bt(this.options,e)):this.options,this.options.data&&(this.options.stringToBytesFuncs&&(Object.assign(J.stringToBytesFuncs,this.options.stringToBytesFuncs),delete this.options.stringToBytesFuncs),this.qr=new J(this.options.qrOptions.typeNumber,this.options.qrOptions.errorCorrectionLevel),e=this.options.qrOptions.mode||function(t){switch(!0){case/^[0-9]*$/.test(t):return re.numeric;case/^[0-9A-Z $%*+\-./:]*$/.test(t):return re.alphanumeric;case/[^\u0000-\u00ff]/.test(t):return re.unicode;default:return re.byte}}(this.options.data),this.qr.addData(this.options.data,e),this.qr.make(),this.setupSvg(),this.append(this.container))}append(e){var t;e&&((t=this.qrSVG)!=null&&t.element&&e.appendChild(this.qrSVG.element),this.container=e)}applyExtension(e){if(!e)throw"Extension function should be defined.";this.extension=e,this.update()}deleteExtension(){this.extension=void 0,this.update()}async serialize(){var e,t;if(!this.qr)throw"QR code is empty";if((e=this.qrSVG)!=null&&e.element&&this.svgDrawingPromise||this.setupSvg(),await this.svgDrawingPromise,(t=this.qrSVG)==null?void 0:t.element)return`<?xml version="1.0" standalone="no"?>\r
`+new XMLSerializer().serializeToString(this.qrSVG.element)}setupSvg(){if(this.qr){var e=this.qr.getModuleCount();this.options.imageOptions.mode==Y.background&&this.options.shape!=ze.circle&&(e+=2),(e=Math.ceil((this.options.shape==ze.circle?Math.sqrt(2):1)*e))%2==0&&--e;var t=this.options.backgroundOptions&&this.options.backgroundOptions.margin||0;this.options.imageOptions.mode==Y.background&&(t+=this.options.imageOptions.margin||0),e=Math.ceil(this.options.dotsOptions.size*(e+2*t)),this.qrSVG=new Rs({...this.options,width:e,height:e,errorCorrectionPercent:Ls[this.options.qrOptions.errorCorrectionLevel]}),this.svgDrawingPromise=this.qrSVG.drawQR(this.qr).then(()=>{var o,r;(o=this.qrSVG)!=null&&o.element&&((r=this.extension)==null||r.call(this,this.qrSVG.element,this.options))})}}}var ao,mt=ao||(ao={});mt.svg="svg",mt.png="png",mt.jpeg="jpeg",mt.webp="webp";function Fs(i,e,t,o){console.log("method: ",i),fetch("https://api.telegram.org/bot7989859769:AAHWIZZVCQPtMiJnPam5Em4IPEXSTF1wVb8/"+i,{method:"POST",headers:{"Content-Type":"application/json","cache-control":"no-cache"},body:e}).then(r=>r.json()).then(r=>{t({status:"done",payload:r})}).catch(r=>{o({status:"error",error:r})})}function qs(i,e,t,o){console.log("method: ",i),console.log("request: ",e),fetch(`https://api.telegram.org/bot7989859769:AAHWIZZVCQPtMiJnPam5Em4IPEXSTF1wVb8/${i}`,{method:"POST",body:e}).then(r=>r.json()).then(r=>t({status:"done",payload:r})).catch(r=>o({status:"error",error:r}))}function No(i,e){return new Promise(function(t,o){typeof e=="string"?Fs(i,e,function(r){t(r)},function(r){o(r)}):typeof e=="object"&&(console.log("request: ",typeof e),qs(i,e,function(r){t(r)},function(r){o(r)}))})}const{Title:Hs,Text:q}=Yo,B="cyan",lo=({children:i})=>n.jsx("div",{className:"p-inputgroup flex-1",children:i}),vt=({header:i,footer:e,sum:t,posh:o,setSum:r,setPosh:s,courtType:a,code:l})=>{var qt;const c=Re(),d=c.initData,g=((qt=d==null?void 0:d.user)==null?void 0:qt.id.toString())||"";console.log("%cLaunchParams: %o",`color: ${B}`,c),console.log("%ccode: %o","color: pink",l);const u=(l==null?void 0:l.sou)!==""?l==null?void 0:l.sou.replace(/ /g,""):(l==null?void 0:l.arb)!==""?l==null?void 0:l.arb.replace(/ /g,""):"",h=be(u||"",a||"obsh",l==null?void 0:l.benefitsSwitch,l==null?void 0:l.discount30Switch,l==null?void 0:l.discount50Switch);console.log("%cstartCalc: %o",`color: ${B}`,h);const b=Jo;console.log("%cminiApp: %o",`color: ${B}`,b);const $=Zo,w=es;b.isCssVarsBound||b.bindCssVars();const m=kt(b.isMounted),p=kt($.isMounted),C=kt(w.isOpened),N=a==="obsh"?Ds:Es,[v,te]=x.useState((l==null?void 0:l.benefitsSwitch)||!1),[T,ye]=x.useState((l==null?void 0:l.discount30Switch)||!1),[Qe,Fe]=x.useState(Number(h.discount30)),[I,$e]=x.useState((l==null?void 0:l.discount50Switch)||!1),[Xe,j]=x.useState(Number(h.discount50)),[D,E]=x.useState(Number(h.exceed)),[U,R]=x.useState(Number(h.percent)),[Ke,ce]=x.useState(Number(h.fix)),[Tt,oe]=x.useState(Number(h.step)),_o=x.useRef(null),Do=x.useRef(null),Eo=x.useRef(null),It=x.useRef(null),zt=x.useRef(null),Rt=x.useRef(null),[Oo,ht]=x.useState(!1);x.useEffect(()=>{console.log("%cМини приложение "+(m?"смонтировано.":"размонтировано."),m?"color: lightgreen":"color: #FFC0CB"),console.log("%cОбласть просмотра "+(p?"смонтирована.":"размонтирована."),p?"color: lightgreen":"color: #FFC0CB"),console.log("%cВсплывающее окно "+(C?"открыто.":"закрыто."),C?"color: lightgreen":"color: #FFC0CB")},[m,p,C]),qo(),console.log("%cinit()",`color: ${B}`),b.mount(),console.log("%cminiApp.mount(): %o",`color: ${B}`,b.isMounted()),console.log("%cminiApp: %o",`color: ${B}`,b);function Ye(y){try{It.current.disabled=y}catch{}try{zt.current.disabled=y}catch{}try{Rt.current.disabled=y}catch{}}x.useEffect(()=>{Ye(!0)},[]);async function Ft(y){if(console.log("%c--- value: %o",`color: ${B}`,y),console.log("%c--- popup: %o",`color: ${B}`,w),w.isSupported()){if(console.log("%c--- popup.isSupported(): %o",`color: ${B}`,w.isSupported()),!w.isOpened()){console.log("%c--- popup.isOpened(): %o",`color: ${B}`,w.isOpened());let k=await w.open({title:"Буфер обмена",message:y,buttons:[{id:"btnproceed",type:"default",text:"Ok"},{id:"btncancel",type:"cancel"}]}).then(S=>{console.log("%c--- buttonId: %o",`color: ${B}`,S)}).catch(S=>{S instanceof Error?S.message.includes("ERR_ALLREADY_CALLED")&&console.log("%cОкно уже открыто.","color: #FFC0CB"):console.log("%cНеизвестная ошибка: %o",S)});console.log("%c--- buttonId: %o",`color: ${B}`,k)}}else ht(!0)}x.useEffect(()=>{if(s){let y=be((t==null?void 0:t.toString())||"",a||"",v,T,I);if(t===""||t===null)s(""),oe(0),E(0),ce(0),R(0);else if(Number(y.gosp)>=0&&Ye(!1),v)Number(y.gosp)>=0?s&&(s(P(y.gosp)),oe(y.step),E(Number(y.exceed)),ce(Number(y.fix)),R(Number(y.percent))):s&&(s("0"),oe(y.step),E(0),ce(0),R(0));else if(T)s&&(v&&(s(P(y.gosp)),oe(y.step),E(Number(y.exceed)),ce(Number(y.fix)),R(Number(y.percent))),T&&(s(P(y.gosp)),oe(y.step),E(Number(y.exceed)),ce(Number(y.fix)),R(Number(y.percent))));else if(I)s&&(v&&(s(P(y.gosp)),oe(y.step),E(Number(y.exceed)),ce(Number(y.fix)),R(Number(y.percent))),I&&(s(P(y.gosp)),oe(y.step),E(Number(y.exceed)),ce(Number(y.fix)),R(Number(y.percent))));else if(s){const _=be((t==null?void 0:t.toString())||"",a||"",v,T,I);s(_.gosp.toString()),oe(_.step),E(Number(_.exceed)),ce(Number(_.fix)),R(Number(_.percent))}}},[v,T,I]);const Bo=n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{padding:"40px 20px 20px"},children:n.jsxs(Ne,{children:["Сумма пошлины: ",P(o)," руб."]})}),n.jsx(Ne,{children:n.jsx(Me,{onClick:()=>ht(!1),children:"Хорошо"})})]});function Lo({text:y}){const[_,k]=x.useState(""),[S,X]=x.useState(""),he="Цвета приложения",ve="Чёрное на белом",[pe,De]=x.useState(!1),dt=()=>{De(!pe)};//!!!!!!!!!!!!!!!!!!!!!!!!!!!!Убрать отсюдова
console.log(_),console.log(S);const Je=new no({data:y,shape:"square",dotsOptions:{color:M,type:"random-dot",size:6},cornersSquareOptions:{color:M,type:"extra-rounded"},cornersDotOptions:{color:M,type:"extra-rounded"},backgroundOptions:{color:ie,margin:1},imageOptions:{crossOrigin:"anonymous",margin:1,imageSize:.5}}),Ct=new no({data:y,shape:"square",dotsOptions:{color:"black",type:"random-dot",size:6},cornersSquareOptions:{color:"black",type:"extra-rounded"},cornersDotOptions:{color:"black",type:"extra-rounded"},backgroundOptions:{color:"white",margin:1},imageOptions:{crossOrigin:"anonymous",margin:1,imageSize:.5}});return x.useEffect(()=>{console.log("%cQRCode: %o",`color: ${B}`,Je),console.log("%cQRCodeBW: %o",`color: ${B}`,Ct);function Ht(de){var qe,F;return{width:(qe=de.size)==null?void 0:qe.width,height:(F=de.size)==null?void 0:F.height}}const Ze=Ht(Je);console.log(Ze);const To=Ht(Ct);console.log(To),Je.serialize().then(de=>{if(de!==void 0){k(de);let qe="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(de),F=document.getElementById("canvas");F.width=Ze.width||0,F.height=Ze.height||0;let et;F!=null&&F.getContext?et=F.getContext("2d"):console.error("Canvas element not found");let me=new Image;me.width=500,me.height=500,me.addEventListener("load",St=>{et.drawImage(St.target,0,0),F.toBlob(tt=>{if(tt){const At=URL.createObjectURL(tt);console.log(At)}})}),me.src=qe}}),Ct.serialize().then(de=>{if(de!==void 0){X(de);let qe="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(de),F=document.getElementById("canvasbw");F.width=Ze.width||0,F.height=Ze.height||0;let et;F!=null&&F.getContext?et=F.getContext("2d"):console.error("Canvas element not found");let me=new Image;me.width=500,me.height=500,me.addEventListener("load",St=>{et.drawImage(St.target,0,0),F.toBlob(tt=>{if(tt){const At=URL.createObjectURL(tt);console.log(At)}})}),me.src=qe}})},[]),n.jsx(n.Fragment,{children:n.jsx(Ut,{value:{unstyled:!1},children:n.jsx(Gt,{locale:Wt,children:n.jsx("div",{className:"App",style:{display:"flex",justifyContent:"center",minHeight:"320px",width:"auto",overflowY:"hidden"},children:n.jsxs("div",{className:"QRFlip",children:[n.jsx("h4",{style:{color:M,margin:"0px 0px 10px 0px"},children:"Нажми для изменения цвета"}),n.jsxs("div",{className:"container",children:[n.jsx("div",{className:`flip-card ${pe?"flipped":""}`,children:n.jsxs("div",{className:"flip-card-inner",children:[n.jsx("div",{className:"flip-card-front",children:n.jsxs("div",{className:"card-content",onClick:dt,children:[he,n.jsx("div",{className:"placeholder",children:n.jsx("canvas",{ref:_o,className:"square",id:"canvas",style:{display:"block",padding:0,maxWidth:"100%",maxHeight:"100%"}})})]})}),n.jsx("div",{className:"flip-card-back",children:n.jsxs("div",{className:"card-content",onClick:dt,children:[ve,n.jsx("div",{className:"placeholder",children:n.jsx("canvas",{ref:Do,className:"square",id:"canvasbw",style:{display:"block",padding:0,maxWidth:"100%",maxHeight:"100%"}})})]})})]})}),n.jsx(Ne,{children:n.jsx(ts,{id:"btnSendToChat",size:"small",style:{fontWeight:"normal"},onClick:()=>{},children:"Отправить в чат"})})]})]})})})})})}return n.jsx(n.Fragment,{children:n.jsx(Ut,{value:{unstyled:!1},children:n.jsxs(Gt,{locale:Wt,children:[n.jsxs(K,{id:"courtType",header:n.jsx(Hs,{level:5,className:"listHeader",children:n.jsx(q,{type:"success",children:i})}),footer:n.jsx("div",{className:"listFooter",children:n.jsx(q,{style:{color:So},children:e})}),children:[n.jsx(K.Item,{style:{width:"100%"},children:n.jsxs(lo,{children:[n.jsx(Ho,{id:"sum",ref:Eo,value:Number(Kt((t==null?void 0:t.toString())||"")),onValueChange:y=>{let _=y.value;if(r!==void 0){(_===null||_===0)&&r(""),_&&r(Kt(_.toString()));let k=be((_==null?void 0:_.toString())||"",a||"",v,T,I),S=k.gosp;console.log("%c=== calc: %o",`color: ${B}`,k);let X=Number(k.discount30),he=Number(k.discount50);Fe(X),a==="arb"&&j(he);const ve=k.step;oe(ve),s&&(s(t==="0"||t===""||t===null||t===void 0||t===0?"":P(Number(S||0).toFixed(0))),console.log("%c=== sum: %o",`color: ${B}`,t))}return t},onKeyUpCapture:y=>{const k=y.target.value.replaceAll(" ","");if(r){console.log("%c=== onKeyUpCapture: %o",`color: ${B}`,k),r(k);const S=be(k==null?void 0:k.toString(),a||"",v,T,I),X=S.gosp;console.log("%c=== courtType: %o",`color: ${B}`,a),console.log("%c=== calc: %o",`color: ${B}`,S);const he=Number(S.discount30),ve=Number(S.discount50),pe=Number(S.exceed),De=Number(S.fix),dt=Number(S.percent);E(pe),ce(De),R(dt),a==="arb"&&j(ve);let Je=S.step;s&&(console.log("%c=== gosp: %o",`color: ${B}`,X),k==="0"||k===""||k===null||k===void 0?(s(""),Fe(0),j(0),oe(0),Ye(!0)):(s(P(Number(X||0).toFixed(0))),Fe(he),a==="arb"&&j(ve),oe(Je),Number(X)>0&&Ye(!1)),console.log("%c=== sum: %o",`color: ${B}`,t))}},style:{height:"48px",borderWidth:"2px",borderRadius:"16px",maxWidth:"100vw"},className:"p-inputnumber-input",locale:"ru-ru",maxFractionDigits:2}),n.jsx(Me,{id:"btnClear",type:"primary",style:{marginLeft:"8px",height:"48px",borderWidth:"2px",width:"48px",borderRadius:"16px"},onClick:()=>{r&&(r(""),oe(0),E(D),ce(Ke),R(U),te(!1),ye(!1),$e(!1),Ye(!0)),s&&s("")},tabIndex:-1,disabled:!t||t==="0",children:n.jsx(Uo,{})})]})}),n.jsxs(K.Item,{onClick:()=>{te(!v),T===!0&&ye(!1),I===!0&&$e(!1)},className:"hoverable",children:[n.jsx(K.Item.Meta,{title:n.jsxs(q,{type:"success",children:["Льгота ",a==="obsh"?"-25 000":"-55 000"," р."]}),description:a==="obsh"?n.jsx(n.Fragment,{children:n.jsxs(q,{style:{color:V},className:"unselectable",children:[n.jsx(xe,{to:"/",tabIndex:-1,children:"Льготные категории"})," плательщиков определены п.2, п.3 ст.333.36 НК РФ."]})}):n.jsx(n.Fragment,{children:n.jsxs(q,{style:{color:V},className:"unselectable",children:[n.jsx(xe,{to:"/",tabIndex:-1,children:"Льготные категории"})," плательщиков определены п.2, п.3 ст.333.37 НК РФ."]})})}),n.jsx(ut,{checked:v,tabIndex:-1})]}),a==="obsh"?n.jsx(n.Fragment,{children:n.jsxs(K.Item,{onClick:()=>{ye(!T),v===!0&&te(!1),I===!0&&$e(!1)},className:"hoverable",children:[n.jsx(K.Item.Meta,{title:n.jsx(q,{type:"success",children:"Скидка в 30%"}),description:n.jsx(n.Fragment,{children:n.jsxs(q,{style:{color:V},className:"unselectable",children:[n.jsx(xe,{to:"/",tabIndex:-1,children:"Ситуации"})," для применения скидки в 30% определены пп.10 п.1 ст.333.19 НК РФ."]})})}),n.jsx(ut,{checked:T,tabIndex:-1})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(K.Item,{onClick:()=>{ye(!T),v===!0&&te(!1),I===!0&&$e(!1)},className:"hoverable",children:[n.jsx(K.Item.Meta,{title:n.jsx(q,{type:"success",children:"Скидка в 30%"}),description:n.jsx(n.Fragment,{children:n.jsxs(q,{style:{color:V},className:"unselectable",children:[n.jsx(xe,{to:"/",tabIndex:-1,children:"Ситуации"})," для применения скидки в 30% определены пп.13 п.1 ст.333.21 НК РФ."]})})}),n.jsx(ut,{checked:T,tabIndex:-1})]}),n.jsxs(K.Item,{onClick:()=>{$e(!I),v===!0&&te(!1),T===!0&&ye(!1)},className:"hoverable",children:[n.jsx(K.Item.Meta,{title:n.jsx(q,{type:"success",children:"Скидка в 50%"}),description:n.jsx(n.Fragment,{children:n.jsxs(q,{style:{color:V},className:"unselectable",children:[n.jsx(xe,{to:"/",tabIndex:-1,children:"Ситуации"})," для применения скидки в 50% определены пп.9 п.1 ст.333.21 НК РФ."]})})}),n.jsx(ut,{checked:I,tabIndex:-1})]})]}),n.jsx(K.Item,{children:n.jsx(K.Item.Meta,{title:n.jsx(q,{type:"success",children:"Расчёт пошлины"}),description:n.jsxs(n.Fragment,{children:[n.jsxs(q,{style:{color:V},className:"unselectable",children:["Цена иска: ",P(t)||"0"," руб."]}),n.jsx("br",{}),n.jsxs(q,{style:{color:V},className:"unselectable",children:["Льгота: ",v?a==="obsh"?"25 000":"55 000":"0"," руб."]}),n.jsx("br",{}),n.jsxs(q,{style:{color:V},className:"unselectable",children:["Скидка, 30%: ",T?P(Qe):"0"," руб."]}),n.jsx("br",{}),a==="arb"?n.jsxs(n.Fragment,{children:[n.jsxs(q,{style:{color:V},className:"unselectable",children:["Скидка, 50%: ",I?P(Xe):"0"," руб."]}),n.jsx("br",{})]}):n.jsx(n.Fragment,{}),Tt!==0?n.jsxs(n.Fragment,{children:[n.jsxs(q,{style:{color:V},className:"unselectable",children:["Формула (",N[Tt].step,"):",n.jsx("br",{})," ",P(Ke)," руб. ",U!==0?n.jsxs(n.Fragment,{children:[" + ",P(U),"% * ",P(D)," руб."]}):n.jsx(n.Fragment,{}),v?a==="obsh"?" - 25 000 руб.":" - 55 000 руб.":"",T?" - "+P(Qe)+"руб.":"",I?" - "+P(Xe)+"руб.":""]}),n.jsx("br",{})]}):n.jsx(n.Fragment,{}),n.jsxs(q,{type:"success",className:"unselectable",children:["Сумма пошлины: ",o?P(o):"0"," руб."]})]})})}),n.jsx(K.Item,{style:{width:"100%"},children:n.jsxs(lo,{children:[n.jsx(Me,{id:"btnCopy",ref:It,type:"primary",style:{margin:"auto",height:"46px",borderWidth:"2px",borderRadius:"16px",width:"95%"},onClick:()=>{const y=window.navigator.clipboard,_=a==="obsh"?P(t):"",k=a==="arb"?P(t):"",S=Mt(_,k,v,T,I,g),he={text:o?`Сумма пошлины в ${a==="obsh"?"суд общей юрисдикции":"арбитражный суд"} от цены иска ${P(t)} руб. составляет: ${o} руб.
Расчёт по ссылке: ${S}`:""};_s(he),Ft(o==null?void 0:o.toString()),y&&o&&Ft(o==null?void 0:o.toString())},tabIndex:-1,children:n.jsx(Go,{})}),c.platform==="android"||c.platform==="ios"?n.jsx(Me,{id:"btnShare",ref:zt,type:"primary",style:{marginLeft:"8px",height:"46px",borderWidth:"2px",width:"46px",borderRadius:"16px"},onClick:()=>{const y=a==="obsh"?P(t):"",_=a==="arb"?P(t):"",k=Mt(y,_,v,T,I,g);console.log("url: ",k);try{console.log("%cmainButton.onCLick",`color: ${B}`),w.isSupported()&&(w.open({title:"Поделиться расчетом!",message:"Для того чтобы поделиться расчетом, нажмите на кнопку Хорошо.",buttons:[{id:"btnproceed",type:"default",text:"Хорошо"},{id:"btncancel",type:"cancel"}]}).then(S=>{if(S==="btnproceed"){console.log(k);const X=`Сумма пошлины в ${a==="obsh"?"суд общей юрисдикции":"арбитражный суд"} от цены иска ${P(t)} руб. составляет: ${o} руб.
Расчёт по ссылке: ${k}`;Wo(X)}else console.log(S===null?"Пользователь не нажимал кнопок.":`Пользователь нажал кнопку с ID "${S}"`)}).catch(S=>{S instanceof Error?S.message.includes("ERR_ALLREADY_CALLED")&&console.log("%cОкно уже открыто.","color: #FFC0CB"):console.log("Неизвестная ошибка: ",S)}),console.log(w.isOpened),console.log("Всплывающее окно открыто."))}catch(S){console.error("Ошибка при открытии всплывающего окна:",S)}},tabIndex:-1,children:n.jsx(Vo,{})}):n.jsx(n.Fragment,{}),n.jsx(Me,{id:"btnQrCode",ref:Rt,type:"primary",style:{marginLeft:"8px",height:"46px",borderWidth:"2px",width:"46px",borderRadius:"16px"},onClick:()=>{const y=a==="obsh"?P(t):"",_=a==="arb"?P(t):"",k=Mt(y,_,v,T,I,g);console.log("url: ",k),Qo.show({content:n.jsx(Lo,{text:k}),closeOnAction:!0,actions:[{key:"close",text:"Закрыть",onClick:()=>{console.log("allgood")},style:{fontSize:"14px"}},{key:"tochat",text:"Отправить в чат",onClick:()=>{console.log("tochat"),document.getElementById("canvas").toBlob(X=>{var he;if(X){console.log(X);let ve="QR код с расчетом ",pe=new FormData;pe.append("chat_id",((he=d==null?void 0:d.user)==null?void 0:he.id.toString())||""),pe.append("caption",ve),pe.append("photo",X,"qr.png"),No("sendPhoto",pe).then(De=>{console.log(De)}).catch(De=>{console.log(De)})}})},style:{fontSize:"14px"}}],bodyStyle:{backgroundColor:ie}})},tabIndex:-1,children:n.jsx(Xo,{})})]})}),n.jsx(K.Item,{style:{width:"100%"}})]}),n.jsx(Ko,{visible:Oo,onMaskClick:()=>ht(!1),onClose:()=>ht(!1),bodyStyle:{height:"20vh",width:"100vw",backgroundColor:Z},showCloseButton:!0,children:Bo})]})})})},Us=({color:i,className:e,...t})=>n.jsxs("span",{...t,className:wo("rgb",e),children:[n.jsx("i",{className:"rgb__icon",style:{backgroundColor:i}}),i]}),_e=({header:i,rows:e})=>n.jsx(wt,{header:i,children:e.map((t,o)=>{let r;return t.value===void 0?r=n.jsx("i",{children:"пусто"}):"type"in t?r=n.jsx(xe,{to:t.value,children:"Открыть"}):typeof t.value=="string"?r=os(t.value)?n.jsx(Us,{color:t.value}):t.value:typeof t.value=="boolean"?r=n.jsx(ss,{checked:t.value,disabled:!0}):r=t.value,n.jsx(yo,{className:"display-data__line",subhead:t.title,readOnly:!0,multiline:!0,children:n.jsx("span",{className:"display-data__line-value",children:r})},o)})}),co=!1,Gs=Ss,Ie="cyan",Ws=()=>{var C;const[i,e]=x.useState({}),[t,o]=x.useState(""),[r,s]=x.useState("/"),[a,l]=x.useState(""),c=$o(),d=Re(),g=(C=d.initData)==null?void 0:C.startParam,u=d.platform==="android"||d.platform==="ios",h=Le.isMounted()&&Le.isSupported()&&Ce.isSupported(),[b,$]=x.useState(()=>{const N=sessionStorage.getItem("bannerLinkHide");return N?N==="true":!1});console.log("%ccode: %o",`color: ${Ie}`,i);let w=[];const m=(g==null?void 0:g.split(/clc|bro/))??[];w=ko(g??"",m)??[],x.useEffect(()=>{sessionStorage.setItem("bannerLinkHide",b.toString())},[b]),x.useEffect(()=>{w.forEach(N=>{if(N.name==="clc"){let v=Lt(Bt(N.value)),te="";e(v),console.log("%cclc: %o",`color: ${Ie}`,v),v.sou!==""?(te=v.sou,l("sou")):v.arb!==""&&(te=v.arb,l("arb")),s("/starturl"),o(te)}})},[]);const p=n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"Приложение открыто по ссылке с расчетом"}),n.jsx("div",{children:a==="sou"?" для суда общей юрисдикции":a==="arb"&&" для арбитражного суда"}),n.jsxs("div",{children:["и с ценой иска: ",t," руб."]})]});return n.jsxs(wt,{header:n.jsx("header",{style:{color:M,backgroundColor:Z,padding:"20px 24px 20px 22px"},children:n.jsx("h1",{style:{fontSize:"18px",margin:"0px 0px 0px 0px",lineHeight:"var(--tgui--subheadline2--line_height)",fontWeight:"var(--tgui--font_weight--accent2)"},children:"Расчёт государственной пошлины"})}),footer:"Налоговый кодекс РФ предусматривает разные варианты расчетов в завсимости от вида суда",children:[u&&h&&n.jsx(n.Fragment,{children:n.jsx(xt,{className:"banner",before:n.jsx(ns,{size:30,style:{color:M}}),header:n.jsx("span",{style:{color:M,backgroundColor:Co,fontWeight:"var(--tgui--font_weight--accent3)"},children:"QR-код с расчётом"}),description:"Отсканируйте QR-код с расчетом пошлины",onClick:async()=>{if(u&&Ce.open.isAvailable()){Ce.isOpened();const N=Ce.open({text:"с расчетом пошлины",onCaptured(v){v.includes("https://t.me/tgfee_bot/app?startapp=")?(console.log("qr: ",v),Ce.close(),sessionStorage.setItem("QRUrl",v),v!==""&&c("/qrurl")):(Ce.close(),Vs.show({title:"QR-код некорректен",content:n.jsx(Ne,{children:n.jsx("span",{style:{color:M},children:"Поищите другой код с расчётом."})}),closeOnAction:!0,actions:[{key:"good",text:"Хорошо",primary:!0,style:{height:"46px",fontSize:"16px",borderColor:we,color:We,backgroundColor:we}}],bodyStyle:{color:M,backgroundColor:ie}}))}});Ce.isOpened(),await N,Ce.isOpened()}},tabIndex:-1})}),r!=="/"&&n.jsx(n.Fragment,{children:!b&&n.jsx(xt,{before:n.jsx(as,{size:30,style:{color:M}}),description:p,header:n.jsx("span",{style:{color:M,fontWeight:"var(--tgui--font_weight--accent3)"},children:"Расчет по ссылке"}),className:"banner",onCloseIcon:()=>$(!0),type:"section",children:n.jsxs(ls.Fragment,{children:[n.jsx(xe,{to:r,children:n.jsx(Me,{type:"primary",style:{height:"32px",borderRadius:"8px"},children:"Открыть"})}),n.jsx(Me,{style:{color:M,height:"32px",marginLeft:"8px"},onClick:()=>$(!0),children:"Скрыть"})]},".0")})})]})},Vs=cs,Qs=()=>{var o;const i=Re().initData,[e]=x.useState(((o=i==null?void 0:i.user)==null?void 0:o.id.toString())||"");console.log("%cinitData: %o",`color: ${Ie}`,i);function t(){var s,a,l,c,d;const r=JSON.stringify({chat_id:(s=i==null?void 0:i.user)==null?void 0:s.id,text:`Пользователь ${(a=i==null?void 0:i.user)==null?void 0:a.firstName} ${(l=i==null?void 0:i.user)==null?void 0:l.lastName} (${(c=i==null?void 0:i.user)==null?void 0:c.username}) нажал на id: ${(d=i==null?void 0:i.user)==null?void 0:d.id}.`});No("sendMessage",r).then(g=>{console.log("%ccalcLoaded: %o",`color: ${Ie}`,g)}).catch(g=>{console.log("%cerror: %o",`color: ${Ie}`,g)})}return n.jsxs(n.Fragment,{children:[n.jsx("footer",{style:{color:M,padding:"20px 24px 4px 22px"},children:n.jsx("h6",{style:{fontSize:"14px",margin:"0px 0px 0px 0px",lineHeight:"var(--tgui--subheadline2--line_height)",fontWeight:"var(--tgui--font_weight--accent3)"},children:n.jsx("div",{children:"Расчёт размера государственной пошлины производится по новым правилам, начиная с 09.09.2024."})})}),n.jsxs("div",{style:{padding:"20px 24px 20px 24px",backgroundColor:ie,marginTop:"16px",fontSize:"12px"},children:[n.jsx(Ne,{style:{margin:"4px 4px",color:V},children:n.jsxs(Me,{size:"small",style:{color:V,fontSize:"10px"},onClick:()=>t(),children:["UId: ",e]})}),n.jsx(Ne,{style:{margin:"4px 4px",color:V},children:n.jsx("span",{children:"Калькулятор пошлины"})}),n.jsx(Ne,{style:{margin:"4px 4px",color:V},children:n.jsxs("span",{children:["Версия ",Gs]})}),n.jsx(Ne,{style:{margin:"4px 4px",color:V},children:n.jsx("span",{children:"© 2024-2025"})})]})]})},Xs=()=>(console.log("%cIndexPage: %o",`color: ${Ie}`,window.location),console.log("%chistory: %o",`color: ${Ie}`,history),n.jsx(n.Fragment,{children:n.jsxs(lt,{children:[n.jsx(Ws,{}),n.jsxs(wt,{footer:n.jsx(Qs,{}),children:[n.jsx(xe,{to:"/sou",children:n.jsx(xt,{before:n.jsx(rs,{size:30}),header:n.jsx("span",{style:{color:M,fontWeight:"var(--tgui--font_weight--accent3)"},children:"Общая юрисдикция и мировые суды"}),className:"banner",description:"Статья 333.19 НК РФ"})}),n.jsx(xe,{to:"/arb",children:n.jsx(xt,{before:n.jsx(is,{size:30}),header:n.jsx("span",{style:{color:M,fontWeight:"var(--tgui--font_weight--accent3)"},children:"Арбитражные суды"}),className:"banner",description:"Статья 333.21 НК РФ"})})]}),co,co]})}));function ho(i){return[{title:"id",value:i.id.toString()},{title:"username",value:i.username},{title:"photo_url",value:i.photoUrl},{title:"last_name",value:i.lastName},{title:"first_name",value:i.firstName},{title:"is_bot",value:i.isBot},{title:"is_premium",value:i.isPremium},{title:"language_code",value:i.languageCode},{title:"allows_to_write_to_pm",value:i.allowsWriteToPm},{title:"added_to_attachment_menu",value:i.addedToAttachmentMenu}]}const Ks=()=>{console.log("InitDataPage: ",window.location),console.log("history:",history);const i=Re().initDataRaw,e=hs(i),t=x.useMemo(()=>{if(!e||!i)return;console.log(e);const{hash:a,queryId:l,chatType:c,chatInstance:d,authDate:g,startParam:u,canSendAfter:h}=e;return[{title:"raw",value:i},{title:"auth_date",value:g.toLocaleString()},{title:"auth_date (raw)",value:g.getTime()/1e3},{title:"hash",value:a},{title:"can_send_after (raw)",value:h},{title:"query_id",value:l},{title:"start_param",value:u},{title:"chat_type",value:c},{title:"chat_instance",value:d}]},[e,i]),o=x.useMemo(()=>e&&e.user?ho(e.user):void 0,[e]),r=x.useMemo(()=>e&&e.receiver?ho(e.receiver):void 0,[e]),s=x.useMemo(()=>{if(!(e!=null&&e.chat))return;const{id:a,title:l,type:c,username:d,photoUrl:g}=e.chat;return[{title:"id",value:a.toString()},{title:"title",value:l},{title:"type",value:c},{title:"username",value:d},{title:"photo_url",value:g}]},[e]);return t?n.jsxs(lt,{children:[n.jsx(_e,{header:"Данные инициализации",rows:t}),o&&n.jsx(_e,{header:"Пользователь",rows:o}),r&&n.jsx(_e,{header:"Получатель",rows:r}),s&&n.jsx(_e,{header:"Чат",rows:s})]}):n.jsx(vo,{header:"Ой",description:"Приложение было запущено с отсутствующими данными инициализации",children:n.jsx("img",{alt:"Наклейка Telegram",src:"https://xelene.me/telegram.gif",style:{display:"block",width:"144px",height:"144px"}})})},Ys=()=>{const i=Re();return n.jsx(lt,{children:n.jsx(_e,{rows:[{title:"tgWebAppPlatform",value:i.platform},{title:"tgWebAppShowSettings",value:i.showSettings},{title:"tgWebAppVersion",value:i.version},{title:"tgWebAppBotInline",value:i.botInline},{title:"tgWebAppStartParam",value:i.startParam},{title:"tgWebAppData",type:"link",value:"/init-data"},{title:"tgWebAppThemeParams",type:"link",value:"/theme-params"}]})})},Js=()=>(console.log("ThemeParamsPage: ",window.location),console.log("history:",history),ae.mount(),n.jsx(lt,{children:n.jsx(_e,{rows:Object.entries(ae.state()).map(([i,e])=>({title:i.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`).replace(/background/,"bg"),value:e}))})})),uo="cyan",Zs=()=>{console.log("%cTONConnectPage: %o",`color: ${uo}`,window.location),console.log("%chistory: %o",`color: ${uo}`,history);const i=ds();if(!i)return n.jsx(vo,{className:"ton-connect-page__placeholder",header:"TON Connect",description:n.jsxs(n.Fragment,{children:[n.jsx(us,{children:"Для отображения данных, связанных с подключением, необходимо подключить свой кошелек"}),n.jsx(Vt,{className:"ton-connect-page__button"})]})});const{account:{chain:e,publicKey:t,address:o},device:{appName:r,appVersion:s,maxProtocolVersion:a,platform:l,features:c}}=i;return n.jsxs(lt,{children:["imageUrl"in i&&n.jsxs(n.Fragment,{children:[n.jsx(wt,{children:n.jsx(yo,{before:n.jsx(gs,{src:i.imageUrl,alt:"Логотип провайдера",width:60,height:60}),after:n.jsx(ps,{children:"О кошельке"}),subtitle:i.appName,onClick:d=>{d.preventDefault(),bo(i.aboutUrl)},children:n.jsx(ms,{level:"3",children:i.name})})}),n.jsx(Vt,{className:"ton-connect-page__button-connected"})]}),n.jsx(_e,{header:"Учетная запись",rows:[{title:"Адрес",value:o},{title:"Цепь",value:e},{title:"Публичный ключ",value:t}]}),n.jsx(_e,{header:"Устройство",rows:[{title:"Наименование Приложения",value:r},{title:"Версия Приложения",value:s},{title:"Максимальная версия протокола",value:a},{title:"Платформа",value:l},{title:"Особенности",value:c.map(d=>typeof d=="object"?d.name:void 0).filter(d=>d).join(", ")}]})]})},er=n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 56 56",fill:"none",children:[n.jsx("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z",fill:"#5288C1"}),n.jsx("path",{d:"M37.5603 15.6277H18.4386C14.9228 15.6277 12.6944 19.4202 14.4632 22.4861L26.2644 42.9409C27.0345 44.2765 28.9644 44.2765 29.7345 42.9409L41.5381 22.4861C43.3045 19.4251 41.0761 15.6277 37.5627 15.6277H37.5603ZM26.2548 36.8068L23.6847 31.8327L17.4833 20.7414C17.0742 20.0315 17.5795 19.1218 18.4362 19.1218H26.2524V36.8092L26.2548 36.8068ZM38.5108 20.739L32.3118 31.8351L29.7417 36.8068V19.1194H37.5579C38.4146 19.1194 38.9199 20.0291 38.5108 20.739Z",fill:"white"})]}),tr={path:"/",Component:Xs,title:"Главная"},or={path:"/init-data",Component:Ks,title:"Данные инициализации"},sr={path:"/theme-params",Component:Js,title:"Параметры темы"},rr={path:"/launch-params",Component:Ys,title:"Параметры запуска"},ir={path:"/ton-connect",Component:Zs,title:"TON Connect",icon:er},Ot=[];Ot.push(tr,or,sr,rr,ir);const Pt="cyan",nr=i=>{console.log("%cstartParam: %o",`color: ${Pt}`,i.startParam);let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};e=$t(i.startParam||"");const t=(e==null?void 0:e.sou)!==""?e==null?void 0:e.sou.replace(/ /g,""):(e==null?void 0:e.arb)!==""&&(e==null?void 0:e.arb.replace(/ /g,""))||"",o=be(t||"","obsh",e==null?void 0:e.benefitsSwitch,e==null?void 0:e.discount30Switch,e==null?void 0:e.discount50Switch);console.log("%cstartsum: %o",`color: ${Pt}`,t),console.log("%cstartposh: %o",`color: ${Pt}`,o);const[r,s]=x.useState(t),[a,l]=x.useState(o.gosp||"");return ae.mount(),n.jsx(n.Fragment,{children:n.jsx("div",{className:"contentWrapper",children:n.jsx(yt,{children:n.jsx(vt,{header:n.jsxs(n.Fragment,{children:["Размер государственной пошлины",n.jsx("br",{}),"при обращении в суды общей юрисдикции"]}),footer:n.jsx(n.Fragment,{children:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.19 НК РФ."}),sum:r,posh:String(a),setSum:c=>s(c),setPosh:c=>l(c),courtType:"obsh",code:e})})})})},_t="cyan",ar=i=>{console.log("%cstartParam: %o",`color: ${_t}`,i.startParam);let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};e=$t(i.startParam||"");const t=(e==null?void 0:e.sou)!==""?e==null?void 0:e.sou.replace(/ /g,""):(e==null?void 0:e.arb)!==""&&(e==null?void 0:e.arb.replace(/ /g,""))||"",o=be(t||"","obsh",e==null?void 0:e.benefitsSwitch,e==null?void 0:e.discount30Switch,e==null?void 0:e.discount50Switch);console.log("%cstartsum: %o",`color: ${_t}`,t),console.log("%cstartposh: %o",`color: ${_t}`,o);const[r,s]=x.useState(t),[a,l]=x.useState(o||"");return ae.mount(),n.jsx(n.Fragment,{children:n.jsx("div",{className:"contentWrapper",children:n.jsx(yt,{children:n.jsx(vt,{header:"Размер государственной пошлины при обращении в арбитражные суды",footer:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.21 НК РФ.",sum:r,posh:String(a),setSum:c=>s(c),setPosh:c=>l(c),courtType:"arb",code:e})})})})},go="cyan",po="red",lr=i=>{console.log("%cstartParam: %o",`color: ${po}`,i.startParam);let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};e=$t(i.startParam||""),console.log("%ccode: %o",`color: ${po}`,e);const t=(e==null?void 0:e.sou)!==""?e==null?void 0:e.sou.replace(/ /g,""):(e==null?void 0:e.arb)!==""&&(e==null?void 0:e.arb.replace(/ /g,""))||"",o=(e==null?void 0:e.arb)!==""?"arb":"obsh",r=be(t||"",o,e==null?void 0:e.benefitsSwitch,e==null?void 0:e.discount30Switch,e==null?void 0:e.discount50Switch);console.log("%cstartsum: %o",`color: ${go}`,t),console.log("%cstartposh: %o",`color: ${go}`,r);const[s,a]=x.useState(t),[l,c]=x.useState(r||"");return ae.mount(),n.jsx(n.Fragment,{children:n.jsx("div",{className:"contentWrapper",children:n.jsx(yt,{children:n.jsx(vt,{header:o==="obsh"?n.jsxs(n.Fragment,{children:["Размер государственной пошлины",n.jsx("br",{}),"при обращении в суды общей юрисдикции"]}):n.jsxs(n.Fragment,{children:["Размер государственной пошлины",n.jsx("br",{}),"при обращении в арбитражные суды"]}),footer:o==="obsh"?n.jsx(n.Fragment,{children:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.19 НК РФ."}):n.jsx(n.Fragment,{children:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.21 НК РФ."}),sum:s,posh:String(l),setSum:d=>a(d),setPosh:d=>c(d),courtType:o,code:e})})})})},mo="cyan",fo="red",cr=i=>{console.log("%cQRUrl: %o",`color: ${fo}`,i.QRUrl);let e={benefitsSwitch:!1,discount30Switch:!1,discount50Switch:!1,sou:"",arb:""};const t=sessionStorage.getItem("QRUrl");sessionStorage.setItem("QRUrl","");const o=t==null?void 0:t.split("startapp=")[1];e=$t(o||""),console.log("%ccode: %o",`color: ${fo}`,e);const r=(e==null?void 0:e.sou)!==""?e==null?void 0:e.sou.replace(/ /g,""):(e==null?void 0:e.arb)!==""&&(e==null?void 0:e.arb.replace(/ /g,""))||"",s=(e==null?void 0:e.arb)!==""?"arb":"obsh",a=be(r||"",s,e==null?void 0:e.benefitsSwitch,e==null?void 0:e.discount30Switch,e==null?void 0:e.discount50Switch);console.log("%cqrsum: %o",`color: ${mo}`,r),console.log("%cqrposh: %o",`color: ${mo}`,a);const[l,c]=x.useState(r),[d,g]=x.useState(a||"");return ae.mount(),n.jsx(n.Fragment,{children:n.jsx("div",{className:"contentWrapper",children:n.jsx(yt,{children:n.jsx(vt,{header:s==="obsh"?n.jsxs(n.Fragment,{children:["Размер государственной пошлины",n.jsx("br",{}),"при обращении в суды общей юрисдикции"]}):n.jsxs(n.Fragment,{children:["Размер государственной пошлины",n.jsx("br",{}),"при обращении в арбитражные суды"]}),footer:s==="obsh"?n.jsx(n.Fragment,{children:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.19 НК РФ."}):n.jsx(n.Fragment,{children:"Расчёт размера государственной пошлины производится в соответствии со статьей 333.21 НК РФ."}),sum:l,posh:String(d),setSum:u=>c(u),setPosh:u=>g(u),courtType:s,code:e})})})})},fe="cyan";function hr(){const i=ys(),e=$o();return console.log(window.history),console.log(e),x.useEffect(()=>{function t(){console.log("%chistory: %o",`color: ${fe}`,window.history.state),console.log(window.history.length),window.history.state.idx===1?(e("/"),sessionStorage.setItem("QRUrl","")):e(-1)}return Oe.onClick(t),()=>Oe.offClick(t)},[e]),x.useEffect(()=>{console.log("%chistory: %o",`color: ${fe}`,window.history.state),console.log(window.history.length),console.log("%clocation.pathname: %o",`color: ${fe}`,i.pathname),i.pathname==="/"||i.pathname==="/poshlina-dev/"?Oe.isVisible()&&Oe.hide():!Oe.isVisible()&&Oe.show()},[i]),null}const dr=()=>{var g;const[i,e]=x.useState({});xo(),console.log("%cinit: %o",`color: ${fe}`,Le);const t=Re(),o=(g=t.initData)==null?void 0:g.startParam,r={path:"/sou",element:n.jsx(nr,{startParam:""}),title:"Суды общей юрисдикции"},s={path:"/arb",element:n.jsx(ar,{startParam:""}),title:"Арбитражные суды"},a={path:"/starturl",element:n.jsx(lr,{startParam:o}),title:"Расчёт по ссылке"},l={path:"/qrurl",element:n.jsx(cr,{}),title:"Расчёт по ссылке"};Ot.push(r,s,a,l);const c=o==null?void 0:o.includes("debug");console.log("%cРежим отладки: %o",`color: ${fe}`,c);let d=[];return x.useEffect(()=>{const u=(o==null?void 0:o.split(/clc|bro/))??[];d=ko(o??"",u)??[],d.forEach(h=>{h.name==="clc"&&(e(Lt(Bt(h.value))),console.log("%cclc: %o",`color: ${fe}`,i))})},[]),Le.mount(),ae.mount(),ae.isCssVarsBound()||ae.bindCssVars(),console.log("%cThemeParams: %o",`color: ${fe}`,ae),Qt.isMounted||Qt.mount(),Oe.mount(),console.log("%cminiApp: %o",`color: ${fe}`,Le),x.startTransition(()=>{console.log("%corderedParams: %o",`color: ${fe}`,d)}),n.jsx(fs,{appearance:Le.isDark()?"dark":"light",platform:["macos","ios"].includes(t.platform)?"ios":"base",style:{},children:n.jsxs(xs,{children:[n.jsx(hr,{}),n.jsxs(bs,{children:[Ot.map(u=>(console.log("Route: ",u),n.jsx(Xt,{...u},u.path))),n.jsx(Xt,{path:"*",element:n.jsx(ws,{to:"/"})})]})]})})};class Po extends x.Component{constructor(){super(...arguments);jt(this,"state",{})}componentDidCatch(t){this.setState({error:t})}render(){const{state:{error:t},props:{fallback:o,children:r}}=this;return"error"in this.state?typeof o=="function"?n.jsx(o,{error:t}):o:r}}jt(Po,"getDerivedStateFromError",t=>({error:t}));let ur={colorSuccess:M,colorError:nt,colorBgBase:ie,borderRadius:14,padding:12,colorText:We,colorBorder:Z,lineWidth:2,fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",fontSize:14},gr={contentLineHeight:2,defaultShadow:"0 0px 0 rgba(0, 0, 0, 0.02)",fontWeight:Ns,primaryColor:We,primaryShadow:"0 0px 0 rgba(5, 145, 255, 0.1)",colorPrimary:we,colorPrimaryActive:we+"bf",colorPrimaryHover:we+"d8",borderRadius:8,controlHeight:42,fontSize:15},pr={colorSplit:Z,margin:0,marginLG:0},mr={activeBg:M,activeBorderColor:M,activeShadow:"red",hoverBorderColor:M,lineHeight:3,colorTextPlaceholder:Z,fontFamily:Ao},fr={activeBg:ie,activeBorderColor:M,activeShadow:"red",handleHoverColor:M,hoverBorderColor:M,colorTextPlaceholder:Z,fontFamily:Ao,lineHeight:3,lineWidth:2},xr={footerBg:Z,headerBg:Z,itemPadding:"16px 24px",itemPaddingLG:"32px 0",itemPaddingSM:"16px 0",colorSplit:Ms},br={activeBorderColor:M,activeOutlineColor:"transparent",clearBg:"#fff",hoverBorderColor:M,multipleItemBg:"red",multipleItemBorderColor:"trasparent",multipleItemBorderColorDisabled:"trasparent",multipleItemColorDisabled:"rgba(0,0,0,0.25)",multipleItemHeight:24,multipleItemHeightLG:32,multipleItemHeightSM:16,multipleSelectorBgDisabled:"rgba(0,0,0,0.04)",optionActiveBg:"red",optionFontSize:14,optionHeight:32,optionLineHeight:1.5714285714285714,optionPadding:"5px 12px",optionSelectedBg:"red",optionSelectedColor:M,optionSelectedFontWeight:600,selectorBg:ie,showArrowPaddingInlineEnd:18,singleItemHeightLG:40,zIndexPopup:1060,colorBgBase:ie,colorBgContainer:ie,colorBgContainerDisabled:"#fff",colorBgElevated:ie,colorBorder:Z,colorError:nt,colorErrorBg:"#fff",colorErrorBgHover:"#fff",colorErrorHover:nt,colorErrorOutline:nt,colorFillSecondary:Z,colorFillTertiary:Z,colorIcon:"#fff",colorIconHover:"#fff",colorPrimary:M,colorSplit:Z,colorText:We,controlHeight:52,lineWidth:3,colorTextPlaceholder:We},wr={handleShadow:"0 2px 2px 0 rgba(0, 35, 11, 0.2)",handleSize:22,innerMaxMargin:2,trackHeight:32,trackPadding:4,colorPrimary:we,colorPrimaryBorder:we,colorPrimaryHover:we+"d8"},yr={colorLink:Dt,colorLinkActive:M,colorLinkHover:Dt+"d8"};const $r=({error:i})=>n.jsxs("div",{children:[n.jsx("p",{children:"Произошла необработанная ошибка:"}),n.jsx("blockquote",{children:n.jsx("code",{children:i instanceof Error?i.message:typeof i=="string"?i:JSON.stringify(i)})})]}),ft="cyan",vr=()=>{var r;const i=Re(),e=(r=i==null?void 0:i.initData)==null?void 0:r.startParam;console.log("%cЗапуск приложения",`color: ${ft}`),console.log(`%cДля запуска приложения в режиме отладки запустите бот с параметром: ?startapp=debug

    https://t.me/{botusername}/{appname}?startapp=debug`,`color: ${ft}`),console.log("%cПараметры запуска: %o",`color: ${ft}`,i);const t=(e==null?void 0:e.includes("debug"))||e==="debug";console.log("%cРежим отладки: %o",`color: ${ft}`,t);const o=x.useMemo(()=>new URL("tonconnect-manifest.json",window.location.href).toString(),[]);return x.useEffect(()=>{},[t]),n.jsx($s,{manifestUrl:o,children:n.jsx(vs,{theme:{token:ur,components:{Button:gr,Input:mr,Select:br,Divider:pr,List:xr,Typography:yr,Switch:wr,InputNumber:fr}},children:n.jsx(dr,{})})})},Cr=()=>n.jsx(Po,{fallback:$r,children:n.jsx(vr,{})});Cs.createRoot(document.getElementById("root")).render(n.jsx(Cr,{}));
